/*! For license information please see main.6150cce8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,N=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,s)&&!_.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,x(a)?(s="",null!=e&&(s=e.replace(k,"$&/")+"/"),j(a,t,s,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+T(o=e[c],c);l+=j(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,s,u=i+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return j(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(N);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var i=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!j());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(x,h.startTime-n),l=!1}return l}finally{d=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,C=null,S=-1,k=5,T=-1;function j(){return!(t.unstable_now()-T<k)}function I(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?E():(_=!1,C=null)}}else _=!1}if("function"===typeof b)E=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=I,E=function(){R.postMessage(null)}}else E=function(){v(I,0)};function D(e){C=e,_||(_=!0,E())}function P(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,P(x,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(N))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var O,F=Object.assign;function M(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ki){var r=Ki}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ki){r=Ki}e.call(t.prototype)}else{try{throw Error()}catch(Ki){r=Ki}e()}}catch(Ki){if(Ki&&r&&"string"===typeof Ki.stack){for(var s=Ki.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case N:return"Portal";case C:return"Profiler";case _:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(uu){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ee=null,_e=null;function Ce(e){if(e=bs(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=xs(t),Ne(e.stateNode,e.type,t))}}function Se(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function ke(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ee||null!==_e)&&(je(),ke())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Le(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Fe=null,Me=!1,Ue=null,Ve={onError:function(e){Oe=!0,Fe=e}};function ze(e,t,n,r,s,i,a,o,l){Oe=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(i(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qe(s),e;if(a===r)return qe(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Qe=s.unstable_shouldYield,Je=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=ht(o):0!==(i&=a)&&(r=ht(i))}else 0!==(a=n&~s)?r=ht(a):0!==i&&(r=ht(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Nt,Et,_t,Ct,St=!1,kt=[],Tt=null,jt=null,It=null,At=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=ys(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){St=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==jt&&Mt(jt)&&(jt=null),null!==It&&Mt(It)&&(It=null),At.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==jt&&zt(jt,e),null!==It&&zt(It,e),At.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var $t=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var s=bt,i=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=s,$t.transition=i}}function Wt(e,t,n,r){var s=bt,i=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=s,$t.transition=i}}function Kt(e,t,n,r){if(qt){var s=Qt(e,t,n,r);if(null===s)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,s),!0;case"dragenter":return jt=Ot(jt,e,t,n,r,s),!0;case"mouseover":return It=Ot(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return At.set(i,Ot(At.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rt.set(i,Ot(Rt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==s;){var i=bs(s);if(null!==i&&xt(i),null===(i=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=ys(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return _n}var Sn=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Sn),Tn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(An),Dn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var On=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Pn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Qn(e){if(K(ws(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ir(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},_r={};function Cr(e){if(Er[e])return Er[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Sr=Cr("animationend"),kr=Cr("animationiteration"),Tr=Cr("animationstart"),jr=Cr("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Pr=Ar[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(kr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(i(198));var u=Fe;Oe=!1,Fe=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Fr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Fr(s,o,c),i=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Jt(t)){case 1:var s=Ht;break;case 4:s=Wt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=ys(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=i,s=xe(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Sr:case kr:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:ws(l),f=null==c?o:ws(c),(o=new u(m,p+"leave",l,n,s)).target=h,o.relatedTarget=f,m=null,ys(s)===r&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==h&&Gr(a,h,c,u,!0)}if("select"===(l=(o=r?ws(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Yn)g=ar;else{g=sr;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ws(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,s)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,s),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=y))}Mr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Re(e,n))&&r.unshift(Hr(e,i,s)),null!=(i=Re(e,t))&&r.push(Hr(e,i,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,i))&&a.unshift(Hr(n,l,o)):s||null!=(l=Re(n,i))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,fs="__reactProps$"+hs,ps="__reactContainer$"+hs,ms="__reactEvents$"+hs,gs="__reactListeners$"+hs,vs="__reactHandles$"+hs;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[ds])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ds]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xs(e){return e[fs]||null}var Ns=[],Es=-1;function _s(e){return{current:e}}function Cs(e){0>Es||(e.current=Ns[Es],Ns[Es]=null,Es--)}function Ss(e,t){Es++,Ns[Es]=e.current,e.current=t}var ks={},Ts=_s(ks),js=_s(!1),Is=ks;function As(e,t){var n=e.type.contextTypes;if(!n)return ks;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Cs(js),Cs(Ts)}function Ps(e,t,n){if(Ts.current!==ks)throw Error(i(168));Ss(Ts,t),Ss(js,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,$(e)||"Unknown",s));return F({},n,r)}function Os(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,Is=Ts.current,Ss(Ts,e),Ss(js,js.current),!0}function Fs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ls(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Cs(js),Cs(Ts),Ss(Ts,e)):Cs(js),Ss(js,n)}var Ms=null,Us=!1,Vs=!1;function zs(e){null===Ms?Ms=[e]:Ms.push(e)}function Bs(){if(!Vs&&null!==Ms){Vs=!0;var e=0,t=bt;try{var n=Ms;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ms=null,Us=!1}catch(s){throw null!==Ms&&(Ms=Ms.slice(e+1)),Ke(Ze,Bs),s}finally{bt=t,Vs=!1}}return null}var $s=[],qs=0,Hs=null,Ws=0,Ks=[],Gs=0,Qs=null,Js=1,Ys="";function Xs(e,t){$s[qs++]=Ws,$s[qs++]=Hs,Hs=e,Ws=t}function Zs(e,t,n){Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=Qs,Qs=e;var r=Js;e=Ys;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Js=1<<32-at(t)+s|n<<s|r,Ys=i+e}else Js=1<<i|n<<s|r,Ys=e}function ei(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ti(e){for(;e===Hs;)Hs=$s[--qs],$s[qs]=null,Ws=$s[--qs],$s[qs]=null;for(;e===Qs;)Qs=Ks[--Gs],Ks[Gs]=null,Ys=Ks[--Gs],Ks[Gs]=null,Js=Ks[--Gs],Ks[Gs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qs?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function hi(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case N:return(t=$c(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Vc(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:h(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,s,null);vi(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,h=i,m=i=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(s,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(s,h),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(s,h),si&&Xs(s,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(s,o[m],l))&&(i=a(h,i,m),null===u?c=h:u.sibling=h,u=h);return si&&Xs(s,m),c}for(h=r(s,h);m<o.length;m++)null!==(g=p(h,s,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(s,e)})),si&&Xs(s,m),c}function g(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(s,m),si&&Xs(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(s,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return si&&Xs(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(s,e)})),si&&Xs(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&yi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((i=Vc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Uc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(a,r.mode,l)).return=r,r=i}return o(r);case R:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(L(a))return g(r,i,a,l);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Bc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var wi=bi(!0),xi=bi(!1),Ni=_s(null),Ei=null,_i=null,Ci=null;function Si(){Ci=_i=Ei=null}function ki(e){var t=Ni.current;Cs(Ni),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){Ei=e,Ci=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Eo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===Ei)throw Error(i(308));_i=e,Ei.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ai=null;function Ri(e){null===Ai?Ai=[e]:Ai.push(e)}function Di(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ri(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Dl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Pi(e,n)}return null===(s=r.interleaved)?(t.next=t,Ri(r)):(t.next=s.next,s.next=t),r.interleaved=t,Pi(e,n)}function Vi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var s=e.updateQueue;Li=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(a=0,u=c=l=null,o=i;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Li=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Hi={},Wi=_s(Hi),Gi=_s(Hi),Qi=_s(Hi);function Ji(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Ss(Qi,t),Ss(Gi,e),Ss(Wi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Wi),Ss(Wi,t)}function Xi(){Cs(Wi),Cs(Gi),Cs(Qi)}function Zi(e){Ji(Qi.current);var t=Ji(Wi.current),n=le(t,e.type);t!==n&&(Ss(Gi,e),Ss(Wi,n))}function ea(e){Gi.current===e&&(Cs(Wi),Cs(Gi))}var ta=_s(0);function ra(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function ia(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var oa=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,ca=0,ua=null,ha=null,da=null,fa=!1,pa=!1,ma=0,ga=0;function va(){throw Error(i(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ba(e,t,n,r,s,a){if(ca=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?no:ro,e=n(r,s),pa){a=0;do{if(pa=!1,ma=0,25<=a)throw Error(i(301));a+=1,da=ha=null,t.updateQueue=null,oa.current=so,e=n(r,s)}while(pa)}if(oa.current=to,t=null!==ha&&null!==ha.next,ca=0,da=ha=ua=null,fa=!1,t)throw Error(i(300));return e}function wa(){var e=0!==ma;return ma=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===da?ua.memoizedState=da=e:da=da.next=e,da}function Na(){if(null===ha){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ha.next;var t=null===da?ua.memoizedState:da.next;if(null!==t)da=t,ha=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ha=e).memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},null===da?ua.memoizedState=da=e:da=da.next=e}return da}function Ea(e,t){return"function"===typeof t?t(e):t}function _a(e){var t=Na(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ha,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ca&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,ua.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(Eo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,ua.lanes|=a,zl|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=Na(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(Eo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(e,t){var n=ua,r=Na(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,Eo=!0),r=r.queue,Ua(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==da&&1&da.memoizedState.tag){if(n.flags|=2048,Pa(9,ja.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&ca)||Ta(n,t,s)}return s}function Ta(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ra(e)}function Ia(e,t,n){return n((function(){Aa(t)&&Ra(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ra(e){var t=Pi(e,1);null!==t&&oc(t,e,1,-1)}function Da(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,ua,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return Na().memoizedState}function Oa(e,t,n,r){var s=xa();ua.flags|=e,s.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var s=Na();r=void 0===r?null:r;var i=void 0;if(null!==ha){var a=ha.memoizedState;if(i=a.destroy,null!==r&&ya(r,a.deps))return void(s.memoizedState=Pa(t,n,i,r))}ua.flags|=e,s.memoizedState=Pa(1|t,n,i,r)}function Ma(e,t){return Oa(8390656,8,e,t)}function Ua(e,t){return Fa(2048,8,e,t)}function Va(e,t){return Fa(4,2,e,t)}function za(e,t){return Fa(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ba.bind(null,t,e),n)}function qa(){}function Ha(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ka(e,t,n){return 0===(21&ca)?(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ua.lanes|=n,zl|=n,e.baseState=!0),t)}function Ga(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{bt=n,la.transition=r}}function Qa(){return Na().memoizedState}function Ja(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Za(t,n);else if(null!==(n=Di(e,t,n,r))){oc(n,e,r,ic()),eo(n,t,r)}}function Ya(e,t,n){var r=ac(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Za(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ri(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(Ki){}null!==(n=Di(e,t,s,r))&&(oc(n,e,r,s=ic()),eo(n,t,r))}}function Xa(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function Za(e,t){pa=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var to={readContext:Ii,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},no={readContext:Ii,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Da,useDebugValue:qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Ga.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,s=xa();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&ca)||Ta(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ma(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Pl.identifierPrefix;if(si){var n=Ys;t=":"+t+"R"+(n=(Js&~(1<<32-at(Js)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ro={readContext:Ii,useCallback:Ha,useContext:Ii,useEffect:Ua,useImperativeHandle:$a,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Wa,useReducer:_a,useRef:La,useState:function(){return _a(Ea)},useDebugValue:qa,useDeferredValue:function(e){return Ka(Na(),ha.memoizedState,e)},useTransition:function(){return[_a(Ea)[0],Na().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Qa,unstable_isNewReconciler:!1},so={readContext:Ii,useCallback:Ha,useContext:Ii,useEffect:Ua,useImperativeHandle:$a,useInsertionEffect:Va,useLayoutEffect:za,useMemo:Wa,useReducer:Ca,useRef:La,useState:function(){return Ca(Ea)},useDebugValue:qa,useDeferredValue:function(e){var t=Na();return null===ha?t.memoizedState=e:Ka(t,ha.memoizedState,e)},useTransition:function(){return[Ca(Ea)[0],Na().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Qa,unstable_isNewReconciler:!1};function io(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ao(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ic(),s=ac(e),i=Mi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(oc(t,e,s,r),Vi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ic(),s=ac(e),i=Mi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,s))&&(oc(t,e,s,r),Vi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ic(),r=ac(e),s=Mi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ui(e,s,r))&&(oc(t,e,r,n),Vi(t,e,r))}};function lo(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function co(e,t,n){var r=!1,s=ks,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(s=Rs(t)?Is:Ts.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?As(e,s):ks),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function ho(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Oi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ii(i):(i=Rs(t)?Is:Ts.current,s.context=As(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ao(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&oo.enqueueReplaceState(s,s.state,null),Bi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function fo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function po(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var go="function"===typeof WeakMap?WeakMap:Map;function vo(e,t,n){(n=Mi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Jl=r),mo(0,t)},n}function yo(e,t,n){(n=Mi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new go;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function wo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var No=w.ReactCurrentOwner,Eo=!1;function _o(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function Co(e,t,n,r,s){n=n.render;var i=t.ref;return ji(t,s),r=ba(e,t,n,r,i,s),n=wa(),null===e||Eo?(si&&n&&ei(t),t.flags|=1,_o(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qo(e,t,s))}function So(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Fc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ko(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Qo(e,t,s)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Qo(e,t,s);0!==(131072&e.flags)&&(Eo=!0)}}return Ao(e,t,n,r,s)}function To(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Ml,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Ml,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ss(Ml,Fl),Fl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ss(Ml,Fl),Fl|=r;return _o(e,t,s,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,s){var i=Rs(n)?Is:Ts.current;return i=As(t,i),ji(t,s),n=ba(e,t,n,r,i,s),r=wa(),null===e||Eo?(si&&r&&ei(t),t.flags|=1,_o(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qo(e,t,s))}function Ro(e,t,n,r,s){if(Rs(n)){var i=!0;Os(t)}else i=!1;if(ji(t,s),null===t.stateNode)Go(e,t),co(t,n,r),ho(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=As(t,c=Rs(n)?Is:Ts.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&uo(t,a,r,c),Li=!1;var d=t.memoizedState;a.state=d,Bi(t,r,a,s),l=t.memoizedState,o!==r||d!==l||js.current||Li?("function"===typeof u&&(ao(t,n,u,r),l=t.memoizedState),(o=Li||lo(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:io(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=As(t,l=Rs(n)?Is:Ts.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&uo(t,a,r,l),Li=!1,d=t.memoizedState,a.state=d,Bi(t,r,a,s);var p=t.memoizedState;o!==h||d!==p||js.current||Li?("function"===typeof f&&(ao(t,n,f,r),p=t.memoizedState),(c=Li||lo(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Do(e,t,n,r,i,s)}function Do(e,t,n,r,s,i){jo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Fs(t,n,!1),Qo(e,t,i);r=t.stateNode,No.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):_o(e,t,o,i),t.memoizedState=r.state,s&&Fs(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ps(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ps(0,t.context,!1),Yi(e,t.containerInfo)}function Lo(e,t,n,r,s){return fi(),pi(s),t.flags|=256,_o(e,t,n,r),t.child}var Oo,Fo,Mo,Uo,Vo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,s=t.pendingProps,a=ta.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ss(ta,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zc(l,s,0,null),e=Vc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Vo,e):$o(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,r=po(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=zc({mode:"visible",children:r.children},s,0,null),(a=Vc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Vo,a);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,qo(e,t,o,r=po(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),Eo||l){if(null!==(r=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Pi(e,s),oc(r,e,s,-1))}return wc(),qo(e,t,o,r=po(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ks[Gs++]=Js,Ks[Gs++]=Ys,Ks[Gs++]=Qs,Js=e.id,Ys=e.overflow,Qs=t),t=$o(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Mc(r,o):(o=Vc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Vo,s}return e=(o=e.child).sibling,s=Mc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function $o(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ho(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Wo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ko(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ho(e,n,t);else if(19===e.tag)Ho(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ra(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ra(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wo(t,!0,n,null,i);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Rs(t.type)&&Ds(),Yo(t),null;case 3:return r=t.stateNode,Xi(),Cs(js),Cs(Ts),ia(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(hc(ii),ii=null))),Fo(e,t),Yo(t),null;case 5:ea(t);var s=Ji(Qi.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Yo(t),null}if(e=Ji(Wi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ds]=t,r[fs]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Ur(Lr[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":se(r,a),Ur("invalid",r)}for(var l in ye(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[fs]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Ur(Lr[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":J(e,r),s=Q(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(a in ye(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Uo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji(Qi.current),Ji(Wi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Yo(t),null;case 13:if(Cs(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),fi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ds]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),a=!1}else null!==ii&&(hc(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Ul&&(Ul=3):wc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Xi(),Fo(e,t),null===e&&Br(t.stateNode.containerInfo),Yo(t),null;case 10:return ki(t.type._context),Yo(t),null;case 19:if(Cs(ta),null===(a=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Jo(a,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ra(e))){for(t.flags|=128,Jo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Kl&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ra(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Jo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Yo(t),null}else 2*Ye()-a.renderingStartTime>Kl&&1073741824!==n&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ta.current,Ss(ta,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Zo(e,t){switch(ti(t),t.tag){case 1:return Rs(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Cs(js),Cs(Ts),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Cs(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(ta),null;case 4:return Xi(),null;case 10:return ki(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fo=function(){},Mo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ji(Wi.current);var i,a=null;switch(n){case"input":s=Q(e,s),r=Q(e,r),a=[];break;case"select":s=F({},s,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function sl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function il(e,t,n){try{n()}catch(r){jc(e,t,r)}}var al=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&il(t,n,i)}s=s.next}while(s!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[fs],delete t[ms],delete t[gs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function dl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function vl(e,t,n){for(n=n.child;null!==n;)yl(e,t,n),n=n.sibling}function yl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:tl||sl(n,t);case 6:var r=ml,s=gl;ml=null,vl(e,t,n),gl=s,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Bt(e)):ls(ml,n.stateNode));break;case 4:r=ml,s=gl,ml=n.stateNode.containerInfo,gl=!0,vl(e,t,n),ml=r,gl=s;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&il(n,t,a),s=s.next}while(s!==r)}vl(e,t,n);break;case 1:if(!tl&&(sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,vl(e,t,n),tl=r):vl(e,t,n);break;default:vl(e,t,n)}}function bl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach((function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(i(160));yl(a,o,s),ml=null,gl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(Ki){jc(s,t,Ki)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),Nl(e),4&r){try{ol(3,e,e.return),ll(3,e)}catch(g){jc(e,e.return,g)}try{ol(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:wl(t,e),Nl(e),512&r&&null!==n&&sl(n,n.return);break;case 5:if(wl(t,e),Nl(e),512&r&&null!==n&&sl(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(s,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):b(s,h,d,u)}switch(l){case"input":X(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(g){jc(e,e.return,g)}}break;case 6:if(wl(t,e),Nl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){jc(e,e.return,g)}}break;case 3:if(wl(t,e),Nl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:wl(t,e),Nl(e);break;case 13:wl(t,e),Nl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Wl=Ye())),4&r&&bl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(u=tl)||h,wl(t,e),tl=u):wl(t,e),Nl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(d=rl=h;null!==rl;){switch(p=(f=rl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:sl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:sl(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,rl=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),Nl(e),4&r&&bl(e);case 21:}}function Nl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),pl(e,dl(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;fl(e,dl(e),a);break;default:throw Error(i(161))}}catch($i){jc(e,e.return,$i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function El(e,t,n){rl=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var s=rl,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||el;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||tl;o=el;var c=tl;if(el=a,(tl=l)&&!c)for(rl=s;null!==rl;)l=(a=rl).child,22===a.tag&&null!==a.memoizedState?kl(s):null!==l?(l.return=a,rl=l):kl(s);for(;null!==i;)rl=i,_l(i,t,n),i=i.sibling;rl=s,el=o,tl=c}Cl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,rl=i):Cl(e)}}function Cl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:io(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&qi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(i(163))}tl||512&t.flags&&cl(t)}catch(na){jc(t,t.return,na)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Sl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function kl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch($i){jc(t,n,$i)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch($i){jc(t,s,$i)}}var i=t.return;try{cl(t)}catch($i){jc(t,i,$i)}break;case 5:var a=t.return;try{cl(t)}catch($i){jc(t,a,$i)}}}catch($i){jc(t,t.return,$i)}if(t===e){rl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,rl=o;break}rl=t.return}}var Tl,jl=Math.ceil,Il=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Dl=0,Pl=null,Ll=null,Ol=0,Fl=0,Ml=_s(0),Ul=0,Vl=null,zl=0,Bl=0,$l=0,ql=null,Hl=null,Wl=0,Kl=1/0,Gl=null,Ql=!1,Jl=null,Yl=null,Xl=!1,Zl=null,ec=0,tc=0,nc=null,rc=-1,sc=0;function ic(){return 0!==(6&Dl)?Ye():-1!==rc?rc:rc=Ye()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Dl)&&0!==Ol?Ol&-Ol:null!==mi.transition?(0===sc&&(sc=mt()),sc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function oc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(i(185));vt(e,n,r),0!==(2&Dl)&&e===Pl||(e===Pl&&(0===(2&Dl)&&(Bl|=n),4===Ul&&dc(e,Ol)),lc(e,r),1===n&&0===Dl&&0===(1&t.mode)&&(Kl=Ye()+500,Us&&Bs()))}function lc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Pl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Us=!0,zs(e)}(fc.bind(null,e)):zs(fc.bind(null,e)),as((function(){0===(6&Dl)&&Bs()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,sc=0,0!==(6&Dl))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var s=Dl;Dl|=2;var a=bc();for(Pl===e&&Ol===t||(Gl=null,Kl=Ye()+500,vc(e,t));;)try{Ec();break}catch(l){yc(e,l)}Si(),Il.current=a,Dl=s,null!==Ll?t=0:(Pl=null,Ol=0,t=Ul)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=uc(e,s))),1===t)throw n=Vl,vc(e,0),dc(e,r),lc(e,Ye()),n;if(6===t)dc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=xc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Vl,vc(e,0),dc(e,r),lc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Sc(e,Hl,Gl);break;case 3:if(dc(e,r),(130023424&r)===r&&10<(t=Wl+500-Ye())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ic(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(Sc.bind(null,e,Hl,Gl),t);break}Sc(e,Hl,Gl);break;case 4:if(dc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=rs(Sc.bind(null,e,Hl,Gl),r);break}Sc(e,Hl,Gl);break;default:throw Error(i(329))}}}return lc(e,Ye()),e.callbackNode===n?cc.bind(null,e):null}function uc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(vc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Hl,Hl=n,null!==t&&hc(t)),e}function hc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function dc(e,t){for(t&=~$l,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function fc(e){if(0!==(6&Dl))throw Error(i(327));kc();var t=dt(e,0);if(0===(1&t))return lc(e,Ye()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Vl,vc(e,0),dc(e,t),lc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Hl,Gl),lc(e,Ye()),null}function pc(e,t){var n=Dl;Dl|=1;try{return e(t)}finally{0===(Dl=n)&&(Kl=Ye()+500,Us&&Bs())}}function mc(e){null!==Zl&&0===Zl.tag&&0===(6&Dl)&&kc();var t=Dl;Dl|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Dl=t))&&Bs()}}function gc(){Fl=Ml.current,Cs(Ml)}function vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:Xi(),Cs(js),Cs(Ts),ia();break;case 5:ea(r);break;case 4:Xi();break;case 13:case 19:Cs(ta);break;case 10:ki(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Pl=e,Ll=e=Mc(e.current,null),Ol=Fl=t,Ul=0,Vl=null,$l=Bl=zl=0,Hl=ql=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ai=null}return e}function yc(e,t){for(;;){var n=Ll;try{if(Si(),oa.current=to,fa){for(var r=ua.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}fa=!1}if(ca=0,da=ha=ua=null,pa=!1,ma=0,Al.current=null,null===n||null===n.return){Ul=1,Vl=t,Ll=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=wo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&bo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){bo(a,u,t),wc();break e}c=Error(i(426))}else if(si&&1&l.mode){var v=wo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xo(v,o,l,0,t),pi(fo(c,l));break e}}a=c=fo(c,l),4!==Ul&&(Ul=2),null===ql?ql=[a]:ql.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,vo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,yo(a,l,t));break e}}a=a.return}while(null!==a)}Cc(n)}catch(aa){t=aa,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function bc(){var e=Il.current;return Il.current=to,null===e?to:e}function wc(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Pl||0===(268435455&zl)&&0===(268435455&Bl)||dc(Pl,Ol)}function xc(e,t){var n=Dl;Dl|=2;var r=bc();for(Pl===e&&Ol===t||(Gl=null,vc(e,t));;)try{Nc();break}catch(s){yc(e,s)}if(Si(),Dl=n,Il.current=r,null!==Ll)throw Error(i(261));return Pl=null,Ol=0,Ul}function Nc(){for(;null!==Ll;)_c(Ll)}function Ec(){for(;null!==Ll&&!Qe();)_c(Ll)}function _c(e){var t=Tl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Cc(e):Ll=t,Al.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Fl)))return void(Ll=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Ul=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Ul&&(Ul=5)}function Sc(e,t,n){var r=bt,s=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Zl);if(0!==(6&Dl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Pl&&(Ll=Pl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Pc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Rl.transition,Rl.transition=null;var o=bt;bt=1;var l=Dl;Dl|=4,Al.current=null,function(e,t){if(es=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Io){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},qt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:io(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(Io){jc(t,t.return,Io)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=al,al=!1}(e,n),xl(n,e),pr(ts),qt=!!es,ts=es=null,e.current=n,El(n,e,s),Je(),Dl=l,bt=o,Rl.transition=a}else e.current=n;if(Xl&&(Xl=!1,Zl=e,ec=s),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ql)throw Ql=!1,e=Jl,Jl=null,e;0!==(1&ec)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Bs()}(e,t,n,r)}finally{Rl.transition=s,bt=r}return null}function kc(){if(null!==Zl){var e=wt(ec),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,ec=0,0!==(6&Dl))throw Error(i(331));var s=Dl;for(Dl|=4,rl=e.current;null!==rl;){var a=rl,o=a.child;if(0!==(16&rl.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(rl=u;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:ol(8,h,a)}var d=h.child;if(null!==d)d.return=h,rl=d;else for(;null!==rl;){var f=(h=rl).sibling,p=h.return;if(ul(h),h===u){rl=null;break}if(null!==f){f.return=p,rl=f;break}rl=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}rl=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,rl=o;else e:for(;null!==rl;){if(0!==(2048&(a=rl).flags))switch(a.tag){case 0:case 11:case 15:ol(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,rl=y;break e}rl=a.return}}var b=e.current;for(rl=b;null!==rl;){var w=(o=rl).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,rl=w;else e:for(o=b;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(aa){jc(l,l.return,aa)}if(l===o){rl=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,rl=x;break e}rl=l.return}}if(Dl=s,Bs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(aa){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Tc(e,t,n){e=Ui(e,t=vo(0,t=fo(n,t),1),1),t=ic(),null!==e&&(vt(e,1,t),lc(e,t))}function jc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Ui(t,e=yo(t,e=fo(n,e),1),1),e=ic(),null!==t&&(vt(t,1,e),lc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ic(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===Ul||3===Ul&&(130023424&Ol)===Ol&&500>Ye()-Wl?vc(e,0):$l|=n),lc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ic();null!==(e=Pi(e,t))&&(vt(e,t,n),lc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ac(e,n)}function Pc(e,t){return Ke(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Lc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Vc(n.children,s,a,t);case _:o=8,s|=8;break;case C:return(e=Oc(12,n,t,2|s)).elementType=C,e.lanes=a,e;case j:return(e=Oc(13,n,t,s)).elementType=j,e.lanes=a,e;case I:return(e=Oc(19,n,t,s)).elementType=I,e.lanes=a,e;case D:return zc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case k:o=9;break e;case T:o=11;break e;case A:o=14;break e;case R:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Vc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,s,i,a,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oi(i),e}function Wc(e){if(!e)return ks;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Ls(e,n,t)}return t}function Kc(e,t,n,r,s,i,a,o,l){return(e=Hc(n,r,!0,e,0,i,0,o,l)).context=Wc(null),n=e.current,(i=Mi(r=ic(),s=ac(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,s),e.current.lanes=s,vt(e,s,r),lc(e,r),e}function Gc(e,t,n,r){var s=t.current,i=ic(),a=ac(s);return n=Wc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(s,t,a))&&(oc(e,s,a,i),Vi(e,s,a)),a}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||js.current)Eo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fi();break;case 5:Zi(t);break;case 1:Rs(t.type)&&Os(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(Ni,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Ss(ta,1&ta.current),null!==(e=Qo(e,t,n))?e.sibling:null);Ss(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Qo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,si&&0!==(1048576&t.flags)&&Zs(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var s=As(t,Ts.current);ji(t,n),s=ba(null,t,r,e,s,n);var a=wa();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(a=!0,Os(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Oi(t),s.updater=oo,t.stateNode=s,s._reactInternals=t,ho(t,r,e,n),t=Do(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),_o(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=io(r,e),s){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=Co(null,t,r,e,n);break e;case 14:t=So(null,t,r,io(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ao(e,t,r,s=t.elementType===r?s:io(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ro(e,t,r,s=t.elementType===r?s:io(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Fi(e,t),Bi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Lo(e,t,r,n,s=fo(Error(i(423)),t));break e}if(r!==s){t=Lo(e,t,r,n,s=fo(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=Qo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),jo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Bo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:io(r,s),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ss(Ni,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!js.current){t=Qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Mi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ti(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ji(t,n),r=r(s=Ii(s)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return s=io(r=t.type,t.pendingProps),So(e,t,r,s=io(r.type,s),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:io(r,s),Go(e,t),t.tag=1,Rs(r)?(e=!0,Os(t)):e=!1,ji(t,n),co(t,r,s),ho(t,r,s,n),Do(null,t,r,!0,e,n);case 19:return Ko(e,t,n);case 22:return To(e,t,n)}throw Error(i(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function eu(e){this._internalRoot=e}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(){}function su(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Qc(a);o.call(e)}}Gc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Qc(a);i.call(e)}}var a=Kc(t,r,e,0,null,!1,0,"",ru);return e._reactRootContainer=a,e[ps]=a.current,Br(8===e.nodeType?e.parentNode:e),mc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Qc(l);o.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",ru);return e._reactRootContainer=l,e[ps]=l.current,Br(8===e.nodeType?e.parentNode:e),mc((function(){Gc(t,l,n,r)})),l}(n,t,e,s,r);return Qc(a)}eu.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Gc(e,t,null,null)},eu.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc((function(){Gc(null,e,null,null)})),t[ps]=null}},eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),lc(t,Ye()),0===(6&Dl)&&(Kl=Ye()+500,Bs()))}break;case 13:mc((function(){var t=Pi(e,1);if(null!==t){var n=ic();oc(t,e,1,n)}})),Yc(e,1)}},Nt=function(e){if(13===e.tag){var t=Pi(e,134217728);if(null!==t)oc(t,e,134217728,ic());Yc(e,134217728)}},Et=function(e){if(13===e.tag){var t=ac(e),n=Pi(e,t);if(null!==n)oc(n,e,t,ic());Yc(e,t)}},_t=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(i(90));K(r),X(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=pc,je=mc;var iu={usingClientEntryPoint:!1,Events:[bs,ws,xs,Se,ke,pc]},au={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ou={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{st=lu.inject(ou),it=lu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tu(e))throw Error(i(299));var n=!1,r="",s=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Br(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!nu(t))throw Error(i(200));return su(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Kc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new eu(t)},t.render=function(e,t,n){if(!nu(t))throw Error(i(200));return su(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(i(40));return!!e._reactRootContainer&&(mc((function(){su(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return su(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,s=n(43),i=n.t(s,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(i,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),d=e,()=>{i.removeEventListener(u,y),d=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(w.location,e,t);n&&n(s,e),g=v()+1;let c=f(s,g),u=w.createHref(s);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(w.location,e,t);n&&n(s,e),g=v();let i=f(s,g),c=w.createHref(s);o.replaceState(i,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=D(s);a=A(i[o],e,r)}return a}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))s(e,t,r);else s(e,t)})),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=N(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const E=/^:[\w-]+$/,_=3,C=2,S=1,k=10,T=-2,j=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=T),t&&(r+=C),n.filter((e=>!j(e))).reduce(((e,t)=>e+(E.test(t)?_:""===t?S:k)),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:U([i,u.pathname]),pathnameBase:V(U([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return a}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=O(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),h(!s.pathname||!s.pathname.includes("?"),L("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),L("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),L("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:z(r),hash:B(s)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=s.createContext(null);const G=s.createContext(null);const Q=s.createContext(null);const J=s.createContext(null);const Y=s.createContext({outlet:null,matches:[],isDataRoute:!1});const X=s.createContext(null);function Z(){return null!=s.useContext(J)}function ee(){return Z()||h(!1),s.useContext(J).location}function te(e){s.useContext(Q).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(Y);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=ge(fe.UseNavigateStable),n=s.useRef(!1);te((()=>{n.current=!0}));let r=s.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},s)))}),[e,t]);return r}():function(){Z()||h(!1);let e=s.useContext(K),{basename:t,future:n,navigator:r}=s.useContext(Q),{matches:i}=s.useContext(Y),{pathname:a}=ee(),o=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=s.useRef(!1);te((()=>{l.current=!0}));let c=s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=M(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:U([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)}),[t,r,o,a,e]);return c}()}const re=s.createContext(null);function se(){let{matches:e}=s.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Q),{matches:i}=s.useContext(Y),{pathname:a}=ee(),o=JSON.stringify(F(i,r.v7_relativeSplatPath));return s.useMemo((()=>M(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function ae(e,t,n,i){Z()||h(!1);let{navigator:a,static:o}=s.useContext(Q),{matches:l}=s.useContext(Y),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ee();if(t){var m;let e="string"===typeof t?g(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||h(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!o&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:y});let x=he(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:U([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,i);return t&&x?s.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:r.Pop}},x):x}function oe(){let e=function(){var e;let t=s.useContext(X),n=me(fe.UseRouteError),r=ge(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const le=s.createElement(oe,null);class ce extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Y.Provider,{value:this.props.routeContext},s.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(K);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Y.Provider,{value:t},r)}function he(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||le,c&&(u<0&&0===i?(p="route-fallback",!1||ve[p]||(ve[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?d:h?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ue,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(ce,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function pe(e){let t=s.useContext(K);return t||h(!1),t}function me(e){let t=s.useContext(G);return t||h(!1),t}function ge(e){let t=function(){let e=s.useContext(Y);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ve={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function be(e){let{to:t,replace:n,state:r,relative:i}=e;Z()||h(!1);let{future:a,static:o}=s.useContext(Q),{matches:l}=s.useContext(Y),{pathname:c}=ee(),u=ne(),d=M(t,F(l,a.v7_relativeSplatPath),c,"path"===i),f=JSON.stringify(d);return s.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:i})),[u,f,i,n,r]),null}function we(e){return function(e){let t=s.useContext(Y).outlet;return t?s.createElement(re.Provider,{value:e},t):t}(e.context)}function xe(e){h(!1)}function Ne(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo((()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=i,b=s.useMemo((()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}}),[u,f,p,m,v,y,a]);return null==b?null:s.createElement(Q.Provider,{value:d},s.createElement(J.Provider,{children:n,value:b}))}function Ee(e){let{children:t,location:n}=e;return ae(_e(t),n)}new Promise((()=>{}));s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==xe&&h(!1),e.props.index&&e.props.children&&h(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=_e(e.props.children,i)),n.push(a)})),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Te=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(kw){}const je=s.createContext({isTransitioning:!1});new Map;const Ie=i.startTransition;l.flushSync,i.useId;function Ae(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),v((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=s.useCallback((e=>{h&&Ie?Ie((()=>u(e))):u(e)}),[u,h]);return s.useLayoutEffect((()=>l.listen(d)),[l,d]),s.useEffect((()=>ye(r)),[r]),s.createElement(Ne,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Re="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=Se(e,ke),{basename:g}=s.useContext(Q),v=!1;if("string"===typeof u&&De.test(u)&&(n=u,Re))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(kw){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||h(!1);let{basename:r,navigator:i}=s.useContext(Q),{hash:a,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:U([r,o])),i.createHref({pathname:c,search:l,hash:a})}(u,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),u=ee(),h=ie(e,{relative:o});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,h,r,i,n,e,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});return s.createElement("a",Ce({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));const Le=s.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=Se(e,Te),f=ie(l,{relative:d.relative}),p=ee(),m=s.useContext(G),{navigator:g,basename:v}=s.useContext(Q),y=null!=m&&function(e,t){void 0===t&&(t={});let n=s.useContext(je);null==n&&h(!1);let{basename:r}=Me(Oe.useViewTransitionState),i=ie(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=R(i.pathname,o)||null!=R(i.pathname,a)}(f)&&!0===c,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&v&&(x=P(x,v)||x);const N="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,_=w===b||!a&&w.startsWith(b)&&"/"===w.charAt(N),C=null!=x&&(x===b||!a&&x.startsWith(b)&&"/"===x.charAt(b.length)),S={isActive:_,isPending:C,isTransitioning:y},k=_?n:void 0;E="function"===typeof i?i(S):[i,_?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(S):o;return s.createElement(Pe,Ce({},d,{"aria-current":k,className:E,ref:t,style:T,to:l,viewTransition:c}),"function"===typeof u?u(S):u)}));var Oe,Fe;function Me(e){let t=s.useContext(K);return t||h(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));const Ue=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ue(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new ze;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(e){return function(e){const t=Ue(e);return Ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$e=function(e){try{return Ve.decodeString(e,!0)}catch(kw){console.error("base64Decode failed: ",kw)}return null};const qe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return qe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(kw){return}const t=e&&$e(e[1]);return t&&JSON.parse(t)})()}catch(kw){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${kw}`)}},We=e=>{var t,n;return null===(n=null===(t=He())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ke=e=>{const t=We(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ge=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config},Qe=e=>{var t;return null===(t=He())||void 0===t?void 0:t[`_${e}`]};class Je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(i)),""].join(".")}function Xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ze(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(kw){return!1}}function et(){try{return"object"===typeof indexedDB}catch(kw){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(rt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",i=`${this.serviceName}: ${s} (${n}).`;return new tt(n,i,t)}}const rt=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(it(n)&&it(i)){if(!st(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function at(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ot(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function lt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ct{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(kw){}})),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(kw){"undefined"!==typeof console&&console.error&&console.error(kw)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ut(){}function ht(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ft="[DEFAULT]";class pt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Je;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(kw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(kw){if(r)return null;throw kw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ft})}catch(kw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(kw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===ft?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft;return this.component?this.component.multipleInstances?e:ft:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class mt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gt=[];var vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vt||(vt={}));const yt={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},bt=vt.INFO,wt={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},xt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...i)};class Nt{constructor(e){this.name=e,this._logLevel=bt,this._logHandler=xt,this._userLogHandler=null,gt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...t),this._logHandler(this,vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...t),this._logHandler(this,vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.INFO,...t),this._logHandler(this,vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.WARN,...t),this._logHandler(this,vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...t),this._logHandler(this,vt.ERROR,...t)}}let Et,_t;const Ct=new WeakMap,St=new WeakMap,kt=new WeakMap,Tt=new WeakMap,jt=new WeakMap;let It={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return St.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function At(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_t||(_t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pt(this),n),Dt(Ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Pt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(Pt(this),t,...r);return kt.set(i,t.sort?t.sort():[t]),Dt(i)}}function Rt(e){return"function"===typeof e?At(e):(e instanceof IDBTransaction&&function(e){if(St.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));St.set(e,t)}(e),t=e,(Et||(Et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,It):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Dt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&Ct.set(t,e)})).catch((()=>{})),jt.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=Rt(e);return t!==e&&(Tt.set(e,t),jt.set(t,e)),t}const Pt=e=>jt.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Ft=new Map;function Mt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ft.get(t))return Ft.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Ot.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Lt.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Ft.set(t,i),i}It=(e=>({...e,get:(t,n,r)=>Mt(t,n)||e.get(t,n,r),has:(t,n)=>!!Mt(t,n)||e.has(t,n)}))(It);class Ut{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Vt="@firebase/app",zt="0.9.13",Bt=new Nt("@firebase/app"),$t="@firebase/app-compat",qt="@firebase/analytics-compat",Ht="@firebase/analytics",Wt="@firebase/app-check-compat",Kt="@firebase/app-check",Gt="@firebase/auth",Qt="@firebase/auth-compat",Jt="@firebase/database",Yt="@firebase/database-compat",Xt="@firebase/functions",Zt="@firebase/functions-compat",en="@firebase/installations",tn="@firebase/installations-compat",nn="@firebase/messaging",rn="@firebase/messaging-compat",sn="@firebase/performance",an="@firebase/performance-compat",on="@firebase/remote-config",ln="@firebase/remote-config-compat",cn="@firebase/storage",un="@firebase/storage-compat",hn="@firebase/firestore",dn="@firebase/firestore-compat",fn="firebase",pn="[DEFAULT]",mn={[Vt]:"fire-core",[$t]:"fire-core-compat",[Ht]:"fire-analytics",[qt]:"fire-analytics-compat",[Kt]:"fire-app-check",[Wt]:"fire-app-check-compat",[Gt]:"fire-auth",[Qt]:"fire-auth-compat",[Jt]:"fire-rtdb",[Yt]:"fire-rtdb-compat",[Xt]:"fire-fn",[Zt]:"fire-fn-compat",[en]:"fire-iid",[tn]:"fire-iid-compat",[nn]:"fire-fcm",[rn]:"fire-fcm-compat",[sn]:"fire-perf",[an]:"fire-perf-compat",[on]:"fire-rc",[ln]:"fire-rc-compat",[cn]:"fire-gcs",[un]:"fire-gcs-compat",[hn]:"fire-fst",[dn]:"fire-fst-compat","fire-js":"fire-js",[fn]:"fire-js-all"},gn=new Map,vn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(kw){Bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,kw)}}function bn(e){const t=e.name;if(vn.has(t))return Bt.debug(`There were multiple attempts to register component ${t}.`),!1;vn.set(t,e);for(const n of gn.values())yn(n,e);return!0}function wn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const xn=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const En="9.23.0";function _n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:pn,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw xn.create("bad-app-name",{appName:String(s)});if(n||(n=Ge()),!n)throw xn.create("no-options");const i=gn.get(s);if(i){if(st(n,i.options)&&st(r,i.config))return i;throw xn.create("duplicate-app",{appName:s})}const a=new mt(s);for(const l of vn.values())a.addComponent(l);const o=new Nn(n,r,a);return gn.set(s,o),o}function Cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;const t=gn.get(e);if(!t&&e===pn&&Ge())return _n();if(!t)throw xn.create("no-app",{appName:e});return t}function Sn(e,t,n){var r;let s=null!==(r=mn[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=[`Unable to register library "${s}" with version "${t}":`];return i&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Bt.warn(e.join(" "))}bn(new dt(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const kn="firebase-heartbeat-store";let Tn=null;function jn(){return Tn||(Tn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Dt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Dt(a.result),e.oldVersion,e.newVersion,Dt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kn)}}).catch((e=>{throw xn.create("idb-open",{originalErrorMessage:e.message})}))),Tn}async function In(e,t){try{const n=(await jn()).transaction(kn,"readwrite"),r=n.objectStore(kn);await r.put(t,An(e)),await n.done}catch(kw){if(kw instanceof tt)Bt.warn(kw.message);else{const t=xn.create("idb-set",{originalErrorMessage:null===kw||void 0===kw?void 0:kw.message});Bt.warn(t.message)}}}function An(e){return`${e.name}!${e.options.appId}`}class Rn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Dn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Dn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Ln(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ln(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Be(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Dn(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await jn();return await t.transaction(kn).objectStore(kn).get(An(e))}catch(kw){if(kw instanceof tt)Bt.warn(kw.message);else{const t=xn.create("idb-get",{originalErrorMessage:null===kw||void 0===kw?void 0:kw.message});Bt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return In(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ln(e){return Be(JSON.stringify({version:2,heartbeats:e})).length}var On;On="",bn(new dt("platform-logger",(e=>new Ut(e)),"PRIVATE")),bn(new dt("heartbeat",(e=>new Rn(e)),"PRIVATE")),Sn(Vt,zt,On),Sn(Vt,zt,"esm2017"),Sn("fire-js","");function Fn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Mn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Un=Mn,Vn=new nt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zn=new Nt("@firebase/auth");function Bn(e){if(zn.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zn.error(`Auth (${En}): ${e}`,...n)}}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wn(e,...n)}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wn(e,...n)}function Hn(e,t,n){const r=Object.assign(Object.assign({},Un()),{[t]:n});return new nt("auth","Firebase",r).create(t,{appName:e.name})}function Wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Vn.create(e,...n)}function Kn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw Wn(t,...r)}}function Gn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bn(t),new Error(t)}function Qn(e,t){e||Gn(t)}function Jn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Yn(){return"http:"===Xn()||"https:"===Xn()}function Xn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Zn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Yn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class er{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Zn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tr(e,t){Qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class nr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sr=new er(3e4,6e4);function ir(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ar(e,t,n,r){return or(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=at(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),nr.fetch()(cr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},s))}))}async function or(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rr),t);try{const t=new ur(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw hr(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hr(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw hr(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw hr(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Hn(e,o,a);$n(e,o)}}catch(kw){if(kw instanceof tt)throw kw;$n(e,"network-request-failed",{message:String(kw)})}}async function lr(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await ar(e,t,n,r,s);return"mfaPendingCredential"in i&&$n(e,"multi-factor-auth-required",{_serverResponse:i}),i}function cr(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?tr(e.config,s):`${e.config.apiScheme}://${s}`}class ur{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(qn(this.auth,"network-request-failed"))),sr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function hr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=qn(e,t,r);return s.customData._tokenResponse=n,s}function dr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(kw){}}function fr(e){return 1e3*Number(e)}function pr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Bn("JWT malformed, contained fewer than 3 sections"),null;try{const e=$e(n);return e?JSON.parse(e):(Bn("Failed to decode base64 JWT payload"),null)}catch(kw){return Bn("Caught error parsing JWT payload as JSON",null===kw||void 0===kw?void 0:kw.toString()),null}}async function mr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(kw){throw kw instanceof tt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(kw)&&e.auth.currentUser===e&&await e.auth.signOut(),kw}}class gr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(kw){return void("auth/network-request-failed"===(null===kw||void 0===kw?void 0:kw.code)&&this.schedule(!0))}this.schedule()}}class vr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yr(e){var t;const n=e.auth,r=await e.getIdToken(),s=await mr(e,async function(e,t){return ar(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Kn(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map((e=>{var{providerId:t}=e,n=Fn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vr(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kn(e.idToken,"internal-error"),Kn("undefined"!==typeof e.idToken,"internal-error"),Kn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=pr(e);return Kn(t,"internal-error"),Kn("undefined"!==typeof t.exp,"internal-error"),Kn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Kn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await or(e,{},(async()=>{const n=at({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=cr(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nr.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new br;return n&&(Kn("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Kn("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Kn("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return Gn("not implemented")}}function wr(e,t){Kn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Fn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vr(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await mr(this,this.stsTokenManager.getToken(this.auth,e));return Kn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),r=await n.getIdToken(t),s=pr(r);Kn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dr(fr(s.auth_time)),issuedAtTime:dr(fr(s.iat)),expirationTime:dr(fr(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await yr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Kn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Kn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mr(this,async function(e,t){return ar(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:N}=t;Kn(y&&N,e,"internal-error");const E=br.fromJSON(this.name,N);Kn("string"===typeof y,e,"internal-error"),wr(u,e.name),wr(h,e.name),Kn("boolean"===typeof b,e,"internal-error"),Kn("boolean"===typeof w,e,"internal-error"),wr(d,e.name),wr(f,e.name),wr(p,e.name),wr(m,e.name),wr(g,e.name),wr(v,e.name);const _=new xr({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new br;r.updateFromServerResponse(t);const s=new xr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yr(s),s}}const Nr=new Map;function Er(e){Qn(e instanceof Function,"Expected a class definition");let t=Nr.get(e);return t?(Qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nr.set(e,t),t)}class _r{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_r.type="NONE";const Cr=_r;function Sr(e,t,n){return`firebase:${e}:${t}:${n}`}class kr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Sr(this.userKey,r.apiKey,s),this.fullPersistenceKey=Sr("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new kr(Er(Cr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=r[0]||Er(Cr);const i=Sr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=xr._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(i)}catch(l){}}))),new kr(s,e,n)):new kr(s,e,n)}}function Tr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pr(t))return"Blackberry";if(Lr(t))return"Webos";if(Ir(t))return"Safari";if((t.includes("chrome/")||Ar(t))&&!t.includes("edge/"))return"Chrome";if(Dr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/firefox\//i.test(e)}function Ir(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/crios\//i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iemobile/i.test(e)}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/android/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/blackberry/i.test(e)}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/webos/i.test(e)}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fr(){return function(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe();return Or(e)||Dr(e)||Lr(e)||Pr(e)||/windows phone/i.test(e)||Rr(e)}function Ur(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tr(Xe());break;case"Worker":t=`${Tr(Xe())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${En}/${r}`}async function Vr(e,t){return ar(e,"GET","/v2/recaptchaConfig",ir(e,t))}function zr(e){return void 0!==e&&void 0!==e.enterprise}class Br{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function $r(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=qn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Hr{constructor(e){this.type="recaptcha-enterprise",this.auth=Qr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;zr(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Vr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Br(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&zr(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));$r("https://www.google.com/recaptcha/enterprise.js?render="+s).then((()=>{n(s,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Wr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new Hr(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Kr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(kw){r(kw)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(kw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===kw||void 0===kw?void 0:kw.message})}}}class Gr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jr(this),this.idTokenSubscription=new Jr(this),this.beforeStateQueue=new Kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await kr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(kw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(kw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(kw)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(kw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yr(e)}catch(kw){if("auth/network-request-failed"!==(null===kw||void 0===kw?void 0:kw.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ht(e):null;return t&&Kn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Kn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Er(e))}))}async initializeRecaptchaConfig(){const e=await Vr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Br(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new Hr(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Kn(t,this,"argument-error"),this.redirectPersistenceManager=await kr.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return Kn(i,this,"internal-error"),i.then((()=>s(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(zn.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zn.warn(`Auth (${En}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Qr(e){return ht(e)}class Jr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ct(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Kn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yr(e,t,n){const r=Qr(e);Kn(r._canInitEmulator,r,"emulator-config-failed"),Kn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Xr(t),{host:a,port:o}=function(e){const t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Zr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Zr(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class es{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,t){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function ts(e,t){return ar(e,"POST","/v1/accounts:update",t)}async function ns(e,t){return lr(e,"POST","/v1/accounts:signInWithPassword",ir(e,t))}async function rs(e,t){return ar(e,"POST","/v1/accounts:sendOobCode",ir(e,t))}async function ss(e,t){return rs(e,t)}class is extends es{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new is(e,t,"password")}static _fromEmailAndCode(e,t){return new is(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Wr(e,n,"signInWithPassword");return ns(e,t)}return ns(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Wr(e,n,"signInWithPassword");return ns(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ts(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithEmailLink",ir(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function as(e,t){return lr(e,"POST","/v1/accounts:signInWithIdp",ir(e,t))}class os extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Fn(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new os(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return as(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,as(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,as(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}}const ls={USER_NOT_FOUND:"user-not-found"};class cs extends es{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new cs({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new cs({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,t));if(n.temporaryProof)throw hr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lr(e,"POST","/v1/accounts:signInWithPhoneNumber",ir(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ls)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new cs({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class us{constructor(e){var t,n,r,s,i,a;const o=ot(lt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Kn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ot(lt(e)).link,n=t?ot(lt(t)).deep_link_id:null,r=ot(lt(e)).deep_link_id;return(r?ot(lt(r)).link:null)||r||n||t||e}(e);try{return new us(t)}catch(n){return null}}}class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(e,t){return is._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=us.parseLink(t);return Kn(n,"argument-error"),is._fromEmailAndCode(e,n.code,n.tenantId)}}hs.PROVIDER_ID="password",hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ds{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fs extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps extends fs{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch(n){return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com",ps.PROVIDER_ID="facebook.com";class ms extends fs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return os._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ms.credential(n,r)}catch(s){return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com",ms.PROVIDER_ID="google.com";class gs extends fs{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch(n){return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com",gs.PROVIDER_ID="github.com";class vs extends fs{constructor(){super("twitter.com")}static credential(e,t){return os._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return vs.credential(n,r)}catch(s){return null}}}async function ys(e,t){return lr(e,"POST","/v1/accounts:signUp",ir(e,t))}vs.TWITTER_SIGN_IN_METHOD="twitter.com",vs.PROVIDER_ID="twitter.com";class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await xr._fromIdTokenResponse(e,n,r),i=ws(n);return new bs({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ws(n);return new bs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ws(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xs extends tt{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,xs.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new xs(e,t,n,r)}}function Ns(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw xs._fromErrorAndOperation(e,n,t,r);throw n}))}async function Es(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bs._forOperation(e,"link",r)}async function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,s="reauthenticate";try{const i=await mr(e,Ns(r,s,t,e),n);Kn(i.idToken,r,"internal-error");const a=pr(i.idToken);Kn(a,r,"internal-error");const{sub:o}=a;return Kn(e.uid===o,r,"user-mismatch"),bs._forOperation(e,s,i)}catch(kw){throw"auth/user-not-found"===(null===kw||void 0===kw?void 0:kw.code)&&$n(r,"user-mismatch"),kw}}async function Cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",s=await Ns(e,r,t),i=await bs._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function Ss(e,t){return Cs(Qr(e),t)}function ks(e,t,n){var r;Kn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Kn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Kn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Kn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ts(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const s=ht(e),i={idToken:await s.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await mr(s,async function(e,t){return ar(e,"POST","/v1/accounts:update",t)}(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const o=s.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=s.displayName,o.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}new WeakMap;const js="__sak";class Is{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(js,"1"),this.storage.removeItem(js),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class As extends Is{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Xe();return Ir(e)||Or(e)}()&&function(){try{return!(!window||window===window.top)}catch(kw){return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Fr()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}As.type="LOCAL";const Rs=As;class Ds extends Is{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ds.type="SESSION";const Ps=Ds;class Ls{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ls(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Os(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ls.receivers=[];class Fs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise(((a,o)=>{const l=Os("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function Ms(){return window}function Us(){return"undefined"!==typeof Ms().WorkerGlobalScope&&"function"===typeof Ms().importScripts}const Vs="firebaseLocalStorageDb",zs="firebaseLocalStorage",Bs="fbase_key";class $s{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function qs(e,t){return e.transaction([zs],t?"readwrite":"readonly").objectStore(zs)}function Hs(){const e=indexedDB.open(Vs,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(zs,{keyPath:Bs})}catch(kw){n(kw)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(zs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Vs);return new $s(e).toPromise()}(),t(await Hs()))}))}))}async function Ws(e,t,n){const r=qs(e,!0).put({[Bs]:t,value:n});return new $s(r).toPromise()}function Ks(e,t){const n=qs(e,!0).delete(t);return new $s(n).toPromise()}class Gs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Hs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(kw){if(t++>3)throw kw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Us()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ls._getInstance(Us()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Fs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hs();return await Ws(e,js,"1"),await Ks(e,js),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ws(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=qs(e,!1).get(t),r=await new $s(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ks(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=qs(e,!1).getAll();return new $s(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Gs.type="LOCAL";const Qs=Gs;qr("rcb"),new er(3e4,6e4);const Js="recaptcha";async function Ys(e,t,n){var r;const s=await n.verify();try{let i;if(Kn("string"===typeof s,e,"argument-error"),Kn(n.type===Js,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Kn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ar(e,"POST","/v2/accounts/mfaEnrollment:start",ir(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{Kn("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Kn(n,e,"missing-multi-factor-info");const a=await function(e,t){return ar(e,"POST","/v2/accounts/mfaSignIn:start",ir(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ar(e,"POST","/v1/accounts:sendVerificationCode",ir(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class Xs{constructor(e){this.providerId=Xs.PROVIDER_ID,this.auth=Qr(e)}verifyPhoneNumber(e,t){return Ys(this.auth,e,ht(t))}static credential(e,t){return cs._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xs.credentialFromTaggedObject(t)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?cs._fromTokenResponse(n,r):null}}function Zs(e,t){return t?Er(t):(Kn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xs.PROVIDER_ID="phone",Xs.PHONE_SIGN_IN_METHOD="phone";class ei extends es{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,t){return as(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ti(e){return Cs(e.auth,new ei(e),e.bypassAuthState)}function ni(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),_s(n,new ei(e),e.bypassAuthState)}async function ri(e){const{auth:t,user:n}=e;return Kn(n,t,"internal-error"),Es(n,new ei(e),e.bypassAuthState)}class si{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(kw){this.reject(kw)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(kw){this.reject(kw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ti;case"linkViaPopup":case"linkViaRedirect":return ri;case"reauthViaPopup":case"reauthViaRedirect":return ni;default:$n(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new er(2e3,1e4);class ai extends si{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,ai.currentPopupAction&&ai.currentPopupAction.cancel(),ai.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kn(e,this.auth,"internal-error"),e}async onExecution(){Qn(1===this.filter.length,"Popup operations only handle one event");const e=Os();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(qn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ai.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ii.get())};e()}}ai.currentPopupAction=null;const oi=new Map;class li extends si{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=oi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hi(t),r=ui(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(kw){e=()=>Promise.reject(kw)}oi.set(this.auth._key(),e)}return this.bypassAuthState||oi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ci(e,t){oi.set(e._key(),t)}function ui(e){return Er(e._redirectPersistence)}function hi(e){return Sr("pendingRedirect",e.config.apiKey,e.name)}async function di(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Qr(e),s=Zs(r,t),i=new li(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class fi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pi(e))}saveEventToCache(e){this.cachedEventUids.add(pi(e)),this.lastProcessedEventTime=Date.now()}}function pi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function mi(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^https?/;async function yi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ar(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(bi(r))return}catch(n){}$n(e,"unauthorized-domain")}function bi(e){const t=Jn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!vi.test(n))return!1;if(gi.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const wi=new er(3e4,6e4);function xi(){const e=Ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ni=null;function Ei(e){return Ni=Ni||function(e){return new Promise(((t,n)=>{var r,s,i;function a(){xi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xi(),n(qn(e,"network-request-failed"))},timeout:wi.get()})}if(null===(s=null===(r=Ms().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Ms().gapi)||void 0===i?void 0:i.load)){const t=qr("iframefcb");return Ms()[t]=()=>{gapi.load?a():n(qn(e,"network-request-failed"))},$r(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Ni=null,e}))}(e),Ni}const _i=new er(5e3,15e3),Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Si=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ki(e){const t=e.config;Kn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:En},s=Si.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${at(r).slice(1)}`}const Ti={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ji{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(kw){}}}function Ii(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ti),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Xe().toLowerCase();n&&(o=Ar(c)?"_blank":n),jr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Or(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ji(null);const h=window.open(t||"",o,u);Kn(h,e,"popup-blocked");try{h.focus()}catch(kw){}return new ji(h)}const Ai="__/auth/handler",Ri="emulator/auth/handler",Di=encodeURIComponent("fac");async function Pi(e,t,n,r,s,i){Kn(e.config.authDomain,e,"auth-domain-config-required"),Kn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:En,eventId:s};if(t instanceof ds){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof fs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Di}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Ai}`;return tr(t,Ri)}(e)}?${at(o).slice(1)}${c}`}const Li="webStorageSupport";const Oi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=di,this._overrideRedirectResult=ci}async _openPopup(e,t,n,r){var s;Qn(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Ii(e,await Pi(e,t,n,Jn(),r),Os())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ms().location.href=e}(await Pi(e,t,n,Jn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ei(e),n=Ms().gapi;return Kn(n,e,"internal-error"),t.open({where:document.body,url:ki(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=qn(e,"network-request-failed"),i=Ms().setTimeout((()=>{r(s)}),_i.get());function a(){Ms().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(s)}))}))))}(e),n=new fi(e);return t.register("authEvent",(t=>{Kn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Li,{type:Li},(n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Li];void 0!==s&&t(!!s),$n(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mr()||Ir()||Or()}};var Fi="@firebase/auth",Mi="0.23.2";class Ui{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vi=Qe("authIdTokenMaxAge")||300;let zi=null;var Bi;Bi="Browser",bn(new dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Kn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Bi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(Bi)},c=new Gr(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),bn(new dt("auth-internal",(e=>(e=>new Ui(e))(Qr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Fi,Mi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Bi)),Sn(Fi,Mi,"esm2017");var $i,qi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Hi={},Wi=Wi||{},Ki=qi||self;function Gi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ji="closure_uid_"+(1e9*Math.random()>>>0),Yi=0;function Xi(e,t,n){return e.call.apply(e.bind,arguments)}function Zi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ea(e,t,n){return(ea=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xi:Zi).apply(null,arguments)}function ta(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function na(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function ra(){this.s=this.s,this.o=this.o}ra.prototype.s=!1,ra.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ji)&&e[Ji]||(e[Ji]=++Yi))},ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ia(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function aa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Gi(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function oa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}oa.prototype.h=function(){this.defaultPrevented=!0};var la=function(){if(!Ki.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ki.addEventListener("test",(()=>{}),t),Ki.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function ca(e){return/^[\s\xa0]*$/.test(e)}function ua(){var e=Ki.navigator;return e&&(e=e.userAgent)?e:""}function ha(e){return-1!=ua().indexOf(e)}function da(e){return da[" "](e),e}da[" "]=function(){};var fa,pa,ma=ha("Opera"),ga=ha("Trident")||ha("MSIE"),va=ha("Edge"),ya=va||ga,ba=ha("Gecko")&&!(-1!=ua().toLowerCase().indexOf("webkit")&&!ha("Edge"))&&!(ha("Trident")||ha("MSIE"))&&!ha("Edge"),wa=-1!=ua().toLowerCase().indexOf("webkit")&&!ha("Edge");function xa(){var e=Ki.document;return e?e.documentMode:void 0}e:{var Na="",Ea=function(){var e=ua();return ba?/rv:([^\);]+)(\)|;)/.exec(e):va?/Edge\/([\d\.]+)/.exec(e):ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wa?/WebKit\/(\S+)/.exec(e):ma?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ea&&(Na=Ea?Ea[1]:""),ga){var _a=xa();if(null!=_a&&_a>parseFloat(Na)){fa=String(_a);break e}}fa=Na}if(Ki.document&&ga){var Ca=xa();pa=Ca||(parseInt(fa,10)||void 0)}else pa=void 0;var Sa=pa;function ka(e,t){if(oa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ba){e:{try{da(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ta[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ka.$.h.call(this)}}na(ka,oa);var Ta={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Aa(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++Ia,this.fa=this.ia=!1}function Ra(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Da(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Pa(e){const t={};for(const n in e)t[n]=e[n];return t}const La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oa(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<La.length;t++)n=La[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fa(e){this.src=e,this.g={},this.h=0}function Ma(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=sa(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Ra(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ua(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}Fa.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=Ua(e,t,r,s);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Aa(t,this.src,i,!!r,s)).ia=n,e.push(t)),t};var Va="closure_lm_"+(1e6*Math.random()|0),za={};function Ba(e,t,n,r,s){if(r&&r.once)return qa(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Ba(e,t[i],n,r,s);return null}return n=Ya(n),e&&e[ja]?e.O(t,n,Qi(r)?!!r.capture:!!r,s):$a(e,t,n,!1,r,s)}function $a(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=Qi(s)?!!s.capture:!!s,o=Qa(e);if(o||(e[Va]=o=new Fa(e)),(n=o.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ga;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)la||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Ka(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qa(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)qa(e,t[i],n,r,s);return null}return n=Ya(n),e&&e[ja]?e.P(t,n,Qi(r)?!!r.capture:!!r,s):$a(e,t,n,!0,r,s)}function Ha(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Ha(e,t[i],n,r,s);else r=Qi(r)?!!r.capture:!!r,n=Ya(n),e&&e[ja]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ua(i=e.g[t],n,r,s))&&(Ra(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Qa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ua(t,n,r,s)),(n=-1<e?t[e]:null)&&Wa(n))}function Wa(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ja])Ma(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ka(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Qa(t))?(Ma(n,e),0==n.h&&(n.src=null,t[Va]=null)):Ra(e)}}}function Ka(e){return e in za?za[e]:za[e]="on"+e}function Ga(e,t){if(e.fa)e=!0;else{t=new ka(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Wa(e),e=n.call(r,t)}return e}function Qa(e){return(e=e[Va])instanceof Fa?e:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ya(e){return"function"===typeof e?e:(e[Ja]||(e[Ja]=function(t){return e.handleEvent(t)}),e[Ja])}function Xa(){ra.call(this),this.i=new Fa(this),this.S=this,this.J=null}function Za(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new oa(t,e);else if(t instanceof oa)t.target=t.target||e;else{var s=t;Oa(t=new oa(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=eo(a,r,!0,t)&&s}if(s=eo(a=t.g=e,r,!0,t)&&s,s=eo(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=eo(a=t.g=n[i],r,!1,t)&&s}function eo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Ma(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}na(Xa,ra),Xa.prototype[ja]=!0,Xa.prototype.removeEventListener=function(e,t,n,r){Ha(this,e,t,n,r)},Xa.prototype.N=function(){if(Xa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ra(n[r]);delete t.g[e],t.h--}}this.J=null},Xa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var to=Ki.JSON.stringify;function no(){var e=co;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ro=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new so),(e=>e.reset()));class so{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function io(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ao(e){Ki.setTimeout((()=>{throw e}),0)}let oo,lo=!1,co=new class{constructor(){this.h=this.g=null}add(e,t){const n=ro.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},uo=()=>{const e=Ki.Promise.resolve(void 0);oo=()=>{e.then(ho)}};var ho=()=>{for(var e;e=no();){try{e.h.call(e.g)}catch(n){ao(n)}var t=ro;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lo=!1};function fo(e,t){Xa.call(this),this.h=e||1,this.g=t||Ki,this.j=ea(this.qb,this),this.l=Date.now()}function po(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function mo(e,t,n){if("function"===typeof e)n&&(e=ea(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ea(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ki.setTimeout(e,t||0)}function go(e){e.g=mo((()=>{e.g=null,e.i&&(e.i=!1,go(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}na(fo,Xa),($i=fo.prototype).ga=!1,$i.T=null,$i.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Za(this,"tick"),this.ga&&(po(this),this.start()))}},$i.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$i.N=function(){fo.$.N.call(this),po(this),delete this.g};class vo extends ra{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(Ki.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(e){ra.call(this),this.h=e,this.g={}}na(yo,ra);var bo=[];function wo(e,t,n,r){Array.isArray(n)||(n&&(bo[0]=n.toString()),n=bo);for(var s=0;s<n.length;s++){var i=Ba(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function xo(e){Da(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wa(e)}),e),e.g={}}function No(){this.g=!0}function Eo(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return to(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}yo.prototype.N=function(){yo.$.N.call(this),xo(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},No.prototype.Ea=function(){this.g=!1},No.prototype.info=function(){};var _o={},Co=null;function So(){return Co=Co||new Xa}function ko(e){oa.call(this,_o.Ta,e)}function To(e){const t=So();Za(t,new ko(t))}function jo(e,t){oa.call(this,_o.STAT_EVENT,e),this.stat=t}function Io(e){const t=So();Za(t,new jo(t,e))}function Ao(e,t){oa.call(this,_o.Ua,e),this.size=t}function Ro(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ki.setTimeout((function(){e()}),t)}_o.Ta="serverreachability",na(ko,oa),_o.STAT_EVENT="statevent",na(jo,oa),_o.Ua="timingevent",na(Ao,oa);var Do={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Po={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lo(){}function Oo(e){return e.h||(e.h=e.i())}function Fo(){}Lo.prototype.h=null;var Mo,Uo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vo(){oa.call(this,"d")}function zo(){oa.call(this,"c")}function Bo(){}function $o(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new yo(this),this.P=Ho,e=ya?125:void 0,this.V=new fo(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qo}function qo(){this.i=null,this.g="",this.h=!1}na(Vo,oa),na(zo,oa),na(Bo,Lo),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},Mo=new Bo;var Ho=45e3,Wo={},Ko={};function Go(e,t,n){e.L=1,e.v=fl(ll(t)),e.s=n,e.S=!0,Qo(e,null)}function Qo(e,t){e.G=Date.now(),Zo(e),e.A=ll(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sl(n.i,"t",r),e.C=0,n=e.l.J,e.h=new qo,e.g=kc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new vo(ea(e.Pa,e,e.g),e.O)),wo(e.U,e.g,"readystatechange",e.nb),t=e.I?Pa(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),To(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Jo(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Yo(e,t,n){let r,s=!0;for(;!e.J&&e.C<n.length;){if(r=Xo(e,n),r==Ko){4==t&&(e.o=4,Io(14),s=!1),Eo(e.j,e.m,null,"[Incomplete Response]");break}if(r==Wo){e.o=4,Io(15),Eo(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}Eo(e.j,e.m,r,null),sl(e,r)}Jo(e)&&r!=Ko&&r!=Wo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Io(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bc(t),t.M=!0,Io(11))):(Eo(e.j,e.m,n,"[Invalid Chunked Response]"),rl(e),nl(e))}function Xo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ko:(n=Number(t.substring(n,r)),isNaN(n)?Wo:(r+=1)+n>t.length?Ko:(t=t.slice(r,r+n),e.C=r+n,t))}function Zo(e){e.Y=Date.now()+e.P,el(e,e.P)}function el(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ro(ea(e.lb,e),t)}function tl(e){e.B&&(Ki.clearTimeout(e.B),e.B=null)}function nl(e){0==e.l.H||e.J||Nc(e.l,e)}function rl(e){tl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,po(e.V),xo(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function sl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Dl(n.i,e)))if(!e.K&&Dl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;xc(n),hc(n)}yc(n),Io(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ro(ea(n.ib,n),6e3));if(1>=Rl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else _c(n,11)}else if((e.K||n.g==e)&&xc(n),!ca(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Pl(i,i.h),i.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,dl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Sc(r,r.J?r.pa:null,r.Y),a.K){Ll(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(tl(o),Zo(o)),r.g=a}else vc(r);0<n.j.length&&fc(n)}else"stop"!=c[0]&&"close"!=c[0]||_c(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?_c(n,7):uc(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}To()}catch(c){}}function il(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Gi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Gi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}($i=$o.prototype).setTimeout=function(e){this.P=e},$i.nb=function(e){e=e.target;const t=this.M;t&&3==sc(e)?t.l():this.Pa(e)},$i.Pa=function(e){try{if(e==this.g)e:{const u=sc(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ya||this.g&&(this.h.h||this.g.ja()||ic(this.g)))){this.J||4!=u||7==t||To(),tl(this);var n=this.g.da();this.ca=n;t:if(Jo(this)){var r=ic(this.g);e="";var s=r.length,i=4==sc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rl(this),nl(this);var a="";break t}this.h.i=new Ki.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Io(12),rl(this),nl(this);break e}Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sl(this,n)}this.S?(Yo(this,u,a),ya&&this.i&&3==u&&(wo(this.U,this.V,"tick",this.mb),this.V.start())):(Eo(this.j,this.m,a,null),sl(this,a)),4==u&&rl(this),this.i&&!this.J&&(4==u?Nc(this.l,this):(this.i=!1,Zo(this)))}else(function(e){const t={};e=(e.g&&2<=sc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ca(e[r]))continue;var n=io(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),rl(this),nl(this)}}}catch(u){}},$i.mb=function(){if(this.g){var e=sc(this.g),t=this.g.ja();this.C<t.length&&(tl(this),Yo(this,e,t),this.i&&4!=e&&Zo(this))}},$i.cancel=function(){this.J=!0,rl(this)},$i.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(To(),Io(17)),rl(this),this.o=2,nl(this)):el(this,this.Y-e)};var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ol){this.h=e.h,cl(this,e.j),this.s=e.s,this.g=e.g,ul(this,e.m),this.l=e.l;var t=e.i,n=new Nl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),hl(this,n),this.o=e.o}else e&&(t=String(e).match(al))?(this.h=!1,cl(this,t[1]||"",!0),this.s=pl(t[2]||""),this.g=pl(t[3]||"",!0),ul(this,t[4]),this.l=pl(t[5]||"",!0),hl(this,t[6]||"",!0),this.o=pl(t[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function ll(e){return new ol(e)}function cl(e,t,n){e.j=n?pl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ul(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hl(e,t,n){t instanceof Nl?(e.i=t,function(e,t){t&&!e.j&&(El(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_l(this,t),Sl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ml(t,wl)),e.i=new Nl(t,e.h))}function dl(e,t,n){e.i.set(t,n)}function fl(e){return dl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ml(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ol.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ml(t,vl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ml(t,vl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ml(n,"/"==n.charAt(0)?bl:yl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ml(n,xl)),e.join("")};var vl=/[#\/\?@]/g,yl=/[#\?:]/g,bl=/[#\?]/g,wl=/[#\?@]/g,xl=/#/g;function Nl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function El(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _l(e,t){El(e),t=kl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Cl(e,t){return El(e),t=kl(e,t),e.g.has(t)}function Sl(e,t,n){_l(e,t),0<n.length&&(e.i=null,e.g.set(kl(e,t),ia(n)),e.h+=n.length)}function kl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($i=Nl.prototype).add=function(e,t){El(this),this.i=null,e=kl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$i.forEach=function(e,t){El(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},$i.ta=function(){El(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},$i.Z=function(e){El(this);let t=[];if("string"===typeof e)Cl(this,e)&&(t=t.concat(this.g.get(kl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},$i.set=function(e,t){return El(this),this.i=null,Cl(this,e=kl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$i.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},$i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")};var Tl=class{constructor(e,t){this.g=e,this.map=t}};function jl(e){this.l=e||Il,Ki.PerformanceNavigationTiming?e=0<(e=Ki.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ki.g&&Ki.g.Ka&&Ki.g.Ka()&&Ki.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Il=10;function Al(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rl(e){return e.h?1:e.g?e.g.size:0}function Dl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pl(e,t){e.g?e.g.add(t):e.h=t}function Ll(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ol(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ia(e.i)}jl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Fl,Ml=class{stringify(e){return Ki.JSON.stringify(e,void 0)}parse(e){return Ki.JSON.parse(e,void 0)}};function Ul(){this.g=new Ml}function Vl(e,t,n){const r=n||"";try{il(e,(function(e,n){let s=e;Qi(e)&&(s=to(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(kw){throw t.push(r+"type="+encodeURIComponent("_badmap")),kw}}function zl(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function Bl(e){this.l=e.fc||null,this.j=e.ob||!1}function $l(e,t){Xa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ql,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}na(Bl,Lo),Bl.prototype.g=function(){return new $l(this.l,this.j)},Bl.prototype.i=(Fl={},function(){return Fl}),na($l,Xa);var ql=0;function Hl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Wl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kl(e)}function Kl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($i=$l.prototype).open=function(e,t){if(this.readyState!=ql)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kl(this)},$i.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ki).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},$i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wl(this)),this.readyState=ql},$i.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ki.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},$i.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wl(this):Kl(this),3==this.readyState&&Hl(this)}},$i.Za=function(e){this.g&&(this.response=this.responseText=e,Wl(this))},$i.Ya=function(e){this.g&&(this.response=e,Wl(this))},$i.ka=function(){this.g&&Wl(this)},$i.setRequestHeader=function(e,t){this.v.append(e,t)},$i.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$i.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gl=Ki.JSON.parse;function Ql(e){Xa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jl,this.L=this.M=!1}na(Ql,Xa);var Jl="",Yl=/^https?$/i,Xl=["POST","PUT"];function Zl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ec(e),nc(e)}function ec(e){e.F||(e.F=!0,Za(e,"complete"),Za(e,"error"))}function tc(e){if(e.h&&"undefined"!=typeof Wi&&(!e.C[1]||4!=sc(e)||2!=e.da()))if(e.v&&4==sc(e))mo(e.La,0,e);else if(Za(e,"readystatechange"),4==sc(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var s=String(e.I).match(al)[1]||null;!s&&Ki.self&&Ki.self.location&&(s=Ki.self.location.protocol.slice(0,-1)),r=!Yl.test(s?s.toLowerCase():"")}n=r}if(n)Za(e,"complete"),Za(e,"success");else{e.m=6;try{var i=2<sc(e)?e.g.statusText:""}catch(a){i=""}e.j=i+" ["+e.da()+"]",ec(e)}}finally{nc(e)}}}function nc(e,t){if(e.g){rc(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Za(e,"ready");try{n.onreadystatechange=r}catch(kw){}}}function rc(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ki.clearTimeout(e.A),e.A=null)}function sc(e){return e.g?e.g.readyState:0}function ic(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Jl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uu){return null}}function ac(e){let t="";return Da(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function oc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ac(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):dl(e,t,n))}function lc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cc(e){this.Ga=0,this.j=[],this.l=new No,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lc("baseRetryDelayMs",5e3,e),this.hb=lc("retryDelaySeedMs",1e4,e),this.eb=lc("forwardChannelMaxRetries",2,e),this.xa=lc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new jl(e&&e.concurrentRequestLimit),this.Ja=new Ul,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uc(e){if(dc(e),3==e.H){var t=e.W++,n=ll(e.I);if(dl(n,"SID",e.K),dl(n,"RID",t),dl(n,"TYPE","terminate"),mc(e,n),(t=new $o(e,e.l,t)).L=2,t.v=fl(ll(n)),n=!1,Ki.navigator&&Ki.navigator.sendBeacon)try{n=Ki.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Ki.Image&&((new Image).src=t.v,n=!0),n||(t.g=kc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zo(t)}Cc(e)}function hc(e){e.g&&(bc(e),e.g.cancel(),e.g=null)}function dc(e){hc(e),e.u&&(Ki.clearTimeout(e.u),e.u=null),xc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ki.clearTimeout(e.m),e.m=null)}function fc(e){if(!Al(e.i)&&!e.m){e.m=!0;var t=e.Na;oo||uo(),lo||(oo(),lo=!0),co.add(t,e),e.C=0}}function pc(e,t){var n;n=t?t.m:e.W++;const r=ll(e.I);dl(r,"SID",e.K),dl(r,"RID",n),dl(r,"AID",e.V),mc(e,r),e.o&&e.s&&oc(r,e.o,e.s),n=new $o(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pl(e.i,n),Go(n,r,t)}function mc(e,t){e.na&&Da(e.na,(function(e,n){dl(t,n,e)})),e.h&&il({},(function(e,n){dl(t,n,e)}))}function gc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ea(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{Vl(o,e,"req"+n+"_")}catch(xu){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function vc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;oo||uo(),lo||(oo(),lo=!0),co.add(t,e),e.A=0}}function yc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ro(ea(e.Ma,e),Ec(e,e.A)),e.A++,!0)}function bc(e){null!=e.B&&(Ki.clearTimeout(e.B),e.B=null)}function wc(e){e.g=new $o(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ll(e.wa);dl(t,"RID","rpc"),dl(t,"SID",e.K),dl(t,"AID",e.V),dl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&dl(t,"TO",e.qa),dl(t,"TYPE","xmlhttp"),mc(e,t),e.o&&e.s&&oc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=fl(ll(t)),n.s=null,n.S=!0,Qo(n,e)}function xc(e){null!=e.v&&(Ki.clearTimeout(e.v),e.v=null)}function Nc(e,t){var n=null;if(e.g==t){xc(e),bc(e),e.g=null;var r=2}else{if(!Dl(e.i,t))return;n=t.F,Ll(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;Za(r=So(),new Ao(r,n)),fc(e)}else vc(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function(e,t){return!(Rl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ro(ea(e.Na,e,t),Ec(e,e.C)),e.C++,!0))}(e,t)||2==r&&yc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:_c(e,5);break;case 4:_c(e,10);break;case 3:_c(e,6);break;default:_c(e,2)}}function Ec(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function _c(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ea(e.pb,e);n||(n=new ol("//www.google.com/images/cleardot.gif"),Ki.location&&"http"==Ki.location.protocol||cl(n,"https"),fl(n)),function(e,t){const n=new No;if(Ki.Image){const r=new Image;r.onload=ta(zl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ta(zl,n,r,"TestLoadImage: error",!1,t),r.onabort=ta(zl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ta(zl,n,r,"TestLoadImage: timeout",!1,t),Ki.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Io(2);e.H=0,e.h&&e.h.za(t),Cc(e),dc(e)}function Cc(e){if(e.H=0,e.ma=[],e.h){const t=Ol(e.i);0==t.length&&0==e.j.length||(aa(e.ma,t),aa(e.ma,e.j),e.i.i.length=0,ia(e.j),e.j.length=0),e.h.ya()}}function Sc(e,t,n){var r=n instanceof ol?ll(n):new ol(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ul(r,r.m);else{var s=Ki.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new ol(null);r&&cl(i,r),t&&(i.g=t),s&&ul(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&dl(r,n,t),dl(r,"VER",e.ra),mc(e,r),r}function kc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ql(new Bl({ob:!0})):new Ql(e.va)).Oa(e.J),t}function Tc(){}function jc(){if(ga&&!(10<=Number(Sa)))throw Error("Environmental error: no available transport.")}function Ic(e,t){Xa.call(this),this.g=new cc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ca(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ca(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Dc(this)}function Ac(e){Vo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rc(){zo.call(this),this.status=1}function Dc(e){this.g=e}function Pc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Lc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function Oc(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}($i=Ql.prototype).Oa=function(e){this.M=e},$i.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mo.g(),this.C=this.u?Oo(this.u):Oo(Mo),this.g.onreadystatechange=ea(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){return void Zl(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=Ki.FormData&&e instanceof Ki.FormData,!(0<=sa(Xl,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rc(this),0<this.B&&((this.L=function(e){return ga&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ea(this.ua,this)):this.A=mo(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Zl(this,i)}},$i.ua=function(){"undefined"!=typeof Wi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Za(this,"timeout"),this.abort(8))},$i.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Za(this,"complete"),Za(this,"abort"),nc(this))},$i.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nc(this,!0)),Ql.$.N.call(this)},$i.La=function(){this.s||(this.G||this.v||this.l?tc(this):this.kb())},$i.kb=function(){tc(this)},$i.isActive=function(){return!!this.g},$i.da=function(){try{return 2<sc(this)?this.g.status:-1}catch(Fl){return-1}},$i.ja=function(){try{return this.g?this.g.responseText:""}catch(Fl){return""}},$i.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gl(t)}},$i.Ia=function(){return this.m},$i.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},($i=cc.prototype).ra=8,$i.H=1,$i.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new $o(this,this.l,e);let i=this.s;if(this.U&&(i?(i=Pa(i),Oa(i,this.U)):i=this.U),null!==this.o||this.O||(s.I=i,i=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=gc(this,s,t),dl(n=ll(this.I),"RID",e),dl(n,"CVER",22),this.F&&dl(n,"X-HTTP-Session-Id",this.F),mc(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(ac(i)))+"&"+t:this.o&&oc(n,this.o,i)),Pl(this.i,s),this.bb&&dl(n,"TYPE","init"),this.P?(dl(n,"$req",t),dl(n,"SID","null"),s.aa=!0,Go(s,n,null)):Go(s,n,t),this.H=2}}else 3==this.H&&(e?pc(this,e):0==this.j.length||Al(this.i)||pc(this))},$i.Ma=function(){if(this.u=null,wc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ro(ea(this.jb,this),e)}},$i.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Io(10),hc(this),wc(this))},$i.ib=function(){null!=this.v&&(this.v=null,hc(this),yc(this),Io(19))},$i.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Io(2)):(this.l.info("Failed to ping google.com"),Io(1))},$i.isActive=function(){return!!this.h&&this.h.isActive(this)},($i=Tc.prototype).Ba=function(){},$i.Aa=function(){},$i.za=function(){},$i.ya=function(){},$i.isActive=function(){return!0},$i.Va=function(){},jc.prototype.g=function(e,t){return new Ic(e,t)},na(Ic,Xa),Ic.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Io(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sc(e,null,e.Y),fc(e)},Ic.prototype.close=function(){uc(this.g)},Ic.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=to(e),e=n);t.j.push(new Tl(t.fb++,e)),3==t.H&&fc(t)},Ic.prototype.N=function(){this.g.h=null,delete this.j,uc(this.g),delete this.g,Ic.$.N.call(this)},na(Ac,Vo),na(Rc,zo),na(Dc,Tc),Dc.prototype.Ba=function(){Za(this.g,"a")},Dc.prototype.Aa=function(e){Za(this.g,new Ac(e))},Dc.prototype.za=function(e){Za(this.g,new Rc)},Dc.prototype.ya=function(){Za(this.g,"b")},na(Pc,(function(){this.blockSize=-1})),Pc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(0==s)for(;i<=n;)Lc(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){Lc(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){Lc(this,r),s=0;break}}this.h=s,this.i+=t},Pc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fc={};function Mc(e){return-128<=e&&128>e?function(e,t){var n=Fc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Oc([0|e],0>e?-1:0)})):new Oc([0|e],0>e?-1:0)}function Uc(e){if(isNaN(e)||!isFinite(e))return zc;if(0>e)return Wc(Uc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Vc;return new Oc(t,0)}var Vc=4294967296,zc=Mc(0),Bc=Mc(1),$c=Mc(16777216);function qc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hc(e){return-1==e.h}function Wc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oc(n,~e.h).add(Bc)}function Kc(e,t){return e.add(Wc(t))}function Gc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qc(e,t){this.g=e,this.h=t}function Jc(e,t){if(qc(t))throw Error("division by zero");if(qc(e))return new Qc(zc,zc);if(Hc(e))return t=Jc(Wc(e),t),new Qc(Wc(t.g),Wc(t.h));if(Hc(t))return t=Jc(e,Wc(t)),new Qc(Wc(t.g),t.h);if(30<e.g.length){if(Hc(e)||Hc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Bc,r=t;0>=r.X(e);)n=Yc(n),r=Yc(r);var s=Xc(n,1),i=Xc(r,1);for(r=Xc(r,2),n=Xc(n,2);!qc(r);){var a=i.add(r);0>=a.X(e)&&(s=s.add(n),i=a),r=Xc(r,1),n=Xc(n,1)}return t=Kc(e,s.R(t)),new Qc(s,t)}for(s=zc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(i=Uc(n)).R(t);Hc(a)||0<a.X(e);)a=(i=Uc(n-=r)).R(t);qc(i)&&(i=Bc),s=s.add(i),e=Kc(e,a)}return new Qc(s,e)}function Yc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oc(n,e.h)}function Xc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new Oc(s,e.h)}($i=Oc.prototype).ea=function(){if(Hc(this))return-Wc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Vc+r)*t,t*=Vc}return e},$i.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(qc(this))return"0";if(Hc(this))return"-"+Wc(this).toString(e);for(var t=Uc(Math.pow(e,6)),n=this,r="";;){var s=Jc(n,t).g,i=((0<(n=Kc(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(qc(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},$i.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},$i.X=function(e){return Hc(e=Kc(this,e))?-1:qc(e)?0:1},$i.abs=function(){return Hc(this)?Wc(this):this},$i.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(65535&this.D(s))+(65535&e.D(s)),a=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=a>>>16,i&=65535,a&=65535,n[s]=a<<16|i}return new Oc(n,-2147483648&n[n.length-1]?-1:0)},$i.R=function(e){if(qc(this)||qc(e))return zc;if(Hc(this))return Hc(e)?Wc(this).R(Wc(e)):Wc(Wc(this).R(e));if(Hc(e))return Wc(this.R(Wc(e)));if(0>this.X($c)&&0>e.X($c))return Uc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,a=65535&this.D(r),o=e.D(s)>>>16,l=65535&e.D(s);n[2*r+2*s]+=a*l,Gc(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Gc(n,2*r+2*s+1),n[2*r+2*s+1]+=a*o,Gc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*o,Gc(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oc(n,0)},$i.gb=function(e){return Jc(this,e).h},$i.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oc(n,this.h&e.h)},$i.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oc(n,this.h|e.h)},$i.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oc(n,this.h^e.h)},jc.prototype.createWebChannel=jc.prototype.g,Ic.prototype.send=Ic.prototype.u,Ic.prototype.open=Ic.prototype.m,Ic.prototype.close=Ic.prototype.close,Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,Po.COMPLETE="complete",Fo.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",Xa.prototype.listen=Xa.prototype.O,Ql.prototype.listenOnce=Ql.prototype.P,Ql.prototype.getLastError=Ql.prototype.Sa,Ql.prototype.getLastErrorCode=Ql.prototype.Ia,Ql.prototype.getStatus=Ql.prototype.da,Ql.prototype.getResponseJson=Ql.prototype.Wa,Ql.prototype.getResponseText=Ql.prototype.ja,Ql.prototype.send=Ql.prototype.ha,Ql.prototype.setWithCredentials=Ql.prototype.Oa,Pc.prototype.digest=Pc.prototype.l,Pc.prototype.reset=Pc.prototype.reset,Pc.prototype.update=Pc.prototype.j,Oc.prototype.add=Oc.prototype.add,Oc.prototype.multiply=Oc.prototype.R,Oc.prototype.modulo=Oc.prototype.gb,Oc.prototype.compare=Oc.prototype.X,Oc.prototype.toNumber=Oc.prototype.ea,Oc.prototype.toString=Oc.prototype.toString,Oc.prototype.getBits=Oc.prototype.D,Oc.fromNumber=Uc,Oc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Wc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Uc(Math.pow(n,8)),s=zc,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+a),n);8>a?(a=Uc(Math.pow(n,a)),s=s.R(a).add(Uc(o))):s=(s=s.R(r)).add(Uc(o))}return s};var Zc=Hi.createWebChannelTransport=function(){return new jc},eu=Hi.getStatEventTarget=function(){return So()},tu=Hi.ErrorCode=Do,nu=Hi.EventType=Po,ru=Hi.Event=_o,su=Hi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iu=Hi.FetchXmlHttpFactory=Bl,au=Hi.WebChannel=Fo,ou=Hi.XhrIo=Ql,lu=Hi.Md5=Pc,cu=Hi.Integer=Oc;const uu="@firebase/firestore";class hu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hu.UNAUTHENTICATED=new hu(null),hu.GOOGLE_CREDENTIALS=new hu("google-credentials-uid"),hu.FIRST_PARTY=new hu("first-party-uid"),hu.MOCK_USER=new hu("mock-user");let du="9.23.0";const fu=new Nt("@firebase/firestore");function pu(){return fu.logLevel}function mu(e){if(fu.logLevel<=vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(yu);fu.debug(`Firestore (${du}): ${e}`,...s)}}function gu(e){if(fu.logLevel<=vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(yu);fu.error(`Firestore (${du}): ${e}`,...s)}}function vu(e){if(fu.logLevel<=vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(yu);fu.warn(`Firestore (${du}): ${e}`,...s)}}function yu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bu(){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw gu(e),new Error(e)}function wu(e,t){e||bu()}function xu(e,t){return e}const Nu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Eu extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _u{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Cu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hu.UNAUTHENTICATED)))}shutdown(){}}class ku{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Tu{constructor(e){this.t=e,this.currentUser=hu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new _u;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _u,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{mu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(mu("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _u)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(mu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(wu("string"==typeof t.accessToken),new Cu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wu(null===e||"string"==typeof e),new hu(e)}}class ju{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=hu.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Iu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ju(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(hu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Au{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ru{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&mu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,mu("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{mu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):mu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(wu("string"==typeof e.token),this.T=e.token,new Au(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Du(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Pu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Du(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function Lu(e,t){return e<t?-1:e>t?1:0}function Ou(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Fu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Eu(Nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Eu(Nu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Eu(Nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Eu(Nu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fu.fromMillis(Date.now())}static fromDate(e){return Fu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Fu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lu(this.nanoseconds,e.nanoseconds):Lu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mu{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mu(e)}static min(){return new Mu(new Fu(0,0))}static max(){return new Mu(new Fu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Uu{constructor(e,t,n){void 0===t?t=0:t>e.length&&bu(),void 0===n?n=e.length-t:n>e.length-t&&bu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Uu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vu extends Uu{construct(e,t,n){return new Vu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Eu(Nu.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((e=>e.length>0)))}return new Vu(e)}static emptyPath(){return new Vu([])}}const zu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bu extends Uu{construct(e,t,n){return new Bu(e,t,n)}static isValidIdentifier(e){return zu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bu.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bu(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Eu(Nu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Eu(Nu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Eu(Nu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Eu(Nu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bu(t)}static emptyPath(){return new Bu([])}}class $u{constructor(e){this.path=e}static fromPath(e){return new $u(Vu.fromString(e))}static fromName(e){return new $u(Vu.fromString(e).popFirst(5))}static empty(){return new $u(Vu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $u(new Vu(e.slice()))}}class qu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}qu.UNKNOWN_ID=-1;function Hu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Mu.fromTimestamp(1e9===r?new Fu(n+1,0):new Fu(n,r));return new Ku(s,$u.empty(),t)}function Wu(e){return new Ku(e.readTime,e.key,-1)}class Ku{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ku(Mu.min(),$u.empty(),-1)}static max(){return new Ku(Mu.max(),$u.empty(),-1)}}function Gu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$u.comparator(e.documentKey,t.documentKey),0!==n?n:Lu(e.largestBatchId,t.largestBatchId))}const Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ju{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yu(e){if(e.code!==Nu.FAILED_PRECONDITION||e.message!==Qu)throw e;mu("LocalStore","Unexpectedly lost primary lease")}class Xu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xu?t:Xu.resolve(t)}catch(e){return Xu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xu.reject(t)}static resolve(e){return new Xu(((t,n)=>{t(e)}))}static reject(e){return new Xu(((t,n)=>{n(e)}))}static waitFor(e){return new Xu(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=Xu.resolve(!1);for(const n of e)t=t.next((e=>e?Xu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Xu(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Xu(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function Zu(e){return"IndexedDbTransactionError"===e.name}class eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function th(e){return null==e}function nh(e){return 0===e&&1/e==-1/0}function rh(e){return"number"==typeof e&&Number.isInteger(e)&&!nh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}eh.ct=-1;const sh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ih=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ah=ih;function oh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ch(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uh{constructor(e,t){this.comparator=e,this.root=t||dh.EMPTY}insert(e,t){return new uh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dh.BLACK,null,null))}remove(e){return new uh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dh{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:dh.RED,this.left=null!=r?r:dh.EMPTY,this.right=null!=s?s:dh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new dh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return dh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return dh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bu();if(this.right.isRed())throw bu();const e=this.left.check();if(e!==this.right.check())throw bu();return e+(this.isRed()?0:1)}}dh.EMPTY=null,dh.RED=!0,dh.BLACK=!1,dh.EMPTY=new class{constructor(){this.size=0}get key(){throw bu()}get value(){throw bu()}get color(){throw bu()}get left(){throw bu()}get right(){throw bu()}copy(e,t,n,r,s){return this}insert(e,t,n){return new dh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fh{constructor(e){this.comparator=e,this.data=new uh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ph(this.data.getIterator())}getIteratorFrom(e){return new ph(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof fh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fh(this.comparator);return t.data=e,t}}class ph{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mh{constructor(e){this.fields=e,e.sort(Bu.comparator)}static empty(){return new mh([])}unionWith(e){let t=new fh(Bu.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new gh("Invalid base64 string: "+e):e}}(e);return new vh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vh.EMPTY_BYTE_STRING=new vh("");const yh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bh(e){if(wu(!!e),"string"==typeof e){let t=0;const n=yh.exec(e);if(wu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wh(e.seconds),nanos:wh(e.nanos)}}function wh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xh(e){return"string"==typeof e?vh.fromBase64String(e):vh.fromUint8Array(e)}function Nh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Eh(e){const t=e.mapValue.fields.__previous_value__;return Nh(t)?Eh(t):t}function _h(e){const t=bh(e.mapValue.fields.__local_write_time__.timestampValue);return new Fu(t.seconds,t.nanos)}class Ch{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}const kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Th(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nh(e)?4:Bh(e)?9007199254740991:10:bu()}function jh(e,t){if(e===t)return!0;const n=Th(e);if(n!==Th(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _h(e).isEqual(_h(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bh(e.timestampValue),r=bh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xh(e.bytesValue).isEqual(xh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wh(e.geoPointValue.latitude)===wh(t.geoPointValue.latitude)&&wh(e.geoPointValue.longitude)===wh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wh(e.integerValue)===wh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wh(e.doubleValue),r=wh(t.doubleValue);return n===r?nh(n)===nh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ou(e.arrayValue.values||[],t.arrayValue.values||[],jh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oh(n)!==oh(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!jh(n[s],r[s])))return!1;return!0}(e,t);default:return bu()}}function Ih(e,t){return void 0!==(e.values||[]).find((e=>jh(e,t)))}function Ah(e,t){if(e===t)return 0;const n=Th(e),r=Th(t);if(n!==r)return Lu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wh(e.integerValue||e.doubleValue),r=wh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rh(e.timestampValue,t.timestampValue);case 4:return Rh(_h(e),_h(t));case 5:return Lu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xh(e),r=xh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Lu(n[s],r[s]);if(0!==e)return e}return Lu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lu(wh(e.latitude),wh(t.latitude));return 0!==n?n:Lu(wh(e.longitude),wh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ah(n[s],r[s]);if(e)return e}return Lu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===kh.mapValue&&t===kh.mapValue)return 0;if(e===kh.mapValue)return 1;if(t===kh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Lu(r[a],i[a]);if(0!==e)return e;const t=Ah(n[r[a]],s[i[a]]);if(0!==t)return t}return Lu(r.length,i.length)}(e.mapValue,t.mapValue);default:throw bu()}}function Rh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lu(e,t);const n=bh(e),r=bh(t),s=Lu(n.seconds,r.seconds);return 0!==s?s:Lu(n.nanos,r.nanos)}function Dh(e){return Ph(e)}function Ph(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$u.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ph(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Ph(e.fields[s])}`;return n+"}"}(e.mapValue):bu();var t,n}function Lh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Oh(e){return!!e&&"integerValue"in e}function Fh(e){return!!e&&"arrayValue"in e}function Mh(e){return!!e&&"nullValue"in e}function Uh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vh(e){return!!e&&"mapValue"in e}function zh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lh(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Bh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class $h{constructor(e){this.value=e}static empty(){return new $h({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(t)}setAll(e){let t=Bu.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=zh(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lh(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $h(zh(this.value))}}function qh(e){const t=[];return lh(e.fields,((e,n)=>{const r=new Bu([e]);if(Vh(n)){const e=qh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new mh(t)}class Hh{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Hh(e,0,Mu.min(),Mu.min(),Mu.min(),$h.empty(),0)}static newFoundDocument(e,t,n,r){return new Hh(e,1,t,Mu.min(),n,r,0)}static newNoDocument(e,t){return new Hh(e,2,t,Mu.min(),Mu.min(),$h.empty(),0)}static newUnknownDocument(e,t){return new Hh(e,3,t,Mu.min(),Mu.min(),$h.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mu.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$h.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$h.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mu.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function Kh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?$u.comparator($u.fromName(a.referenceValue),n.key):Ah(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Gh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jh(e.position[n],t.position[n]))return!1;return!0}class Qh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Jh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yh{}class Xh extends Yh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ad(e,t,n):"array-contains"===t?new ud(e,n):"in"===t?new hd(e,n):"not-in"===t?new dd(e,n):"array-contains-any"===t?new fd(e,n):new Xh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new od(e,n):new ld(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ah(t,this.value)):null!==t&&Th(this.value)===Th(t)&&this.matchesComparison(Ah(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bu()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zh extends Yh{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Zh(e,t)}matches(e){return ed(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ed(e){return"and"===e.op}function td(e){return nd(e)&&ed(e)}function nd(e){for(const t of e.filters)if(t instanceof Zh)return!1;return!0}function rd(e){if(e instanceof Xh)return e.field.canonicalString()+e.op.toString()+Dh(e.value);if(td(e))return e.filters.map((e=>rd(e))).join(",");{const t=e.filters.map((e=>rd(e))).join(",");return`${e.op}(${t})`}}function sd(e,t){return e instanceof Xh?function(e,t){return t instanceof Xh&&e.op===t.op&&e.field.isEqual(t.field)&&jh(e.value,t.value)}(e,t):e instanceof Zh?function(e,t){return t instanceof Zh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&sd(n,t.filters[r])),!0)}(e,t):void bu()}function id(e){return e instanceof Xh?function(e){return`${e.field.canonicalString()} ${e.op} ${Dh(e.value)}`}(e):e instanceof Zh?function(e){return e.op.toString()+" {"+e.getFilters().map(id).join(" ,")+"}"}(e):"Filter"}class ad extends Xh{constructor(e,t,n){super(e,t,n),this.key=$u.fromName(n.referenceValue)}matches(e){const t=$u.comparator(e.key,this.key);return this.matchesComparison(t)}}class od extends Xh{constructor(e,t){super(e,"in",t),this.keys=cd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ld extends Xh{constructor(e,t){super(e,"not-in",t),this.keys=cd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$u.fromName(e.referenceValue)))}class ud extends Xh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fh(t)&&Ih(t.arrayValue,this.value)}}class hd extends Xh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ih(this.value.arrayValue,t)}}class dd extends Xh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ih(this.value.arrayValue,t)}}class fd extends Xh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ih(this.value.arrayValue,e)))}}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.dt=null}}function md(e){return new pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gd(e){const t=xu(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>rd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),th(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Dh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Dh(e))).join(",")),t.dt=e}return t.dt}function vd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!sd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gh(e.startAt,t.startAt)&&Gh(e.endAt,t.endAt)}function yd(e){return $u.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function wd(e,t,n,r,s,i,a,o){return new bd(e,t,n,r,s,i,a,o)}function xd(e){return new bd(e)}function Nd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ed(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _d(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Cd(e){return null!==e.collectionGroup}function Sd(e){const t=xu(e);if(null===t.wt){t.wt=[];const e=_d(t),n=Ed(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Qh(e)),t.wt.push(new Qh(Bu.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Qh(Bu.keyField(),e))}}}return t.wt}function kd(e){const t=xu(e);if(!t._t)if("F"===t.limitType)t._t=md(t.path,t.collectionGroup,Sd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Sd(t)){const t="desc"===s.dir?"asc":"desc";e.push(new Qh(s.field,t))}const n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;t._t=md(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Td(e,t){t.getFirstInequalityField(),_d(e);const n=e.filters.concat([t]);return new bd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jd(e,t,n){return new bd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Id(e,t){return vd(kd(e),kd(t))&&e.limitType===t.limitType}function Ad(e){return`${gd(kd(e))}|lt:${e.limitType}`}function Rd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>id(e))).join(", ")}]`),th(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Dh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Dh(e))).join(",")),`Target(${t})`}(kd(e))}; limitType=${e.limitType})`}function Dd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$u.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sd(e),t))&&!(e.endAt&&!function(e,t,n){const r=Kh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sd(e),t))}(e,t)}function Pd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ld(e){return(t,n)=>{let r=!1;for(const s of Sd(e)){const e=Od(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Od(e,t,n){const r=e.field.isKeyField()?$u.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ah(r,s):bu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bu()}}class Fd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lh(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return ch(this.inner)}size(){return this.innerSize}}const Md=new uh($u.comparator);function Ud(){return Md}const Vd=new uh($u.comparator);function zd(){let e=Vd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Bd(e){let t=Vd;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function $d(){return Hd()}function qd(){return Hd()}function Hd(){return new Fd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Wd=new uh($u.comparator),Kd=new fh($u.comparator);function Gd(){let e=Kd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Qd=new fh(Lu);function Jd(){return Qd}function Yd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function Xd(e){return{integerValue:""+e}}function Zd(e,t){return rh(t)?Xd(t):Yd(e,t)}class ef{constructor(){this._=void 0}}function tf(e,t,n){return e instanceof sf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nh(t)&&(t=Eh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof af?of(e,t):e instanceof lf?cf(e,t):function(e,t){const n=rf(e,t),r=hf(n)+hf(e.gt);return Oh(n)&&Oh(e.gt)?Xd(r):Yd(e.serializer,r)}(e,t)}function nf(e,t,n){return e instanceof af?of(e,t):e instanceof lf?cf(e,t):n}function rf(e,t){return e instanceof uf?Oh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class sf extends ef{}class af extends ef{constructor(e){super(),this.elements=e}}function of(e,t){const n=df(t);for(const r of e.elements)n.some((e=>jh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class lf extends ef{constructor(e){super(),this.elements=e}}function cf(e,t){let n=df(t);for(const r of e.elements)n=n.filter((e=>!jh(e,r)));return{arrayValue:{values:n}}}class uf extends ef{constructor(e,t){super(),this.serializer=e,this.gt=t}}function hf(e){return wh(e.integerValue||e.doubleValue)}function df(e){return Fh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ff{constructor(e,t){this.version=e,this.transformResults=t}}class pf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pf}static exists(e){return new pf(void 0,e)}static updateTime(e){return new pf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gf{}function vf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kf(e.key,pf.none()):new Nf(e.key,e.data,pf.none());{const n=e.data,r=$h.empty();let s=new fh(Bu.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Ef(e.key,r,new mh(s.toArray()),pf.none())}}function yf(e,t,n){e instanceof Nf?function(e,t,n){const r=e.value.clone(),s=Cf(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ef?function(e,t,n){if(!mf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cf(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(_f(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bf(e,t,n,r){return e instanceof Nf?function(e,t,n,r){if(!mf(e.precondition,t))return n;const s=e.value.clone(),i=Sf(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ef?function(e,t,n,r){if(!mf(e.precondition,t))return n;const s=Sf(e.fieldTransforms,r,t),i=t.data;return i.setAll(_f(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return mf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=rf(r.transform,e||null);null!=s&&(null===n&&(n=$h.empty()),n.set(r.field,s))}return n||null}function xf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ou(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof af&&t instanceof af||e instanceof lf&&t instanceof lf?Ou(e.elements,t.elements,jh):e instanceof uf&&t instanceof uf?jh(e.gt,t.gt):e instanceof sf&&t instanceof sf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Nf extends gf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ef extends gf{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _f(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Cf(e,t,n){const r=new Map;wu(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,nf(a,o,n[s]))}return r}function Sf(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,tf(e,i,t))}return r}class kf extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tf extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=bf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=bf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=qd();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=vf(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Mu.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Gd())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,((e,t)=>xf(e,t)))&&Ou(this.baseMutations,e.baseMutations,((e,t)=>xf(e,t)))}}class If{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){wu(e.mutations.length===n.length);let r=Wd;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new If(e,t,n,r)}}class Af{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rf{constructor(e,t){this.count=e,this.unchangedNames=t}}var Df,Pf;function Lf(e){switch(e){default:return bu();case Nu.CANCELLED:case Nu.UNKNOWN:case Nu.DEADLINE_EXCEEDED:case Nu.RESOURCE_EXHAUSTED:case Nu.INTERNAL:case Nu.UNAVAILABLE:case Nu.UNAUTHENTICATED:return!1;case Nu.INVALID_ARGUMENT:case Nu.NOT_FOUND:case Nu.ALREADY_EXISTS:case Nu.PERMISSION_DENIED:case Nu.FAILED_PRECONDITION:case Nu.ABORTED:case Nu.OUT_OF_RANGE:case Nu.UNIMPLEMENTED:case Nu.DATA_LOSS:return!0}}function Of(e){if(void 0===e)return gu("GRPC error has no .code"),Nu.UNKNOWN;switch(e){case Df.OK:return Nu.OK;case Df.CANCELLED:return Nu.CANCELLED;case Df.UNKNOWN:return Nu.UNKNOWN;case Df.DEADLINE_EXCEEDED:return Nu.DEADLINE_EXCEEDED;case Df.RESOURCE_EXHAUSTED:return Nu.RESOURCE_EXHAUSTED;case Df.INTERNAL:return Nu.INTERNAL;case Df.UNAVAILABLE:return Nu.UNAVAILABLE;case Df.UNAUTHENTICATED:return Nu.UNAUTHENTICATED;case Df.INVALID_ARGUMENT:return Nu.INVALID_ARGUMENT;case Df.NOT_FOUND:return Nu.NOT_FOUND;case Df.ALREADY_EXISTS:return Nu.ALREADY_EXISTS;case Df.PERMISSION_DENIED:return Nu.PERMISSION_DENIED;case Df.FAILED_PRECONDITION:return Nu.FAILED_PRECONDITION;case Df.ABORTED:return Nu.ABORTED;case Df.OUT_OF_RANGE:return Nu.OUT_OF_RANGE;case Df.UNIMPLEMENTED:return Nu.UNIMPLEMENTED;case Df.DATA_LOSS:return Nu.DATA_LOSS;default:return bu()}}(Pf=Df||(Df={}))[Pf.OK=0]="OK",Pf[Pf.CANCELLED=1]="CANCELLED",Pf[Pf.UNKNOWN=2]="UNKNOWN",Pf[Pf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pf[Pf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pf[Pf.NOT_FOUND=5]="NOT_FOUND",Pf[Pf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pf[Pf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pf[Pf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pf[Pf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pf[Pf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pf[Pf.ABORTED=10]="ABORTED",Pf[Pf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pf[Pf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pf[Pf.INTERNAL=13]="INTERNAL",Pf[Pf.UNAVAILABLE=14]="UNAVAILABLE",Pf[Pf.DATA_LOSS=15]="DATA_LOSS";class Ff{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Mf}static getOrCreateInstance(){return null===Mf&&(Mf=new Ff),Mf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Mf=null;function Uf(){return new TextEncoder}const Vf=new cu([4294967295,4294967295],0);function zf(e){const t=Uf().encode(e),n=new lu;return n.update(t),new Uint8Array(n.digest())}function Bf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cu([n,r],0),new cu([s,i],0)]}class $f{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qf(`Invalid padding: ${t}`);if(n<0)throw new qf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new qf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new qf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cu.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(cu.fromNumber(n)));return 1===r.compare(Vf)&&(r=new cu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zf(e),[n,r]=Bf(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new $f(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.It)return;const t=zf(e),[n,r]=Bf(t);for(let s=0;s<this.hashCount;s++){const e=this.Et(n,r,s);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hf{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hf(Mu.min(),r,new uh(Lu),Ud(),Gd())}}class Wf{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Wf(n,t,Gd(),Gd(),Gd())}}class Kf{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Gf{constructor(e,t){this.targetId=e,this.Vt=t}}class Qf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jf{constructor(){this.St=0,this.Dt=Zf(),this.Ct=vh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gd(),t=Gd(),n=Gd();return this.Dt.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bu()}})),new Wf(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Zf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Yf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ud(),this.zt=Xf(),this.Wt=new uh(Lu)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:bu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,s=this.se(n);if(s){const i=s.target;if(yd(i))if(0===r){const e=new $u(i.path);this.Yt(n,e,Hh.newNoDocument(e,Mu.min()))}else wu(1===r);else{const s=this.ie(n);if(s!==r){const r=this.re(e,s);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Ff.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,s,i,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(i=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.bitmap)||void 0===i?void 0:i.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,s,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=xh(s).toUint8Array()}catch(e){if(e instanceof gh)return vu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new $f(o,i,a)}catch(e){return vu(e instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const s=this.Gt.ue(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;t.vt(i)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const s=this.se(r);if(s){if(n.current&&yd(s.target)){const t=new $u(s.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Hh.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Gd();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Hf(e,t,this.Wt,this.jt,n);return this.jt=Ud(),this.zt=Xf(),this.Wt=new uh(Lu),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Jf,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new fh(Lu),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||mu("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Jf),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Xf(){return new uh($u.comparator)}function Zf(){return new uh($u.comparator)}const ep={asc:"ASCENDING",desc:"DESCENDING"},tp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},np={and:"AND",or:"OR"};class rp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sp(e,t){return e.useProto3Json||th(t)?t:{value:t}}function ip(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ap(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function op(e,t){return ip(e,t.toTimestamp())}function lp(e){return wu(!!e),Mu.fromTimestamp(function(e){const t=bh(e);return new Fu(t.seconds,t.nanos)}(e))}function cp(e,t){return function(e){return new Vu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function up(e){const t=Vu.fromString(e);return wu(Ip(t)),t}function hp(e,t){return cp(e.databaseId,t.path)}function dp(e,t){const n=up(t);if(n.get(1)!==e.databaseId.projectId)throw new Eu(Nu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Eu(Nu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $u(gp(n))}function fp(e,t){return cp(e.databaseId,t)}function pp(e){const t=up(e);return 4===t.length?Vu.emptyPath():gp(t)}function mp(e){return new Vu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gp(e){return wu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vp(e,t,n){return{name:hp(e,t),fields:n.value.mapValue.fields}}function yp(e,t){let n;if(t instanceof Nf)n={update:vp(e,t.key,t.value)};else if(t instanceof kf)n={delete:hp(e,t.key)};else if(t instanceof Ef)n={update:vp(e,t.key,t.data),updateMask:jp(t.fieldMask)};else{if(!(t instanceof Tf))return bu();n={verify:hp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof sf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof af)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw bu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:op(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bu()}(e,t.precondition)),n}function bp(e,t){return{documents:[fp(e,t.path)]}}function wp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0!==e.length)return Tp(Zh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Sp(e.field),direction:Ep(e.dir)}}(e)))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const a=sp(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function xp(e){let t=pp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wu(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Np(e);return t instanceof Zh&&td(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Qh(kp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,th(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wh(n,t)}(n.endAt)),wd(t,s,a,i,o,"F",l,c)}function Np(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kp(e.unaryFilter.field);return Xh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kp(e.unaryFilter.field);return Xh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kp(e.unaryFilter.field);return Xh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kp(e.unaryFilter.field);return Xh.create(s,"!=",{nullValue:"NULL_VALUE"});default:return bu()}}(e):void 0!==e.fieldFilter?function(e){return Xh.create(kp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zh.create(e.compositeFilter.filters.map((e=>Np(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bu()}}(e.compositeFilter.op))}(e):bu()}function Ep(e){return ep[e]}function _p(e){return tp[e]}function Cp(e){return np[e]}function Sp(e){return{fieldPath:e.canonicalString()}}function kp(e){return Bu.fromServerFormat(e.fieldPath)}function Tp(e){return e instanceof Xh?function(e){if("=="===e.op){if(Uh(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NAN"}};if(Mh(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uh(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NAN"}};if(Mh(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(e.field),op:_p(e.op),value:e.value}}}(e):e instanceof Zh?function(e){const t=e.getFilters().map((e=>Tp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Cp(e.op),filters:t}}}(e):bu()}function jp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ip(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ap{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mu.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mu.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ap(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rp{constructor(e){this.fe=e}}function Dp(e){const t=xp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jd(t,t.limit,"L"):t}class Pp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wh(e.integerValue));else if("doubleValue"in e){const n=wh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),nh(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Bh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):bu()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),$u.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Pp.Ve=new Pp;class Lp{constructor(){this.rn=new Op}addToCollectionParentIndex(e,t){return this.rn.add(t),Xu.resolve()}getCollectionParents(e,t){return Xu.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Xu.resolve()}deleteFieldIndex(e,t){return Xu.resolve()}getDocumentsMatchingTarget(e,t){return Xu.resolve(null)}getIndexType(e,t){return Xu.resolve(0)}getFieldIndexes(e,t){return Xu.resolve([])}getNextCollectionGroupToUpdate(e){return Xu.resolve(null)}getMinOffset(e,t){return Xu.resolve(Ku.min())}getMinOffsetFromCollectionGroup(e,t){return Xu.resolve(Ku.min())}updateCollectionGroup(e,t,n){return Xu.resolve()}updateIndexEntries(e,t){return Xu.resolve()}}class Op{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fh(Vu.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fh(Vu.comparator)).toArray()}}new Uint8Array(0);class Fp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fp(e,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fp.DEFAULT_COLLECTION_PERCENTILE=10,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fp.DEFAULT=new Fp(41943040,Fp.DEFAULT_COLLECTION_PERCENTILE,Fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fp.DISABLED=new Fp(-1,0,0);class Mp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mp(0)}static Mn(){return new Mp(-1)}}class Up{constructor(){this.changes=new Fd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&bf(n.mutation,e,mh.empty(),Fu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Gd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gd();const r=$d();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=zd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=$d();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Gd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=Ud();const i=Hd(),a=Hd();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ef)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),bf(a.mutation,t,a.mutation.getFieldMask(),Fu.now())):i.set(t.key,mh.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Vp(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Hd();let r=new uh(((e,t)=>e-t)),s=Gd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||mh.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||Gd()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=qd();l.forEach((e=>{if(!s.has(e)){const r=vf(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Xu.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return $u.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Xu.resolve($d());let a=-1,o=s;return i.next((t=>Xu.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Xu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,Gd()))).next((e=>({batchId:a,changes:Bd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $u(t)).next((e=>{let t=zd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let s=zd();return this.indexManager.getCollectionParents(e,r).next((i=>Xu.forEach(i,(i=>{const a=function(e,t){return new bd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Hh.newInvalidDocument(r)))}));let n=zd();return e.forEach(((e,s)=>{const i=r.get(e);void 0!==i&&bf(i.mutation,s,mh.empty(),Fu.now()),Dd(t,s)&&(n=n.insert(e,s))})),n}))}}class Bp{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Xu.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:lp(n.createTime)}),Xu.resolve()}getNamedQuery(e,t){return Xu.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Dp(e.bundledQuery),readTime:lp(e.readTime)}}(t)),Xu.resolve()}}class $p{constructor(){this.overlays=new uh($u.comparator),this.ls=new Map}getOverlay(e,t){return Xu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$d();return Xu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Xu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Xu.resolve()}getOverlaysForCollection(e,t,n){const r=$d(),s=t.length+1,i=new $u(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new uh(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=$d(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=$d(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Xu.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Af(t,n));let s=this.ls.get(t);void 0===s&&(s=Gd(),this.ls.set(t,s)),this.ls.set(t,s.add(n.key))}}class qp{constructor(){this.fs=new fh(Hp.ds),this.ws=new fh(Hp._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Hp(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Hp(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new $u(new Vu([])),n=new Hp(t,e),r=new Hp(t,e+1),s=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),s.push(e.key)})),s}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new $u(new Vu([])),n=new Hp(t,e),r=new Hp(t,e+1);let s=Gd();return this.ws.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Hp(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Hp{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return $u.comparator(e.key,t.key)||Lu(e.As,t.As)}static _s(e,t){return Lu(e.As,t.As)||$u.comparator(e.key,t.key)}}class Wp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new fh(Hp.ds)}checkEmpty(e){return Xu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new jf(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Rs=this.Rs.add(new Hp(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xu.resolve(i)}lookupMutationBatch(e,t){return Xu.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),s=r<0?0:r;return Xu.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xu.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Xu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Hp(t,0),r=new Hp(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);s.push(t)})),Xu.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fh(Lu);return t.forEach((e=>{const t=new Hp(e,0),r=new Hp(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Xu.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;$u.isDocumentKey(s)||(s=s.child(""));const i=new Hp(new $u(s),0);let a=new fh(Lu);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),i),Xu.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){wu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Xu.forEach(t.mutations,(r=>{const s=new Hp(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Hp(t,0),r=this.Rs.firstAfterOrEqual(n);return Xu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xu.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kp{constructor(e){this.Ds=e,this.docs=new uh($u.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xu.resolve(n?n.document.mutableCopy():Hh.newInvalidDocument(t))}getEntries(e,t){let n=Ud();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hh.newInvalidDocument(e))})),Xu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ud();const i=t.path,a=new $u(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Gu(Wu(a),n)<=0||(r.has(a.key)||Dd(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Xu.resolve(s)}getAllFromCollectionGroup(e,t,n,r){bu()}Cs(e,t){return Xu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Gp(this)}getSize(e){return Xu.resolve(this.size)}}class Gp extends Up{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Xu.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Qp{constructor(e){this.persistence=e,this.xs=new Fd((e=>gd(e)),vd),this.lastRemoteSnapshotVersion=Mu.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qp,this.targetCount=0,this.Ms=Mp.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Xu.resolve()}getLastRemoteSnapshotVersion(e){return Xu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xu.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Xu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Xu.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Mp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Xu.resolve()}updateTargetData(e,t){return this.Fn(t),Xu.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Xu.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.xs.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Xu.waitFor(s).next((()=>r))}getTargetCount(e){return Xu.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Xu.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Xu.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),Xu.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Xu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Xu.resolve(n)}containsKey(e,t){return Xu.resolve(this.ks.containsKey(t))}}class Jp{constructor(e,t){this.$s={},this.overlays={},this.Os=new eh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Qp(this),this.indexManager=new Lp,this.remoteDocumentCache=function(e){return new Kp(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Rp(t),this.qs=new Bp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $p,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Wp(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){mu("MemoryPersistence","Starting transaction:",e);const r=new Yp(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Xu.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Yp extends Ju{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Qs=new qp,this.js=null}static zs(e){return new Xp(e)}get Ws(){if(this.js)return this.js;throw bu()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Xu.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Xu.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Xu.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xu.forEach(this.Ws,(n=>{const r=$u.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Mu.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Xu.or([()=>Xu.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Zp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Gd(),r=Gd();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zp(e,t.fromCache,n,r)}}class em{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((s=>s||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Nd(t))return Xu.resolve(null);let n=kd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=jd(t,null,"F"),n=kd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=Gd(...r);return this.Ui.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.ji(t,r);return this.zi(t,i,s,n.readTime)?this.Ki(e,jd(t,null,"F")):this.Wi(e,i,t,n)}))))})))))}Gi(e,t,n,r){return Nd(t)||r.isEqual(Mu.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((s=>{const i=this.ji(t,s);return this.zi(t,i,n,r)?this.Qi(e,t):(pu()<=vt.DEBUG&&mu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rd(t)),this.Wi(e,i,t,Hu(r,-1)))}))}ji(e,t){let n=new fh(Ld(e));return t.forEach(((t,r)=>{Dd(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return pu()<=vt.DEBUG&&mu("QueryEngine","Using full collection scan to execute query:",Rd(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ku.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class tm{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new uh(Lu),this.Yi=new Fd((e=>gd(e)),vd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function nm(e,t,n,r){return new tm(e,t,n,r)}async function rm(e,t){const n=xu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=Gd();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function sm(e){const t=xu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function im(e,t,n){let r=Gd(),s=Gd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ud();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Mu.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{nr:r,sr:s}}))}function am(e,t){const n=xu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function om(e,t){const n=xu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((s=>s?(r=s,Xu.resolve(r)):n.Bs.allocateTargetId(e).next((s=>(r=new Ap(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function lm(e,t,n){const r=xu(e),s=r.Ji.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!Zu(e))throw e;mu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}function cm(e,t,n){const r=xu(e);let s=Mu.min(),i=Gd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=xu(e),s=r.Yi.get(n);return void 0!==s?Xu.resolve(r.Ji.get(s)):r.Bs.getTargetData(t,n)}(r,e,kd(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?s:Mu.min(),n?i:Gd()))).next((e=>(um(r,Pd(t),e),{documents:e,ir:i})))))}function um(e,t,n){let r=e.Xi.get(t)||Mu.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class hm{constructor(){this.activeTargetIds=Jd()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dm{constructor(){this.Hr=new hm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fm{Yr(e){}shutdown(){}}class pm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mm=null;function gm(){return null===mm?mm=268435456+Math.round(2147483648*Math.random()):mm++,"0x"+mm.toString(16)}const vm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ym{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bm="WebChannelConnection";class wm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,s){const i=gm(),a=this.To(e,t);mu("RestConnection",`Sending RPC '${e}' ${i}:`,a,n);const o={};return this.Eo(o,r,s),this.Ao(e,a,o,n).then((t=>(mu("RestConnection",`Received RPC '${e}' ${i}: `,t),t)),(t=>{throw vu("RestConnection",`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,s,i){return this.Io(e,t,n,r,s)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=vm[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const s=gm();return new Promise(((i,a)=>{const o=new ou;o.setWithCredentials(!0),o.listenOnce(nu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case tu.NO_ERROR:const t=o.getResponseJson();mu(bm,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case tu.TIMEOUT:mu(bm,`RPC '${e}' ${s} timed out`),a(new Eu(Nu.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const n=o.getStatus();if(mu(bm,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nu).indexOf(t)>=0?t:Nu.UNKNOWN}(t.status);a(new Eu(e,t.message))}else a(new Eu(Nu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Eu(Nu.UNAVAILABLE,"Connection failed."));break;default:bu()}}finally{mu(bm,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);mu(bm,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=gm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zc(),a=eu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new iu({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");mu(bm,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);let h=!1,d=!1;const f=new ym({ro:t=>{d?mu(bm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(mu(bm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),mu(bm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,au.EventType.OPEN,(()=>{d||mu(bm,`RPC '${e}' stream ${r} transport opened.`)})),p(u,au.EventType.CLOSE,(()=>{d||(d=!0,mu(bm,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,au.EventType.ERROR,(t=>{d||(d=!0,vu(bm,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Eu(Nu.UNAVAILABLE,"The operation could not be completed")))})),p(u,au.EventType.MESSAGE,(t=>{var n;if(!d){const s=t.data[0];wu(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){mu(bm,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Df[e];if(void 0!==t)return Of(t)}(t),s=a.message;void 0===n&&(n=Nu.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Eu(n,s)),u.close()}else mu(bm,`RPC '${e}' stream ${r} received:`,s),f._o(s)}})),p(a,ru.STAT_EVENT,(t=>{t.stat===su.PROXY?mu(bm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===su.NOPROXY&&mu(bm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function xm(){return"undefined"!=typeof document?document:null}function Nm(e){return new rp(e,!0)}class Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&mu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class _m{constructor(e,t,n,r,s,i,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Em(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Nu.RESOURCE_EXHAUSTED?(gu(t.toString()),gu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Nu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new Eu(Nu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return mu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cm extends _m{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bu()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(wu(void 0===t||"string"==typeof t),vh.fromBase64String(t||"")):(wu(void 0===t||t instanceof Uint8Array),vh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Nu.UNKNOWN:Of(e.code);return new Eu(t,e.message||"")}(a);n=new Qf(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=dp(e,r.document.name),i=lp(r.document.updateTime),a=r.document.createTime?lp(r.document.createTime):Mu.min(),o=new $h({mapValue:{fields:r.document.fields}}),l=Hh.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Kf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=dp(e,r.document),i=r.readTime?lp(r.readTime):Mu.min(),a=Hh.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Kf([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=dp(e,r.document),i=r.removedTargetIds||[];n=new Kf([],i,s,null)}else{if(!("filter"in t))return bu();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Rf(r,s),a=e.targetId;n=new Gf(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mu.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mu.min():t.readTime?lp(t.readTime):Mu.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=mp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yd(r)?{documents:bp(e,r)}:{query:wp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ap(e,t.resumeToken);const r=sp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mu.min())>0){n.readTime=ip(e,t.snapshotVersion.toTimestamp());const r=sp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Sm extends _m{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(wu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?lp(e.updateTime):lp(t);return n.isEqual(Mu.min())&&(n=lp(t)),new ff(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=lp(e.commitTime);return this.listener.cu(n,t)}return wu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=mp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>yp(this.serializer,e)))};this.Wo(t)}}class km extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Eu(Nu.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,i]=r;return this.connection.Io(e,t,n,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Nu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(Nu.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,a]=s;return this.connection.vo(e,t,n,i,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Nu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Eu(Nu.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class Tm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gu(t),this.mu=!1):mu("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jm{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Mm(this)&&(mu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=xu(e);t.vu.add(4),await Am(t),t.bu.set("Unknown"),t.vu.delete(4),await Im(t)}(this))}))})),this.bu=new Tm(n,r)}}async function Im(e){if(Mm(e))for(const t of e.Ru)await t(!0)}async function Am(e){for(const t of e.Ru)await t(!1)}function Rm(e,t){const n=xu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Fm(n)?Om(n):ng(n).Ko()&&Pm(n,t))}function Dm(e,t){const n=xu(e),r=ng(n);n.Au.delete(t),r.Ko()&&Lm(n,t),0===n.Au.size&&(r.Ko()?r.jo():Mm(n)&&n.bu.set("Unknown"))}function Pm(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mu.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ng(e).su(t)}function Lm(e,t){e.Vu.qt(t),ng(e).iu(t)}function Om(e){e.Vu=new Yf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),ng(e).start(),e.bu.gu()}function Fm(e){return Mm(e)&&!ng(e).Uo()&&e.Au.size>0}function Mm(e){return 0===xu(e).vu.size}function Um(e){e.Vu=void 0}async function Vm(e){e.Au.forEach(((t,n)=>{Pm(e,t)}))}async function zm(e,t){Um(e),Fm(e)?(e.bu.Iu(t),Om(e)):e.bu.set("Unknown")}async function Bm(e,t,n){if(e.bu.set("Online"),t instanceof Qf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){mu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $m(e,n)}else if(t instanceof Kf?e.Vu.Ht(t):t instanceof Gf?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Mu.min()))try{const t=await sm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Au.get(r);s&&e.Au.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(vh.EMPTY_BYTE_STRING,r.snapshotVersion)),Lm(e,t);const s=new Ap(r.target,t,n,r.sequenceNumber);Pm(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){mu("RemoteStore","Failed to raise snapshot:",t),await $m(e,t)}}async function $m(e,t,n){if(!Zu(t))throw t;e.vu.add(1),await Am(e),e.bu.set("Offline"),n||(n=()=>sm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{mu("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Im(e)}))}function qm(e,t){return t().catch((n=>$m(e,n,t)))}async function Hm(e){const t=xu(e),n=rg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Wm(t);)try{const e=await am(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Km(t,e)}catch(e){await $m(t,e)}Gm(t)&&Qm(t)}function Wm(e){return Mm(e)&&e.Eu.length<10}function Km(e,t){e.Eu.push(t);const n=rg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Gm(e){return Mm(e)&&!rg(e).Uo()&&e.Eu.length>0}function Qm(e){rg(e).start()}async function Jm(e){rg(e).hu()}async function Ym(e){const t=rg(e);for(const n of e.Eu)t.uu(n.mutations)}async function Xm(e,t,n){const r=e.Eu.shift(),s=If.from(r,t,n);await qm(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Hm(e)}async function Zm(e,t){t&&rg(e).ou&&await async function(e,t){if(Lf(n=t.code)&&n!==Nu.ABORTED){const n=e.Eu.shift();rg(e).Qo(),await qm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Hm(e)}var n}(e,t),Gm(e)&&Qm(e)}async function eg(e,t){const n=xu(e);n.asyncQueue.verifyOperationInProgress(),mu("RemoteStore","RemoteStore received new credentials");const r=Mm(n);n.vu.add(3),await Am(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Im(n)}async function tg(e,t){const n=xu(e);t?(n.vu.delete(2),await Im(n)):t||(n.vu.add(2),await Am(n),n.bu.set("Unknown"))}function ng(e){return e.Su||(e.Su=function(e,t,n){const r=xu(e);return r.fu(),new Cm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Vm.bind(null,e),ao:zm.bind(null,e),nu:Bm.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Fm(e)?Om(e):e.bu.set("Unknown")):(await e.Su.stop(),Um(e))}))),e.Su}function rg(e){return e.Du||(e.Du=function(e,t,n){const r=xu(e);return r.fu(),new Sm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Jm.bind(null,e),ao:Zm.bind(null,e),au:Ym.bind(null,e),cu:Xm.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Hm(e)):(await e.Du.stop(),e.Eu.length>0&&(mu("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class sg{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new _u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new sg(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Eu(Nu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(e,t){if(gu("AsyncQueue",`${t}: ${e}`),Zu(e))return new Eu(Nu.UNAVAILABLE,`${t}: ${e}`);throw e}class ag{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$u.comparator(t.key,n.key):(e,t)=>$u.comparator(e.key,t.key),this.keyedMap=zd(),this.sortedSet=new uh(this.comparator)}static emptySet(e){return new ag(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ag))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ag;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class og{constructor(){this.Cu=new uh($u.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):bu():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lg{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new lg(e,t,ag.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cg{constructor(){this.Nu=void 0,this.listeners=[]}}class ug{constructor(){this.queries=new Fd((e=>Ad(e)),Id),this.onlineState="Unknown",this.ku=new Set}}async function hg(e,t){const n=xu(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new cg),s)try{i.Nu=await n.onListen(r)}catch(e){const n=ig(e,`Initialization of query '${Rd(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.Mu(n.onlineState),i.Nu&&t.$u(i.Nu)&&mg(n)}async function dg(e,t){const n=xu(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function fg(e,t){const n=xu(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(s)&&(r=!0);t.Nu=s}}r&&mg(n)}function pg(e,t,n){const r=xu(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function mg(e){e.ku.forEach((e=>{e.next()}))}class gg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vg{constructor(e){this.key=e}}class yg{constructor(e){this.key=e}}class bg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gd(),this.mutatedKeys=Gd(),this.tc=Ld(e),this.ec=new ag(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new og,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Dd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{ec:i,ic:n,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bu()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const i=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==s.length||o?{snapshot:new lg(this.query,e.ec,r,s,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new og,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gd(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new yg(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new vg(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Gd();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return lg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xg{constructor(e){this.key=e,this.fc=!1}}class Ng{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Fd((e=>Ad(e)),Id),this._c=new Map,this.mc=new Set,this.gc=new uh($u.comparator),this.yc=new Map,this.Ic=new qp,this.Tc={},this.Ec=new Map,this.Ac=Mp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Eg(e,t){const n=zg(e);let r,s;const i=n.wc.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const e=await om(n.localStore,kd(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await _g(n,t,r,"current"===i,e.resumeToken),n.isPrimaryClient&&Rm(n.remoteStore,e)}return s}async function _g(e,t,n,r,s){e.Rc=(t,n,r)=>async function(e,t,n,r){let s=t.view.sc(n);s.zi&&(s=await cm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,s)})));const i=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i);return Lg(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const i=await cm(e.localStore,t,!0),a=new bg(t,i.ir),o=a.sc(i.documents),l=Wf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Lg(e,n,c.cc);const u=new wg(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Cg(e,t){const n=xu(e),r=n.wc.get(t),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter((e=>!Id(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await lm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Dm(n.remoteStore,r.targetId),Dg(n,r.targetId)})).catch(Yu)):(Dg(n,r.targetId),await lm(n.localStore,r.targetId,!0))}async function Sg(e,t){const n=xu(e);try{const e=await function(e,t){const n=xu(e),r=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(vh.EMPTY_BYTE_STRING,Mu.min()).withLastLimboFreeSnapshotVersion(Mu.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Bs.updateTargetData(e,c))}));let o=Ud(),l=Gd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(im(e,i,t.documentUpdates).next((e=>{o=e.nr,l=e.sr}))),!r.isEqual(Mu.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Xu.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ji=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(wu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?wu(r.fc):e.removedDocuments.size>0&&(wu(r.fc),r.fc=!1))})),await Mg(n,e,t)}catch(e){await Yu(e)}}function kg(e,t,n){const r=xu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const s=r.view.Mu(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=xu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.listeners)s.Mu(t)&&(r=!0)})),r&&mg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Tg(e,t,n){const r=xu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.yc.get(t),i=s&&s.key;if(i){let e=new uh($u.comparator);e=e.insert(i,Hh.newNoDocument(i,Mu.min()));const n=Gd().add(i),s=new Hf(Mu.min(),new Map,new uh(Lu),e,n);await Sg(r,s),r.gc=r.gc.remove(i),r.yc.delete(t),Fg(r)}else await lm(r.localStore,t,!1).then((()=>Dg(r,t,n))).catch(Yu)}async function jg(e,t){const n=xu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Xu.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);wu(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Gd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Rg(n,r,null),Ag(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mg(n,e)}catch(e){await Yu(e)}}async function Ig(e,t,n){const r=xu(e);try{const e=await function(e,t){const n=xu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(wu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Rg(r,t,n),Ag(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Mg(r,e)}catch(n){await Yu(n)}}function Ag(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function Rg(e,t,n){const r=xu(e);let s=r.Tc[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function Dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Pg(e,t)}))}function Pg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Dm(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Fg(e))}function Lg(e,t,n){for(const r of n)r instanceof vg?(e.Ic.addReference(r.key,t),Og(e,r)):r instanceof yg?(mu("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Pg(e,r.key)):bu()}function Og(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(mu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Fg(e))}function Fg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new $u(Vu.fromString(t)),r=e.Ac.next();e.yc.set(r,new xg(n)),e.gc=e.gc.insert(n,r),Rm(e.remoteStore,new Ap(kd(xd(n.path)),r,"TargetPurposeLimboResolution",eh.ct))}}async function Mg(e,t,n){const r=xu(e),s=[],i=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=Zp.Li(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.dc.nu(s),await async function(e,t){const n=xu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Xu.forEach(t,(t=>Xu.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Xu.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Zu(e))throw e;mu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,s)}}}(r.localStore,i))}async function Ug(e,t){const n=xu(e);if(!n.currentUser.isEqual(t)){mu("SyncEngine","User change. New user:",t.toKey());const e=await rm(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Eu(Nu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Mg(n,e.er)}}function Vg(e,t){const n=xu(e),r=n.yc.get(t);if(r&&r.fc)return Gd().add(r.key);{let e=Gd();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function zg(e){const t=xu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tg.bind(null,t),t.dc.nu=fg.bind(null,t.eventManager),t.dc.Pc=pg.bind(null,t.eventManager),t}function Bg(e){const t=xu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ig.bind(null,t),t}class $g{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return nm(this.persistence,new em,e.initialUser,this.serializer)}createPersistence(e){return new Jp(Xp.zs,this.serializer)}createSharedClientState(e){return new dm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ug.bind(null,this.syncEngine),await tg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ug}createDatastore(e){const t=Nm(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new wm(r));var r;return function(e,t,n,r){return new km(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>kg(this.syncEngine,e,0),i=pm.D()?new pm:new fm,new jm(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new Ng(e,t,n,r,s,i);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=xu(e);mu("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Am(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Wg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=hu.UNAUTHENTICATED,this.clientId=Pu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{mu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(mu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Eu(Nu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(kw){const n=ig(kw,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Kg(e,t){e.asyncQueue.verifyOperationInProgress(),mu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Gg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jg(e);mu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>eg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>eg(t.remoteStore,n))),e._onlineComponents=t}function Qg(e){return"FirebaseError"===e.name?e.code===Nu.FAILED_PRECONDITION||e.code===Nu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Jg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kg(e,e._uninitializedComponentsProvider._offline)}catch(kw){const n=kw;if(!Qg(n))throw n;vu("Error using user provided cache. Falling back to memory cache: "+n),await Kg(e,new $g)}}else mu("FirestoreClient","Using default OfflineComponentProvider"),await Kg(e,new $g);return e._offlineComponents}async function Yg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mu("FirestoreClient","Using user provided OnlineComponentProvider"),await Gg(e,e._uninitializedComponentsProvider._online)):(mu("FirestoreClient","Using default OnlineComponentProvider"),await Gg(e,new qg))),e._onlineComponents}function Xg(e){return Yg(e).then((e=>e.syncEngine))}async function Zg(e){const t=await Yg(e),n=t.eventManager;return n.onListen=Eg.bind(null,t.syncEngine),n.onUnlisten=Cg.bind(null,t.syncEngine),n}function ev(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _u;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Hg({next:i=>{t.enqueueAndForget((()=>dg(e,a)));const o=i.docs.has(n);!o&&i.fromCache?s.reject(new Eu(Nu.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&i.fromCache&&r&&"server"===r.source?s.reject(new Eu(Nu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),a=new gg(xd(n.path),i,{includeMetadataChanges:!0,Ku:!0});return hg(e,a)}(await Zg(e),e.asyncQueue,t,n,r))),r.promise}function tv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _u;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Hg({next:n=>{t.enqueueAndForget((()=>dg(e,a))),n.fromCache&&"server"===r.source?s.reject(new Eu(Nu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new gg(n,i,{includeMetadataChanges:!0,Ku:!0});return hg(e,a)}(await Zg(e),e.asyncQueue,t,n,r))),r.promise}function nv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const rv=new Map;function sv(e,t,n){if(!n)throw new Eu(Nu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iv(e){if(!$u.isDocumentKey(e))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function av(e){if($u.isDocumentKey(e))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ov(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":bu()}function lv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Eu(Nu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ov(e);throw new Eu(Nu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function cv(e,t){if(t<=0)throw new Eu(Nu.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class uv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Eu(Nu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Eu(Nu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Eu(Nu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Eu(Nu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Eu(Nu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Eu(Nu.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class hv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Eu(Nu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Eu(Nu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Su;switch(e.type){case"firstParty":return new Iu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Eu(Nu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rv.get(e);t&&(mu("ComponentProvider","Removing Datastore"),rv.delete(e),t.terminate())}(this),Promise.resolve()}}class dv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dv(this.firestore,e,this._key)}}class fv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fv(this.firestore,e,this._query)}}class pv extends fv{constructor(e,t,n){super(e,t,xd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dv(this.firestore,null,new $u(e))}withConverter(e){return new pv(this.firestore,e,this._path)}}function mv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ht(e),sv("collection","path",t),e instanceof hv){const n=Vu.fromString(t,...r);return av(n),new pv(e,null,n)}{if(!(e instanceof dv||e instanceof pv))throw new Eu(Nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vu.fromString(t,...r));return av(n),new pv(e.firestore,null,n)}}function gv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=ht(e),1===arguments.length&&(t=Pu.A()),sv("doc","path",t),e instanceof hv){const n=Vu.fromString(t,...r);return iv(n),new dv(e,null,new $u(n))}{if(!(e instanceof dv||e instanceof pv))throw new Eu(Nu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Vu.fromString(t,...r));return iv(n),new dv(e.firestore,e instanceof pv?e.converter:null,new $u(n))}}class vv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Em(this,"async_queue_retry"),this.Xc=()=>{const e=xm();e&&mu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=xm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new _u;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Zu(e))throw e;mu("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=sg.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&bu()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class yv extends hv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wv(this),this._firestoreClient.terminate()}}function bv(e){return e._firestoreClient||wv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wv(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Ch(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new Wg(e._authCredentials,e._appCheckCredentials,e._queue,i),(null===(n=s.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class xv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xv(vh.fromBase64String(e))}catch(e){throw new Eu(Nu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xv(vh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Eu(Nu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bu(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ev{constructor(e){this._methodName=e}}class _v{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Eu(Nu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Eu(Nu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lu(this._lat,e._lat)||Lu(this._long,e._long)}}const Cv=/^__.*__$/;class Sv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nf(e,this.data,t,this.fieldTransforms)}}class kv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Tv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bu()}}class jv{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Tv(this.ca)&&Cv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Iv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Nm(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jv({ca:e,methodName:t,ga:n,path:Bu.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Av(e){const t=e._freezeSettings(),n=Nm(e._databaseId);return new Iv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rv(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(i.merge||i.mergeFields?2:0,t,n,s);Vv("Data must be an object, but it was:",a,r);const o=Mv(r,a);let l,c;if(i.merge)l=new mh(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=zv(t,r,n);if(!a.contains(s))throw new Eu(Nu.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Hv(e,s)||e.push(s)}l=new mh(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Sv(new $h(o),l,c)}class Dv extends Ev{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dv}}function Pv(e,t,n,r){const s=e.ya(1,t,n);Vv("Data must be an object, but it was:",s,r);const i=[],a=$h.empty();lh(r,((e,r)=>{const o=$v(t,e,n);r=ht(r);const l=s.da(o);if(r instanceof Dv)i.push(o);else{const e=Fv(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new mh(i);return new kv(a,o,s.fieldTransforms)}function Lv(e,t,n,r,s,i){const a=e.ya(1,t,n),o=[zv(t,r,n)],l=[s];if(i.length%2!=0)throw new Eu(Nu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)o.push(zv(t,i[d])),l.push(i[d+1]);const c=[],u=$h.empty();for(let d=o.length-1;d>=0;--d)if(!Hv(c,o[d])){const e=o[d];let t=l[d];t=ht(t);const n=a.da(e);if(t instanceof Dv)c.push(e);else{const r=Fv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new mh(c);return new kv(u,h,a.fieldTransforms)}function Ov(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fv(n,e.ya(r?4:3,t))}function Fv(e,t){if(Uv(e=ht(e)))return Vv("Unsupported field value:",t,e),Mv(e,t);if(e instanceof Ev)return function(e,t){if(!Tv(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Fv(s,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Fu.fromDate(e);return{timestampValue:ip(t.serializer,n)}}if(e instanceof Fu){const n=new Fu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ip(t.serializer,n)}}if(e instanceof _v)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xv)return{bytesValue:ap(t.serializer,e._byteString)};if(e instanceof dv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${ov(e)}`)}(e,t)}function Mv(e,t){const n={};return ch(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lh(e,((e,r)=>{const s=Fv(r,t.ha(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function Uv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fu||e instanceof _v||e instanceof xv||e instanceof dv||e instanceof Ev)}function Vv(e,t,n){if(!Uv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ov(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function zv(e,t,n){if((t=ht(t))instanceof Nv)return t._internalPath;if("string"==typeof t)return $v(e,t);throw qv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Bv=new RegExp("[~\\*/\\[\\]]");function $v(e,t,n){if(t.search(Bv)>=0)throw qv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Nv(...t.split("."))._internalPath}catch(r){throw qv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qv(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new Eu(Nu.INVALID_ARGUMENT,o+e+l)}function Hv(e,t){return e.some((e=>e.isEqual(t)))}class Wv{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Kv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Kv extends Wv{data(){return super.data()}}function Gv(e,t){return"string"==typeof t?$v(e,t):t instanceof Nv?t._internalPath:t._delegate._internalPath}function Qv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Eu(Nu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}class Yv extends Jv{}function Xv(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Jv&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof ty)).length,n=e.filter((e=>e instanceof Zv)).length;if(t>1||t>0&&n>0)throw new Eu(Nu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Zv extends Yv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Zv(e,t,n)}_apply(e){const t=this._parse(e);return oy(e._query,t),new fv(e.firestore,e.converter,Td(e._query,t))}_parse(e){const t=Av(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Eu(Nu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){ay(a,i);const t=[];for(const n of a)t.push(iy(r,e,n));o={arrayValue:{values:t}}}else o=iy(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||ay(a,i),o=Ov(n,"where",a,"in"===i||"not-in"===i);return Xh.create(s,i,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ey(e,t,n){const r=t,s=Gv("where",e);return Zv._create(s,r,n)}class ty extends Jv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ty(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Zh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)oy(n,s),n=Td(n,s)}(e._query,t),new fv(e.firestore,e.converter,Td(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ny extends Yv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ny(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Eu(Nu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Eu(Nu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Qh(t,n);return function(e,t){if(null===Ed(e)){const n=_d(e);null!==n&&ly(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new fv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new bd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ry(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gv("orderBy",e);return ny._create(n,t)}class sy extends Yv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new sy(e,t,n)}_apply(e){return new fv(e.firestore,e.converter,jd(e._query,this._limit,this._limitType))}}function iy(e,t,n){if("string"==typeof(n=ht(n))){if(""===n)throw new Eu(Nu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cd(t)&&-1!==n.indexOf("/"))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Vu.fromString(n));if(!$u.isDocumentKey(r))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lh(e,new $u(r))}if(n instanceof dv)return Lh(e,n._key);throw new Eu(Nu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function ay(e,t){if(!Array.isArray(e)||0===e.length)throw new Eu(Nu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oy(e,t){if(t.isInequality()){const n=_d(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const s=Ed(e);null!==s&&ly(e,r,s)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Eu(Nu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Eu(Nu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ly(e,t,n){if(!n.isEqual(t))throw new Eu(Nu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cy{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Th(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bu()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lh(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new _v(wh(e.latitude),wh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Eh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_h(e));default:return null}}convertTimestamp(e){const t=bh(e);return new Fu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vu.fromString(e);wu(Ip(n));const r=new Sh(n.get(1),n.get(3)),s=new $u(n.popFirst(5));return r.isEqual(t)||gu(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function uy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dy extends Wv{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fy extends dy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class py{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new fy(this._firestore,this._userDataWriter,n.key,n,new hy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Eu(Nu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new fy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new fy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:my(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function my(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bu()}}function gy(e){e=lv(e,dv);const t=lv(e.firestore,yv);return ev(bv(t),e._key).then((n=>Ey(t,e,n)))}class vy extends cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new xv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dv(this.firestore,null,t)}}function yy(e){e=lv(e,fv);const t=lv(e.firestore,yv),n=bv(t),r=new vy(t);return Qv(e._query),tv(n,e._query).then((n=>new py(t,r,e,n)))}function by(e,t,n){e=lv(e,dv);const r=lv(e.firestore,yv),s=uy(e.converter,t,n);return Ny(r,[Rv(Av(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,pf.none())])}function wy(e,t,n){e=lv(e,dv);const r=lv(e.firestore,yv),s=Av(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=ht(t))||t instanceof Nv?Lv(s,"updateDoc",e._key,t,n,o):Pv(s,"updateDoc",e._key,t),Ny(r,[i.toMutation(e._key,pf.exists(!0))])}function xy(e,t){const n=lv(e.firestore,yv),r=gv(e),s=uy(e.converter,t);return Ny(n,[Rv(Av(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,pf.exists(!1))]).then((()=>r))}function Ny(e,t){return function(e,t){const n=new _u;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Bg(e);try{const e=await function(e,t){const n=xu(e),r=Fu.now(),s=t.reduce(((e,t)=>e.add(t.key)),Gd());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ud(),l=Gd();return n.Zi.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=wf(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Ef(e.key,t,qh(t.value.mapValue),pf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Bd(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new uh(Lu)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Mg(r,e.changes),await Hm(r.remoteStore)}catch(e){const t=ig(e,"Failed to persist write");n.reject(t)}}(await Xg(e),t,n))),n.promise}(bv(e),t)}function Ey(e,t,n){const r=n.docs.get(t._key),s=new vy(e);return new dy(e,s,t._key,r,new hy(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){du=e}(En),bn(new dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new yv(new Tu(e.getProvider("auth-internal")),new Ru(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Eu(Nu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Sn(uu,"3.13.0",e),Sn(uu,"3.13.0","esm2017")}();Sn("firebase","9.23.0","app");const _y="firebasestorage.googleapis.com",Cy="storageBucket";class Sy extends tt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(jy(e),`Firebase Storage: ${t} (${jy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var ky,Ty;function jy(e){return"storage/"+e}function Iy(){return new Sy(ky.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ay(){return new Sy(ky.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ry(){return new Sy(ky.CANCELED,"User canceled the upload/download.")}function Dy(){return new Sy(ky.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Py(e){return new Sy(ky.INVALID_ARGUMENT,e)}function Ly(){return new Sy(ky.APP_DELETED,"The Firebase app was deleted.")}function Oy(e,t){return new Sy(ky.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Fy(e){throw new Sy(ky.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ky||(ky={}));class My{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=My.makeFromUrl(e,t)}catch(kw){return new My(e,"")}if(""===n.path)return n;throw r=e,new Sy(ky.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${t===_y?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new My(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Sy(ky.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Uy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Vy(e){return"string"===typeof e||e instanceof String}function zy(e){return By()&&e instanceof Blob}function By(){return"undefined"!==typeof Blob&&!Ze()}function $y(e,t,n,r){if(r<t)throw Py(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Py(`Invalid value for '${e}'. Expected ${n} or less.`)}function qy(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Hy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Wy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ty||(Ty={}));class Ky{constructor(e,t,n,r,s,i,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Gy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Ty.NO_ERROR,s=n.getStatus();if(!t||Wy(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Ty.ABORT;return void e(!1,new Gy(!1,null,t))}const i=-1!==this.successCodes_.indexOf(s);e(!0,new Gy(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(kw){r(kw)}else if(null!==s){const e=Iy();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?Ly():Ry())}else{r(Ay())}};this.canceled_?t(0,new Gy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,i=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){s=setTimeout((()=>{s=null,e(f,l())}),t)}function d(){i&&clearTimeout(i)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===o?(o=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==s?(e||(o=2),clearTimeout(s),h(0)):e||(o=1)))}return h(0),i=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Gy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Qy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Jy(){const e=Qy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(By())return new Blob(n);throw new Sy(ky.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Yy(e){if("undefined"===typeof atob)throw t="base-64",new Sy(ky.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Xy="raw",Zy="base64",eb="base64url",tb="data_url";class nb{constructor(e,t){this.data=e,this.contentType=t||null}}function rb(e,t){switch(e){case Xy:return new nb(sb(t));case Zy:case eb:return new nb(ib(e,t));case tb:return new nb(function(e){const t=new ab(e);return t.base64?ib(Zy,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(kw){throw Oy(tb,"Malformed data URL.")}return sb(t)}(t.rest)}(t),new ab(t).contentType)}throw Iy()}function sb(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ib(e,t){switch(e){case Zy:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Oy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case eb:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Oy(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yy(t)}catch(kw){if(kw.message.includes("polyfill"))throw kw;throw Oy(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ab{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Oy(tb,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class ob{constructor(e,t){let n=0,r="";zy(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(zy(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new ob(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ob(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(By()){const e=t.map((e=>e instanceof ob?e.data_:e));return new ob(Jy.apply(null,e))}{const e=t.map((e=>Vy(e)?rb(Xy,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let s=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]})),new ob(r,!0)}}uploadData(){return this.data_}}function lb(e){let t;try{t=JSON.parse(e)}catch(kw){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function cb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ub(e,t){return t}class hb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ub}}let db=null;function fb(){if(db)return db;const e=[];e.push(new hb("bucket")),e.push(new hb("generation")),e.push(new hb("metageneration")),e.push(new hb("name","fullPath",!0));const t=new hb("name");t.xform=function(e,t){return function(e){return!Vy(e)||e.length<2?e:cb(e)}(t)},e.push(t);const n=new hb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new hb("timeCreated")),e.push(new hb("updated")),e.push(new hb("md5Hash",null,!0)),e.push(new hb("cacheControl",null,!0)),e.push(new hb("contentDisposition",null,!0)),e.push(new hb("contentEncoding",null,!0)),e.push(new hb("contentLanguage",null,!0)),e.push(new hb("contentType",null,!0)),e.push(new hb("metadata","customMetadata",!0)),db=e,db}function pb(e,t,n){const r={type:"file"},s=n.length;for(let i=0;i<s;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new My(n,r);return t._makeStorageReference(s)}})}(r,e),r}function mb(e,t,n){const r=lb(t);if(null===r)return null;return pb(e,r,n)}function gb(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class vb{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yb(e){if(!e)throw Iy()}function bb(e,t){return function(n,r){const s=mb(e,r,t);return yb(null!==s),s}}function wb(e,t){return function(n,r){const s=mb(e,r,t);return yb(null!==s),function(e,t,n,r){const s=lb(t);if(null===s)return null;if(!Vy(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map((t=>{const s=e.bucket,i=e.fullPath;return qy("/b/"+a(s)+"/o/"+a(i),n,r)+Hy({alt:"media",token:t})}))[0]}(s,r,e.host,e._protocol)}}function xb(e){return function(t,n){let r;var s,i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Sy(ky.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Sy(ky.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new Sy(ky.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Sy(ky.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Nb(e){const t=xb(e);return function(n,r){let s=t(n,r);var i;return 404===n.getStatus()&&(i=e.path,s=new Sy(ky.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function Eb(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function _b(e,t,n,r,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Eb(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gb(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=ob.getBlob(c,r,u);if(null===h)throw Dy();const d={name:l.fullPath},f=qy(i,e.host,e._protocol),p=e.maxUploadRetryTime,m=new vb(f,"POST",bb(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=xb(t),m}class Cb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ty.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Ty.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Ty.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Fy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(kw){return-1}}getResponse(){if(!this.sent_)throw Fy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Sb extends Cb{initXhr(){this.xhr_.responseType="text"}}function kb(){return new Sb}class Tb{constructor(e,t){this._service=e,this._location=t instanceof My?t:My.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tb(e,t)}get root(){const e=new My(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new My(this._location.bucket,e);return new Tb(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Sy(ky.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function jb(e,t,n){e._throwIfRoot("uploadBytes");const r=_b(e.storage,e._location,fb(),new ob(t,!0),n);return e.storage.makeRequestWithTokens(r,kb).then((t=>({metadata:t,ref:e})))}function Ib(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=qy(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,i=new vb(r,"GET",wb(e,n),s);return i.errorHandler=Nb(t),i}(e.storage,e._location,fb());return e.storage.makeRequestWithTokens(t,kb).then((e=>{if(null===e)throw new Sy(ky.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Ab(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new My(e._location.bucket,n);return new Tb(e.storage,r)}function Rb(e,t){if(e instanceof Lb){const n=e;if(null==n._bucket)throw new Sy(ky.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cy+"' property when initializing the app?");const r=new Tb(n,n._bucket);return null!=t?Rb(r,t):r}return void 0!==t?Ab(e,t):e}function Db(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Lb)return new Tb(e,t);throw Py("To use ref(service, url), the first argument must be a Storage instance.")}return Rb(e,t)}function Pb(e,t){const n=null===t||void 0===t?void 0:t[Cy];return null==n?null:My.makeFromBucketSpec(n,e)}class Lb{constructor(e,t,n,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=_y,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?My.makeFromBucketSpec(r,this._host):Pb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=My.makeFromBucketSpec(this._url,e):this._bucket=Pb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$y("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$y("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tb(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Uy(Ly());{const i=function(e,t,n,r,s,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Hy(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Ky(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ob="@firebase/storage",Fb="0.11.2",Mb="storage";function Ub(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Lb(r,s,i,n,En)}bn(new dt(Mb,Ub,"PUBLIC").setMultipleInstances(!0)),Sn(Ob,Fb,""),Sn(Ob,Fb,"esm2017");const Vb={apiKey:"AIzaSyD1j3Q6kcwILHGFw2MI8L4mmRZM8DmsVx0",authDomain:"spruces-app-bff67.firebaseapp.com",projectId:"spruces-app-bff67",storageBucket:"spruces-app-bff67.firebasestorage.app",messagingSenderId:"725151975956",appId:"1:725151975956:web:f9041edc982c7eafe67501",measurementId:"G-NE7BT0GXCB"},zb=_n(Vb),Bb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();const t=wn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=wn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;$n(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Oi,persistence:[Qs,Rs,Ps]}),r=Qe("authTokenSyncURL");if(r){const e=(s=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Vi)return;const r=null===t||void 0===t?void 0:t.token;zi!==r&&(zi=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){ht(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var s;const i=We("auth");return i&&Yr(n,`http://${i}`),n}(zb),$b=function(e,t){const n="string"==typeof e?e:t||"(default)",r=wn("object"==typeof e?e:Cn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ke("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=lv(e,hv))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=hu.MOCK_USER;else{t=Ye(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Eu(Nu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new hu(i)}e._authCredentials=new ku(new Cu(t,n))}}(r,...e)}return r}(zb),qb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn(),t=arguments.length>1?arguments[1]:void 0;e=ht(e);const n=wn(e,Mb).getImmediate({identifier:t}),r=Ke("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:Ye(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(zb),Hb=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;try{const n=Xv(mv($b,"jobs"),ry("createdAt","desc"),(cv("limit",t=e),sy._create("limit",t,"F"))),r=await yy(n),s=[];return r.forEach((e=>{s.push({id:e.id,...e.data()})})),{success:!0,jobs:s}}catch(n){return console.error("Error getting recent jobs:",n),{success:!1,error:n.message}}var t},Wb=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=mv($b,"jobs");e.category&&(t=Xv(t,ey("category","==",e.category))),e.location&&(t=Xv(t,ey("location","==",e.location))),t=Xv(t,ry("startDate","desc"));const n=await yy(t),r=[];return n.forEach((e=>{r.push({id:e.id,...e.data()})})),{success:!0,jobs:r}}catch(t){return console.error("Error getting jobs:",t),{success:!1,error:t.message}}},Kb=async e=>{try{const t=Xv(mv($b,"applications"),ey("userId","==",e),ry("appliedAt","desc")),n=await yy(t),r=[];return n.forEach((e=>{r.push({id:e.id,...e.data()})})),{success:!0,applications:r}}catch(t){return console.error("Error getting user applications:",t),{success:!1,error:t.message}}},Gb=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=mv($b,"courses");e.category&&(t=Xv(t,ey("category","==",e.category)));const n=await yy(t),r=[];return n.forEach((e=>{r.push({id:e.id,...e.data()})})),{success:!0,courses:r}}catch(t){return console.error("Error getting courses:",t),{success:!1,error:t.message}}},Qb=async e=>{try{const t=Xv(mv($b,"courseProgress"),ey("userId","==",e)),n=await yy(t),r=[];return n.forEach((e=>{r.push({id:e.id,...e.data()})})),{success:!0,progress:r}}catch(t){return console.error("Error getting user course progress:",t),{success:!1,error:t.message}}},Jb=async e=>{try{const t=await gy(gv($b,"users",e));return t.exists()?{success:!0,profile:t.data()}:{success:!1,error:"User not found"}}catch(t){return console.error("Error getting user profile:",t),{success:!1,error:t.message}}},Yb=async()=>{try{const e=mv($b,"users"),t=await yy(e),n=[];return t.forEach((e=>{n.push({id:e.id,...e.data()})})),{success:!0,users:n}}catch(e){return console.error("Error getting all users:",e),{success:!1,error:e.message}}};var Xb=n(579);const Zb=(0,s.createContext)();function ew(){return(0,s.useContext)(Zb)}function tw(e){let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>function(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}(Bb,(async e=>{if(r(e),e)try{const n=await Jb(e.uid);var t;if(n.success)a(n.profile),u("admin"===(null===(t=n.profile)||void 0===t?void 0:t.role));else console.error("Failed to get user profile:",n.error)}catch(n){console.error("Error getting user profile:",n)}else a(null),u(!1);l(!1)}))),[]);const h={currentUser:n,userProfile:i,isAdmin:c,login:async(e,t)=>{try{const n=await function(e,t,n){return Ss(ht(e),hs.credential(t,n))}(Bb,e,t);return{success:!0,user:n.user}}catch(n){return console.error("Login error:",n),{success:!1,error:n.message||"Failed to log in"}}},register:async(e,t,n)=>{try{const r=await async function(e,t,n){var r;const s=Qr(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=s._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Wr(s,i,"signUpPassword");a=ys(s,e)}else a=ys(s,i).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Wr(s,i,"signUpPassword");return ys(s,e)}return Promise.reject(e)}));const o=await a.catch((e=>Promise.reject(e))),l=await bs._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}(Bb,e,t);return await Ts(r.user,{displayName:n}),await(async(e,t)=>{try{return await by(gv($b,"users",e),{...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),profileComplete:!0}),{success:!0}}catch(n){return console.error("Error creating user profile:",n),{success:!1,error:n.message}}})(r.user.uid,{email:e,displayName:n,role:"cleaner",createdAt:(new Date).toISOString(),status:"pending"}),{success:!0,user:r.user}}catch(r){return console.error("Registration error:",r),{success:!1,error:r.message||"Failed to register"}}},logout:async()=>{try{return await function(e){return ht(e).signOut()}(Bb),{success:!0}}catch(e){return console.error("Logout error:",e),{success:!1,error:e.message||"Failed to log out"}}},resetPassword:async e=>{try{return await async function(e,t,n){var r;const s=Qr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=s._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Wr(s,i,"getOobCode",!0);n&&ks(s,e,n),await ss(s,e)}else n&&ks(s,i,n),await ss(s,i).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Wr(s,i,"getOobCode",!0);n&&ks(s,e,n),await ss(s,e)}}))}(Bb,e),{success:!0}}catch(t){return console.error("Reset password error:",t),{success:!1,error:t.message||"Failed to send password reset email"}}}};return(0,Xb.jsx)(Zb.Provider,{value:h,children:!o&&t})}const nw=()=>{const{currentUser:e,loading:t}=ew();return t?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading..."})]}):e?(0,Xb.jsx)(we,{}):(0,Xb.jsx)(be,{to:"/login",replace:!0})},rw=()=>{const{currentUser:e,logout:t,isAdmin:n}=ew(),r=ne(),[i,a]=s.useState(!1);return(0,Xb.jsx)("nav",{className:"navbar",children:(0,Xb.jsxs)("div",{className:"navbar-container",children:[(0,Xb.jsx)(Pe,{to:"/",className:"navbar-logo",children:"Spruces"}),(0,Xb.jsx)("button",{className:"navbar-mobile-toggle",onClick:()=>{a(!i)},children:"\u2630"}),e?(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsxs)("div",{className:"navbar-links "+(i?"open":""),children:[(0,Xb.jsx)(Le,{to:"/dashboard",className:"navbar-link",children:"Dashboard"}),(0,Xb.jsx)(Le,{to:"/jobs",className:"navbar-link",children:"Job Listings"}),(0,Xb.jsx)(Le,{to:"/training",className:"navbar-link",children:"Training"}),n&&(0,Xb.jsx)(Le,{to:"/admin",className:"navbar-link",children:"Admin"})]}),(0,Xb.jsx)("div",{className:"navbar-auth "+(i?"open":""),children:(0,Xb.jsxs)("div",{className:"navbar-user",children:[(0,Xb.jsx)("div",{className:"navbar-user-avatar",children:null!==e&&void 0!==e&&e.displayName?e.displayName.charAt(0).toUpperCase():null!==e&&void 0!==e&&e.email?e.email.charAt(0).toUpperCase():"U"}),(0,Xb.jsx)("span",{className:"navbar-user-name",children:e.displayName||e.email}),(0,Xb.jsxs)("div",{className:"navbar-dropdown",children:[(0,Xb.jsx)(Pe,{to:"/profile",className:"navbar-dropdown-item",children:"My Profile"}),(0,Xb.jsx)(Pe,{to:"/applications",className:"navbar-dropdown-item",children:"My Applications"}),(0,Xb.jsx)(Pe,{to:"/progress",className:"navbar-dropdown-item",children:"Course Progress"}),(0,Xb.jsx)("div",{className:"navbar-dropdown-divider"}),(0,Xb.jsx)("button",{onClick:async()=>{try{await t(),r("/login")}catch(e){console.error("Failed to log out",e)}},className:"navbar-dropdown-item logout",children:"Logout"})]})]})})]}):(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsx)("div",{className:"navbar-links "+(i?"open":""),children:(0,Xb.jsx)(Le,{to:"/about",className:"navbar-link",children:"About Us"})}),(0,Xb.jsxs)("div",{className:"navbar-auth "+(i?"open":""),children:[(0,Xb.jsx)(Pe,{to:"/login",className:"navbar-button",children:"Login"}),(0,Xb.jsx)(Pe,{to:"/register",className:"navbar-button",children:"Register"})]})]})]})})},sw=()=>{const e=(new Date).getFullYear();return(0,Xb.jsxs)("footer",{className:"footer",children:[(0,Xb.jsxs)("div",{className:"footer-container",children:[(0,Xb.jsxs)("div",{className:"footer-section",children:[(0,Xb.jsx)("h3",{className:"footer-title",children:"Spruces"}),(0,Xb.jsx)("p",{className:"footer-description",children:"Connecting professional cleaners with quality jobs across Australia."})]}),(0,Xb.jsxs)("div",{className:"footer-section",children:[(0,Xb.jsx)("h4",{className:"footer-heading",children:"Quick Links"}),(0,Xb.jsxs)("ul",{className:"footer-links",children:[(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/jobs",children:"Job Listings"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training",children:"Training Courses"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/about",children:"About Us"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/contact",children:"Contact"})})]})]}),(0,Xb.jsxs)("div",{className:"footer-section",children:[(0,Xb.jsx)("h4",{className:"footer-heading",children:"Training Categories"}),(0,Xb.jsxs)("ul",{className:"footer-links",children:[(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training?category=Post Construction Cleaning",children:"Post Construction"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training?category=Office Cleaning",children:"Office"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training?category=Childcare Cleaning",children:"Childcare"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training?category=School Cleaning",children:"School"})}),(0,Xb.jsx)("li",{children:(0,Xb.jsx)("a",{href:"/training?category=Customer Service Cleaning",children:"Customer Service"})})]})]}),(0,Xb.jsxs)("div",{className:"footer-section",children:[(0,Xb.jsx)("h4",{className:"footer-heading",children:"Contact Us"}),(0,Xb.jsxs)("address",{className:"footer-contact",children:[(0,Xb.jsx)("p",{children:"Brisbane, Australia"}),(0,Xb.jsx)("p",{children:"Email: info@spruces.com.au"}),(0,Xb.jsx)("p",{children:"Phone: (07) 1234 5678"})]})]})]}),(0,Xb.jsx)("div",{className:"footer-bottom",children:(0,Xb.jsxs)("p",{children:["\xa9 ",e," Spruces Cleaning Services. All rights reserved."]})})]})},iw=()=>(0,Xb.jsxs)("div",{className:"layout",children:[(0,Xb.jsx)(rw,{}),(0,Xb.jsx)("main",{className:"main-content",children:(0,Xb.jsx)(we,{})}),(0,Xb.jsx)(sw,{})]}),aw=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),{login:c}=ew(),u=ne();return(0,Xb.jsx)("div",{className:"login-container",children:(0,Xb.jsxs)("div",{className:"login-card",children:[(0,Xb.jsx)("h1",{children:"Login to Spruces"}),i&&(0,Xb.jsx)("div",{className:"error-message",children:i}),(0,Xb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n)try{a(""),l(!0);const t=await c(e,n);t.success?u("/dashboard"):a(t.error||"Failed to log in")}catch(r){a("An error occurred. Please try again later."),console.error(r)}finally{l(!1)}else a("Please enter both email and password")},children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Xb.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",disabled:o})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Xb.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>r(e.target.value),placeholder:"Enter your password",disabled:o})]}),(0,Xb.jsx)("div",{className:"form-actions",children:(0,Xb.jsx)("button",{type:"submit",disabled:o,children:o?"Logging in...":"Login"})})]}),(0,Xb.jsxs)("div",{className:"login-links",children:[(0,Xb.jsx)(Pe,{to:"/forgot-password",children:"Forgot Password?"}),(0,Xb.jsx)(Pe,{to:"/register",children:"Register as a Cleaner"})]})]})})},ow=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(!1),{register:f}=ew(),p=ne();return(0,Xb.jsx)("div",{className:"register-container",children:(0,Xb.jsxs)("div",{className:"register-card",children:[(0,Xb.jsx)("h2",{children:"Register as a Cleaner"}),c&&(0,Xb.jsx)("div",{className:"error-message",children:c}),(0,Xb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n&&i&&o)if(i.length<6)u("Password must be at least 6 characters");else if(i===o)try{u(""),d(!0);const t=await f(n,i,e);t.success?p("/dashboard"):u(t.error||"Failed to create an account")}catch(r){u("Failed to create an account: "+r.message)}finally{d(!1)}else u("Passwords do not match");else u("Please fill in all fields")},children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),(0,Xb.jsx)("input",{type:"text",id:"fullName",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Xb.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Xb.jsx)("input",{type:"password",id:"password",value:i,onChange:e=>a(e.target.value),required:!0}),(0,Xb.jsx)("small",{children:"Password must be at least 6 characters"})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Xb.jsx)("input",{type:"password",id:"confirmPassword",value:o,onChange:e=>l(e.target.value),required:!0})]}),(0,Xb.jsx)("button",{type:"submit",className:"register-button",disabled:h,children:h?"Registering...":"Register"})]}),(0,Xb.jsxs)("div",{className:"login-link",children:[(0,Xb.jsx)("span",{children:"Already have an account? "}),(0,Xb.jsx)(Pe,{to:"/login",children:"Login"})]})]})})},lw=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),{resetPassword:c}=ew();ne();return(0,Xb.jsx)("div",{className:"forgot-password-container",children:(0,Xb.jsxs)("div",{className:"forgot-password-card",children:[(0,Xb.jsx)("h1",{children:"Reset Password"}),i&&(0,Xb.jsx)("div",{className:"error-message",children:i}),n&&(0,Xb.jsx)("div",{className:"success-message",children:n}),(0,Xb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e)try{a(""),r(""),l(!0);const t=await c(e);t.success?r("Password reset instructions have been sent to your email"):a(t.error||"Failed to reset password")}catch(n){a("An error occurred. Please try again later."),console.error(n)}finally{l(!1)}else a("Please enter your email address")},children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Xb.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email address",disabled:o})]}),(0,Xb.jsx)("div",{className:"form-actions",children:(0,Xb.jsx)("button",{type:"submit",disabled:o,children:o?"Sending...":"Reset Password"})})]}),(0,Xb.jsx)("div",{className:"forgot-password-links",children:(0,Xb.jsx)(Pe,{to:"/login",children:"Back to Login"})})]})})},cw=()=>{const{currentUser:e,userProfile:t}=ew(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[o,l]=(0,s.useState)([]),[c,u]=(0,s.useState)(!0),[h,d]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{if(e)try{u(!0);const t=await Hb(5);t.success&&r(t.jobs);const n=await Kb(e.uid);n.success&&a(n.applications);const s=await Qb(e.uid);s.success&&l(s.progress)}catch(t){d("Error loading dashboard data"),console.error(t)}finally{u(!1)}})()}),[e]);const f=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},p=e=>e&&e.completedSections&&e.totalSections?Math.round(e.completedSections/e.totalSections*100):0;return c?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading dashboard..."})]}):(0,Xb.jsxs)("div",{className:"dashboard-container",children:[(0,Xb.jsxs)("div",{className:"dashboard-header",children:[(0,Xb.jsxs)("h1",{children:["Welcome, ",(null===t||void 0===t?void 0:t.displayName)||e.email]}),(0,Xb.jsx)("p",{className:"dashboard-subtitle",children:"Your cleaning services dashboard"})]}),h&&(0,Xb.jsx)("div",{className:"error-message",children:h}),(0,Xb.jsxs)("div",{className:"dashboard-grid",children:[(0,Xb.jsxs)("div",{className:"dashboard-card profile-summary",children:[(0,Xb.jsxs)("div",{className:"card-header",children:[(0,Xb.jsx)("h2",{children:"Profile Summary"}),(0,Xb.jsx)(Pe,{to:"/profile",className:"card-action",children:"Edit Profile"})]}),(0,Xb.jsxs)("div",{className:"profile-details",children:[(0,Xb.jsx)("div",{className:"profile-avatar",children:null!==t&&void 0!==t&&t.displayName?t.displayName.charAt(0).toUpperCase():"U"}),(0,Xb.jsxs)("div",{className:"profile-info",children:[(0,Xb.jsx)("h3",{children:(null===t||void 0===t?void 0:t.displayName)||"Update your profile"}),(0,Xb.jsx)("p",{children:e.email}),(0,Xb.jsxs)("p",{className:"profile-status",children:["Status: ",(0,Xb.jsx)("span",{className:`status-badge ${(null===t||void 0===t?void 0:t.status)||"pending"}`,children:null!==t&&void 0!==t&&t.status?t.status.charAt(0).toUpperCase()+t.status.slice(1):"Pending"})]}),(0,Xb.jsxs)("div",{className:"profile-credentials",children:[(null===t||void 0===t?void 0:t.abn)&&(0,Xb.jsx)("span",{className:"credential-badge",children:"ABN Verified"}),(null===t||void 0===t?void 0:t.driverLicense)&&(0,Xb.jsx)("span",{className:"credential-badge",children:"Driver License"}),(null===t||void 0===t?void 0:t.whiteCard)&&(0,Xb.jsx)("span",{className:"credential-badge",children:"White Card"}),(null===t||void 0===t?void 0:t.blueCard)&&(0,Xb.jsx)("span",{className:"credential-badge",children:"Blue Card"})]})]})]}),(!(null!==t&&void 0!==t&&t.abn)||!(null!==t&&void 0!==t&&t.driverLicense))&&(0,Xb.jsxs)("div",{className:"profile-alert",children:[(0,Xb.jsx)("p",{children:"Complete your profile to apply for jobs"}),(0,Xb.jsx)(Pe,{to:"/profile",className:"button",children:"Update Profile"})]})]}),(0,Xb.jsxs)("div",{className:"dashboard-card recent-jobs",children:[(0,Xb.jsxs)("div",{className:"card-header",children:[(0,Xb.jsx)("h2",{children:"Recent Job Listings"}),(0,Xb.jsx)(Pe,{to:"/jobs",className:"card-action",children:"View All"})]}),0===n.length?(0,Xb.jsx)("p",{className:"no-data-message",children:"No job listings available at the moment."}):(0,Xb.jsx)("div",{className:"jobs-list",children:n.map((e=>(0,Xb.jsxs)("div",{className:"job-item",children:[(0,Xb.jsxs)("div",{className:"job-details",children:[(0,Xb.jsx)("h3",{children:e.title}),(0,Xb.jsx)("p",{className:"job-location",children:e.location}),(0,Xb.jsxs)("p",{className:"job-date",children:[f(e.startDate)," - ",f(e.endDate)]})]}),(0,Xb.jsxs)("div",{className:"job-actions",children:[(0,Xb.jsx)("span",{className:`status-badge ${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,Xb.jsx)(Pe,{to:`/jobs/${e.id}`,className:"view-job-button",children:"View"})]})]},e.id)))})]}),(0,Xb.jsxs)("div",{className:"dashboard-card applications",children:[(0,Xb.jsxs)("div",{className:"card-header",children:[(0,Xb.jsx)("h2",{children:"Your Applications"}),(0,Xb.jsx)(Pe,{to:"/applications",className:"card-action",children:"View All"})]}),0===i.length?(0,Xb.jsx)("p",{className:"no-data-message",children:"You haven't applied to any jobs yet."}):(0,Xb.jsx)("div",{className:"applications-list",children:i.slice(0,3).map((e=>(0,Xb.jsxs)("div",{className:"application-item",children:[(0,Xb.jsxs)("div",{className:"application-details",children:[(0,Xb.jsx)("h3",{children:e.jobTitle}),(0,Xb.jsxs)("p",{className:"application-date",children:["Applied: ",f(e.appliedAt)]})]}),(0,Xb.jsx)("div",{className:"application-status",children:(0,Xb.jsx)("span",{className:`status-badge ${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id)))})]}),(0,Xb.jsxs)("div",{className:"dashboard-card training",children:[(0,Xb.jsxs)("div",{className:"card-header",children:[(0,Xb.jsx)("h2",{children:"Training Progress"}),(0,Xb.jsx)(Pe,{to:"/training",className:"card-action",children:"View Courses"})]}),0===o.length?(0,Xb.jsxs)("div",{className:"no-courses",children:[(0,Xb.jsx)("p",{className:"no-data-message",children:"You haven't started any training courses yet."}),(0,Xb.jsx)(Pe,{to:"/training",className:"button",children:"Browse Courses"})]}):(0,Xb.jsxs)("div",{className:"courses-progress",children:[o.slice(0,3).map((e=>(0,Xb.jsxs)("div",{className:"course-progress-item",children:[(0,Xb.jsxs)("div",{className:"course-info",children:[(0,Xb.jsx)("h3",{children:e.title}),(0,Xb.jsx)("div",{className:"progress-bar-container",children:(0,Xb.jsx)("div",{className:"progress-bar",style:{width:`${p(e)}%`}})}),(0,Xb.jsxs)("p",{className:"progress-text",children:[p(e),"% Complete"]})]}),(0,Xb.jsx)(Pe,{to:`/training/${e.courseId}`,className:"continue-button",children:"Continue"})]},e.id))),(0,Xb.jsx)(Pe,{to:"/progress",className:"view-all-progress",children:"View All Progress"})]})]})]})]})},uw=e=>{let{job:t}=e;const n=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return(0,Xb.jsxs)("div",{className:"job-card",children:[(0,Xb.jsxs)("div",{className:"job-card-header",children:[(0,Xb.jsx)("h3",{className:"job-title",children:t.title}),(0,Xb.jsx)("span",{className:`job-status ${t.status}`,children:t.status})]}),(0,Xb.jsxs)("div",{className:"job-details",children:[(0,Xb.jsxs)("div",{className:"job-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Project:"}),(0,Xb.jsx)("span",{className:"detail-value",children:t.project})]}),(0,Xb.jsxs)("div",{className:"job-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Dates:"}),(0,Xb.jsxs)("span",{className:"detail-value",children:[n(t.startDate)," - ",n(t.endDate)]})]}),(0,Xb.jsxs)("div",{className:"job-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Location:"}),(0,Xb.jsx)("span",{className:"detail-value",children:t.location})]}),(0,Xb.jsxs)("div",{className:"job-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Category:"}),(0,Xb.jsx)("span",{className:"detail-value",children:t.category})]})]}),(0,Xb.jsxs)("div",{className:"job-metrics",children:[(0,Xb.jsxs)("div",{className:"job-metric",children:[(0,Xb.jsx)("span",{className:"metric-value",children:t.cleanersNeeded}),(0,Xb.jsx)("span",{className:"metric-label",children:"Cleaners"})]}),(0,Xb.jsxs)("div",{className:"job-metric",children:[(0,Xb.jsxs)("span",{className:"metric-value",children:["$",t.payRate]}),(0,Xb.jsx)("span",{className:"metric-label",children:"Per Cleaner"})]}),(0,Xb.jsxs)("div",{className:"job-metric",children:[(0,Xb.jsx)("span",{className:"metric-value",children:t.hoursPerDay}),(0,Xb.jsx)("span",{className:"metric-label",children:"Hours/Day"})]})]}),(0,Xb.jsx)("div",{className:"job-card-footer",children:(0,Xb.jsx)("button",{className:"view-details-button",children:"View Details"})})]})},hw=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{r(!0);const e={};c&&(e.category=c),h&&(e.location=h);const n=await Wb(e);n.success?t(n.jobs):a("Failed to fetch job listings")}catch(e){a("Error fetching job listings: "+e.message)}finally{r(!1)}})()}),[c,h]);const f=e.filter((e=>{const t=o.toLowerCase();return e.title.toLowerCase().includes(t)||e.project.toLowerCase().includes(t)||e.location.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)})),p=()=>{l(""),u(""),d("")};return(0,Xb.jsxs)("div",{className:"job-listings-container",children:[(0,Xb.jsx)("h1",{children:"Available Jobs"}),(0,Xb.jsxs)("div",{className:"job-filters",children:[(0,Xb.jsx)("div",{className:"search-bar",children:(0,Xb.jsx)("input",{type:"text",placeholder:"Search jobs...",value:o,onChange:e=>{l(e.target.value)}})}),(0,Xb.jsxs)("div",{className:"filter-options",children:[(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"category-filter",children:"Category:"}),(0,Xb.jsxs)("select",{id:"category-filter",value:c,onChange:e=>{u(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Categories"}),["Post Construction","Office","Childcare","School","Residential","Commercial"].map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"location-filter",children:"Location:"}),(0,Xb.jsxs)("select",{id:"location-filter",value:h,onChange:e=>{d(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Locations"}),["Brisbane","Gold Coast","Sunshine Coast","Sydney","Melbourne","Perth"].map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:p,children:"Clear Filters"})]})]}),n?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading job listings..."})]}):i?(0,Xb.jsx)("div",{className:"error-message",children:i}):0===f.length?(0,Xb.jsxs)("div",{className:"no-jobs-message",children:[(0,Xb.jsx)("p",{children:"No jobs found matching your criteria."}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:p,children:"Clear Filters"})]}):(0,Xb.jsx)("div",{className:"jobs-grid",children:f.map((e=>(0,Xb.jsx)(Pe,{to:`/jobs/${e.id}`,className:"job-card-link",children:(0,Xb.jsx)(uw,{job:e})},e.id)))})]})},dw=()=>{const{id:e}=se(),t=ne(),{currentUser:n}=ew(),[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[g,v]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{o(!0);const t=await(async e=>{try{const t=await gy(gv($b,"jobs",e));return t.exists()?{success:!0,job:{id:t.id,...t.data()}}:{success:!1,error:"Job not found"}}catch(l){return console.error("Error getting job:",l),{success:!1,error:l.message}}})(e);t.success?i(t.job):c("Failed to fetch job details")}catch(t){c("Error fetching job details: "+t.message)}finally{o(!1)}})()}),[e]);const y=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),b=()=>{t("/jobs")};return a?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading job details..."})]}):l?(0,Xb.jsxs)("div",{className:"job-detail-container",children:[(0,Xb.jsx)("div",{className:"error-message",children:l}),(0,Xb.jsx)("button",{className:"back-button",onClick:b,children:"Back to Jobs"})]}):r?(0,Xb.jsxs)("div",{className:"job-detail-container",children:[(0,Xb.jsx)("button",{className:"back-button",onClick:b,children:"Back to Jobs"}),(0,Xb.jsxs)("div",{className:"job-detail-card",children:[(0,Xb.jsxs)("div",{className:"job-detail-header",children:[(0,Xb.jsx)("h1",{children:r.title}),(0,Xb.jsx)("span",{className:`job-status ${r.status}`,children:r.status})]}),(0,Xb.jsxs)("div",{className:"job-detail-section",children:[(0,Xb.jsx)("h2",{children:"Job Details"}),(0,Xb.jsxs)("div",{className:"detail-grid",children:[(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Project:"}),(0,Xb.jsx)("span",{className:"detail-value",children:r.project})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Category:"}),(0,Xb.jsx)("span",{className:"detail-value",children:r.category})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Location:"}),(0,Xb.jsx)("span",{className:"detail-value",children:r.location})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Start Date:"}),(0,Xb.jsx)("span",{className:"detail-value",children:y(r.startDate)})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"End Date:"}),(0,Xb.jsx)("span",{className:"detail-value",children:y(r.endDate)})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Cleaners Needed:"}),(0,Xb.jsx)("span",{className:"detail-value",children:r.cleanersNeeded})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Pay Rate:"}),(0,Xb.jsxs)("span",{className:"detail-value",children:["$",r.payRate," per cleaner"]})]}),(0,Xb.jsxs)("div",{className:"detail-item",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Hours Per Day:"}),(0,Xb.jsxs)("span",{className:"detail-value",children:[r.hoursPerDay," hours"]})]})]})]}),(0,Xb.jsxs)("div",{className:"job-detail-section",children:[(0,Xb.jsx)("h2",{children:"Description"}),(0,Xb.jsx)("p",{className:"job-description",children:r.description})]}),"open"===r.status&&!p&&(0,Xb.jsxs)("div",{className:"job-application-section",children:[(0,Xb.jsx)("h2",{children:"Apply for this Job"}),g&&(0,Xb.jsx)("div",{className:"error-message",children:g}),(0,Xb.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{h(!0),v("");const t=await(async(e,t,n)=>{try{return{success:!0,applicationId:(await xy(mv($b,"applications"),{userId:e,jobId:t,...n,status:"pending",appliedAt:(new Date).toISOString()})).id}}catch(l){return console.error("Error applying for job:",l),{success:!1,error:l.message}}})(n.uid,e,{message:d});t.success?(m(!0),f("")):v(t.error||"Failed to apply for job")}catch(r){v("Error applying for job: "+r.message)}finally{h(!1)}},children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"application-message",children:"Message (Optional):"}),(0,Xb.jsx)("textarea",{id:"application-message",value:d,onChange:e=>f(e.target.value),placeholder:"Tell us why you're interested in this job...",rows:4})]}),(0,Xb.jsx)("button",{type:"submit",className:"apply-button",disabled:u,children:u?"Applying...":"Apply Now"})]})]}),p&&(0,Xb.jsxs)("div",{className:"application-success",children:[(0,Xb.jsx)("h2",{children:"Application Submitted!"}),(0,Xb.jsx)("p",{children:"Your application has been successfully submitted. You can check the status of your application in your dashboard."}),(0,Xb.jsx)("button",{className:"view-applications-button",onClick:()=>t("/applications"),children:"View My Applications"})]})]})]}):(0,Xb.jsxs)("div",{className:"job-detail-container",children:[(0,Xb.jsx)("div",{className:"error-message",children:"Job not found"}),(0,Xb.jsx)("button",{className:"back-button",onClick:b,children:"Back to Jobs"})]})},fw=()=>{const{currentUser:e}=ew(),t=ne(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{if(e)try{a(!0);const t=await Kb(e.uid);t.success?r(t.applications):l("Failed to fetch your applications")}catch(t){l("Error fetching applications: "+t.message)}finally{a(!1)}})()}),[e]);const c=e=>{switch(e){case"approved":return"status-approved";case"rejected":return"status-rejected";default:return"status-pending"}};return(0,Xb.jsxs)("div",{className:"job-applications-container",children:[(0,Xb.jsx)("h1",{children:"My Job Applications"}),i?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading your applications..."})]}):o?(0,Xb.jsx)("div",{className:"error-message",children:o}):0===n.length?(0,Xb.jsxs)("div",{className:"no-applications-message",children:[(0,Xb.jsx)("p",{children:"You haven't applied for any jobs yet."}),(0,Xb.jsx)("button",{className:"browse-jobs-button",onClick:()=>t("/jobs"),children:"Browse Available Jobs"})]}):(0,Xb.jsx)("div",{className:"applications-list",children:n.map((e=>{return(0,Xb.jsxs)("div",{className:"application-card",children:[(0,Xb.jsxs)("div",{className:"application-header",children:[(0,Xb.jsx)("h3",{children:e.jobTitle||"Job Application"}),(0,Xb.jsx)("span",{className:`status-badge ${c(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,Xb.jsxs)("div",{className:"application-details",children:[(0,Xb.jsxs)("div",{className:"application-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Applied On:"}),(0,Xb.jsx)("span",{className:"detail-value",children:(n=e.appliedAt,new Date(n).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))})]}),e.message&&(0,Xb.jsxs)("div",{className:"application-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Your Message:"}),(0,Xb.jsx)("span",{className:"detail-value message",children:e.message})]}),e.adminNotes&&(0,Xb.jsxs)("div",{className:"application-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Admin Notes:"}),(0,Xb.jsx)("span",{className:"detail-value admin-notes",children:e.adminNotes})]})]}),(0,Xb.jsx)("div",{className:"application-actions",children:(0,Xb.jsx)("button",{className:"view-job-button",onClick:()=>t(`/jobs/${e.jobId}`),children:"View Job Details"})})]},e.id);var n}))})]})},pw=e=>{let{course:t}=e;const n=t.progress?t.progress.completionPercentage:0;return(0,Xb.jsxs)("div",{className:"course-card",children:[(0,Xb.jsxs)("div",{className:"course-image",children:[t.imageUrl?(0,Xb.jsx)("img",{src:t.imageUrl,alt:t.title}):(0,Xb.jsx)("div",{className:"placeholder-image",children:(0,Xb.jsx)("span",{children:t.title.charAt(0)})}),(0,Xb.jsx)("div",{className:"course-category",children:t.category})]}),(0,Xb.jsxs)("div",{className:"course-content",children:[(0,Xb.jsx)("h3",{className:"course-title",children:t.title}),(0,Xb.jsx)("p",{className:"course-description",children:t.description}),t.progress&&(0,Xb.jsxs)("div",{className:"course-progress",children:[(0,Xb.jsx)("div",{className:"progress-bar",children:(0,Xb.jsx)("div",{className:"progress-fill",style:{width:`${n}%`}})}),(0,Xb.jsxs)("span",{className:"progress-text",children:[n,"% Complete"]})]})]}),(0,Xb.jsxs)("div",{className:"course-footer",children:[(0,Xb.jsx)("div",{className:"course-sections",children:(0,Xb.jsxs)("span",{children:[t.sections?t.sections.length:0," Sections"]})}),(0,Xb.jsxs)("button",{className:"start-course-button",children:[t.progress?"Continue":"Start"," Course"]})]})]})},mw=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{try{r(!0);const e={};c&&(e.category=c);const n=await Gb(e);n.success?t(n.courses):a("Failed to fetch training courses")}catch(e){a("Error fetching training courses: "+e.message)}finally{r(!1)}})()}),[c]);const h=e.filter((e=>{const t=o.toLowerCase();return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)})),d=()=>{l(""),u("")};return(0,Xb.jsxs)("div",{className:"training-courses-container",children:[(0,Xb.jsx)("h1",{children:"Training Courses"}),(0,Xb.jsxs)("div",{className:"course-filters",children:[(0,Xb.jsx)("div",{className:"search-bar",children:(0,Xb.jsx)("input",{type:"text",placeholder:"Search courses...",value:o,onChange:e=>{l(e.target.value)}})}),(0,Xb.jsxs)("div",{className:"filter-options",children:[(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"category-filter",children:"Category:"}),(0,Xb.jsxs)("select",{id:"category-filter",value:c,onChange:e=>{u(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Categories"}),["Post Construction Cleaning","Office Cleaning","Childcare Cleaning","School Cleaning","Customer Service Cleaning"].map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:d,children:"Clear Filters"})]})]}),n?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading training courses..."})]}):i?(0,Xb.jsx)("div",{className:"error-message",children:i}):0===h.length?(0,Xb.jsxs)("div",{className:"no-courses-message",children:[(0,Xb.jsx)("p",{children:"No courses found matching your criteria."}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:d,children:"Clear Filters"})]}):(0,Xb.jsx)("div",{className:"courses-grid",children:h.map((e=>(0,Xb.jsx)(Pe,{to:`/training/${e.id}`,className:"course-card-link",children:(0,Xb.jsx)(pw,{course:e})},e.id)))})]})},gw=()=>{const{id:e}=se(),t=ne(),{currentUser:n}=ew(),[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(0),[d,f]=(0,s.useState)(0),[p,m]=(0,s.useState)({}),[g,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(""),[w,x]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{o(!0);const t=await(async e=>{try{const t=await gy(gv($b,"courses",e));return t.exists()?{success:!0,course:{id:t.id,...t.data()}}:{success:!1,error:"Course not found"}}catch(l){return console.error("Error getting course:",l),{success:!1,error:l.message}}})(e);t.success?(i(t.course),t.course.progress&&(m(t.course.progress.answers||{}),h(t.course.progress.currentSection||0),f(t.course.progress.currentQuestion||0),x(t.course.progress.completed||!1))):c("Failed to fetch course details")}catch(t){c("Error fetching course details: "+t.message)}finally{o(!1)}})()}),[e]);const N=e=>{const t=`${u}_${d}`;m({...p,[t]:e})},E=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n&&r)try{v(!0),b("");const t=r.sections.reduce(((e,t)=>e+t.questions.length),0),s=Object.keys(p).length,i=Math.round(s/t*100),a={currentSection:u,currentQuestion:d,answers:p,completionPercentage:i,completed:e,completedAt:e?(new Date).toISOString():null},o=await(async(e,t,n)=>{try{const r=gv($b,"courseProgress",`${e}_${t}`);return(await gy(r)).exists()?await wy(r,{...n,updatedAt:(new Date).toISOString()}):await by(r,{userId:e,courseId:t,...n,startedAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),{success:!0}}catch(l){return console.error("Error updating course progress:",l),{success:!1,error:l.message}}})(n.uid,r.id,a);o.success||b(o.error||"Failed to save progress")}catch(t){b("Error saving progress: "+t.message)}finally{v(!1)}},_=()=>{t("/completed-courses")};if(a)return(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading course content..."})]});if(l)return(0,Xb.jsxs)("div",{className:"course-content-container",children:[(0,Xb.jsx)("div",{className:"error-message",children:l}),(0,Xb.jsx)("button",{className:"back-button",onClick:()=>t("/training"),children:"Back to Courses"})]});if(!r)return(0,Xb.jsxs)("div",{className:"course-content-container",children:[(0,Xb.jsx)("div",{className:"error-message",children:"Course not found"}),(0,Xb.jsx)("button",{className:"back-button",onClick:()=>t("/training"),children:"Back to Courses"})]});if(w)return(0,Xb.jsx)("div",{className:"course-content-container",children:(0,Xb.jsxs)("div",{className:"course-completion",children:[(0,Xb.jsx)("h1",{children:"Congratulations!"}),(0,Xb.jsxs)("h2",{children:["You've completed the ",r.title," course"]}),(0,Xb.jsx)("p",{children:"You have successfully completed all sections of this training course."}),(0,Xb.jsx)("button",{className:"finish-button",onClick:_,children:"View Completed Courses"}),(0,Xb.jsx)("button",{className:"back-button",onClick:()=>t("/training"),children:"Back to Courses"})]})});const C=r.sections[u],S=null===C||void 0===C?void 0:C.questions[d],k=`${u}_${d}`,T=p[k]||"";return(0,Xb.jsxs)("div",{className:"course-content-container",children:[(0,Xb.jsxs)("div",{className:"course-header",children:[(0,Xb.jsx)("button",{className:"back-button",onClick:()=>t("/training"),children:"Back to Courses"}),(0,Xb.jsx)("h1",{children:r.title})]}),(0,Xb.jsx)("div",{className:"course-progress-bar",children:(0,Xb.jsx)("div",{className:"progress-sections",children:r.sections.map(((e,t)=>(0,Xb.jsxs)("div",{className:"progress-section "+(t<u?"completed":t===u?"current":""),children:[(0,Xb.jsx)("span",{className:"section-number",children:t+1}),(0,Xb.jsx)("span",{className:"section-title",children:e.title})]},t)))})}),(0,Xb.jsxs)("div",{className:"course-content-main",children:[(0,Xb.jsxs)("div",{className:"section-info",children:[(0,Xb.jsx)("h2",{children:C.title}),(0,Xb.jsx)("p",{children:C.description})]}),(0,Xb.jsxs)("div",{className:"question-container",children:[(0,Xb.jsxs)("h3",{children:["Question ",d+1," of ",C.questions.length]}),(0,Xb.jsxs)("div",{className:"question",children:[(0,Xb.jsx)("p",{children:S.text}),"multiple-choice"===S.type&&(0,Xb.jsx)("div",{className:"multiple-choice",children:S.options.map(((e,t)=>(0,Xb.jsxs)("div",{className:"option",children:[(0,Xb.jsx)("input",{type:"radio",id:`option-${t}`,name:`question-${k}`,value:e,checked:T===e,onChange:()=>N(e)}),(0,Xb.jsx)("label",{htmlFor:`option-${t}`,children:e})]},t)))}),"text"===S.type&&(0,Xb.jsx)("div",{className:"text-answer",children:(0,Xb.jsx)("textarea",{value:T,onChange:e=>N(e.target.value),placeholder:"Type your answer here...",rows:4})}),"boolean"===S.type&&(0,Xb.jsxs)("div",{className:"boolean-choice",children:[(0,Xb.jsxs)("div",{className:"option",children:[(0,Xb.jsx)("input",{type:"radio",id:"option-true",name:`question-${k}`,value:"true",checked:"true"===T,onChange:()=>N("true")}),(0,Xb.jsx)("label",{htmlFor:"option-true",children:"True"})]}),(0,Xb.jsxs)("div",{className:"option",children:[(0,Xb.jsx)("input",{type:"radio",id:"option-false",name:`question-${k}`,value:"false",checked:"false"===T,onChange:()=>N("false")}),(0,Xb.jsx)("label",{htmlFor:"option-false",children:"False"})]})]})]}),y&&(0,Xb.jsx)("div",{className:"error-message",children:y}),(0,Xb.jsxs)("div",{className:"question-navigation",children:[(0,Xb.jsx)("button",{className:"prev-button",onClick:async()=>{if(d>0)f(d-1);else if(u>0){const e=r.sections[u-1];h(u-1),f(e.questions.length-1)}await E()},disabled:0===u&&0===d||g,children:"Previous"}),(0,Xb.jsx)("button",{className:"next-button",onClick:async()=>{if(!r||!r.sections)return;const e=r.sections[u];e&&(d>=e.questions.length-1?u>=r.sections.length-1?(await E(!0),x(!0)):(h(u+1),f(0),await E()):(f(d+1),await E()))},disabled:g,children:u===r.sections.length-1&&d===C.questions.length-1?"Complete Course":"Next"})]})]})]})]})},vw=()=>{const{currentUser:e}=ew(),t=ne(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{if(e)try{a(!0);const t=await Qb(e.uid);if(!t.success)return void l("Failed to fetch your course progress");const n=await Gb();if(!n.success)return void l("Failed to fetch courses");const s=t.progress.filter((e=>!e.completed)).map((e=>{const t=n.courses.find((t=>t.id===e.courseId));return{...e,courseTitle:(null===t||void 0===t?void 0:t.title)||"Unknown Course",courseDescription:(null===t||void 0===t?void 0:t.description)||"",courseCategory:(null===t||void 0===t?void 0:t.category)||"",courseImageUrl:(null===t||void 0===t?void 0:t.imageUrl)||"",courseSections:(null===t||void 0===t?void 0:t.sections)||[]}}));r(s)}catch(t){l("Error fetching course progress: "+t.message)}finally{a(!1)}})()}),[e]);return(0,Xb.jsxs)("div",{className:"course-progress-container",children:[(0,Xb.jsx)("h1",{children:"My Course Progress"}),i?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading your course progress..."})]}):o?(0,Xb.jsx)("div",{className:"error-message",children:o}):0===n.length?(0,Xb.jsxs)("div",{className:"no-progress-message",children:[(0,Xb.jsx)("p",{children:"You don't have any courses in progress."}),(0,Xb.jsx)("button",{className:"browse-courses-button",onClick:()=>t("/training"),children:"Browse Training Courses"})]}):(0,Xb.jsx)("div",{className:"progress-courses-list",children:n.map((e=>{var n;return(0,Xb.jsxs)("div",{className:"progress-course-card",children:[(0,Xb.jsxs)("div",{className:"course-image",children:[e.courseImageUrl?(0,Xb.jsx)("img",{src:e.courseImageUrl,alt:e.courseTitle}):(0,Xb.jsx)("div",{className:"placeholder-image",children:(0,Xb.jsx)("span",{children:e.courseTitle.charAt(0)})}),(0,Xb.jsx)("div",{className:"course-category",children:e.courseCategory})]}),(0,Xb.jsxs)("div",{className:"course-info",children:[(0,Xb.jsx)("h3",{children:e.courseTitle}),(0,Xb.jsx)("p",{className:"course-description",children:e.courseDescription}),(0,Xb.jsxs)("div",{className:"progress-bar-container",children:[(0,Xb.jsx)("div",{className:"progress-bar",children:(0,Xb.jsx)("div",{className:"progress-fill",style:{width:`${e.completionPercentage||0}%`}})}),(0,Xb.jsxs)("span",{className:"progress-percentage",children:[e.completionPercentage||0,"% Complete"]})]}),(0,Xb.jsxs)("div",{className:"progress-details",children:[(0,Xb.jsxs)("div",{className:"progress-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Current Section:"}),(0,Xb.jsx)("span",{className:"detail-value",children:(null===(n=e.courseSections[e.currentSection])||void 0===n?void 0:n.title)||`Section ${e.currentSection+1}`})]}),(0,Xb.jsxs)("div",{className:"progress-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Started:"}),(0,Xb.jsx)("span",{className:"detail-value",children:new Date(e.startedAt).toLocaleDateString()})]}),(0,Xb.jsxs)("div",{className:"progress-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Last Updated:"}),(0,Xb.jsx)("span",{className:"detail-value",children:new Date(e.updatedAt).toLocaleDateString()})]})]}),(0,Xb.jsx)("button",{className:"continue-button",onClick:()=>{return n=e.courseId,void t(`/training/${n}`);var n},children:"Continue Course"})]})]},e.id)}))}),(0,Xb.jsxs)("div",{className:"progress-navigation",children:[(0,Xb.jsx)("button",{className:"view-completed-button",onClick:()=>t("/completed-courses"),children:"View Completed Courses"}),(0,Xb.jsx)("button",{className:"browse-courses-button",onClick:()=>t("/training"),children:"Browse All Courses"})]})]})},yw=()=>{const{currentUser:e}=ew(),t=ne(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{if(e)try{a(!0);const t=await Qb(e.uid);if(!t.success)return void l("Failed to fetch your completed courses");const n=await Gb();if(!n.success)return void l("Failed to fetch courses");const s=t.progress.filter((e=>e.completed)).map((e=>{const t=n.courses.find((t=>t.id===e.courseId));return{...e,courseTitle:(null===t||void 0===t?void 0:t.title)||"Unknown Course",courseDescription:(null===t||void 0===t?void 0:t.description)||"",courseCategory:(null===t||void 0===t?void 0:t.category)||"",courseImageUrl:(null===t||void 0===t?void 0:t.imageUrl)||""}}));r(s)}catch(t){l("Error fetching completed courses: "+t.message)}finally{a(!1)}})()}),[e]),(0,Xb.jsxs)("div",{className:"completed-courses-container",children:[(0,Xb.jsx)("h1",{children:"Completed Courses"}),i?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading your completed courses..."})]}):o?(0,Xb.jsx)("div",{className:"error-message",children:o}):0===n.length?(0,Xb.jsxs)("div",{className:"no-completed-message",children:[(0,Xb.jsx)("p",{children:"You haven't completed any courses yet."}),(0,Xb.jsx)("button",{className:"browse-courses-button",onClick:()=>t("/training"),children:"Browse Training Courses"})]}):(0,Xb.jsx)("div",{className:"completed-courses-list",children:n.map((e=>(0,Xb.jsxs)("div",{className:"completed-course-card",children:[(0,Xb.jsxs)("div",{className:"course-image",children:[e.courseImageUrl?(0,Xb.jsx)("img",{src:e.courseImageUrl,alt:e.courseTitle}):(0,Xb.jsx)("div",{className:"placeholder-image",children:(0,Xb.jsx)("span",{children:e.courseTitle.charAt(0)})}),(0,Xb.jsx)("div",{className:"course-category",children:e.courseCategory}),(0,Xb.jsx)("div",{className:"completion-badge",children:"Completed"})]}),(0,Xb.jsxs)("div",{className:"course-info",children:[(0,Xb.jsx)("h3",{children:e.courseTitle}),(0,Xb.jsx)("p",{className:"course-description",children:e.courseDescription}),(0,Xb.jsxs)("div",{className:"completion-details",children:[(0,Xb.jsxs)("div",{className:"completion-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Completed On:"}),(0,Xb.jsx)("span",{className:"detail-value",children:new Date(e.completedAt).toLocaleDateString()})]}),(0,Xb.jsxs)("div",{className:"completion-detail",children:[(0,Xb.jsx)("span",{className:"detail-label",children:"Started On:"}),(0,Xb.jsx)("span",{className:"detail-value",children:new Date(e.startedAt).toLocaleDateString()})]})]}),(0,Xb.jsx)("button",{className:"view-certificate-button",onClick:()=>t(`/certificate/${e.courseId}`),children:"View Certificate"})]})]},e.id)))}),(0,Xb.jsxs)("div",{className:"courses-navigation",children:[(0,Xb.jsx)("button",{className:"view-progress-button",onClick:()=>t("/progress"),children:"View Courses in Progress"}),(0,Xb.jsx)("button",{className:"browse-courses-button",onClick:()=>t("/training"),children:"Browse All Courses"})]})]})},bw=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"documents";try{const i=(r=qb,s=`${n}/${e}/${t.name}`,Db(r=ht(r),s)),a=await function(e,t,n){return jb(e=ht(e),t,n)}(i,t);return{success:!0,downloadURL:await function(e){return Ib(e=ht(e))}(a.ref),path:a.ref.fullPath}}catch(i){return console.error("Error uploading file:",i),{success:!1,error:i.message}}var r,s},ww=()=>{const{currentUser:e}=ew(),[t,n]=(0,s.useState)(!0),[r,i]=(0,s.useState)(!1),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)({displayName:"",phone:"",address:"",city:"",state:"",postcode:"",abn:"",bankName:"",bsb:"",accountNumber:"",driverLicense:!1,driverLicenseNumber:"",driverLicenseExpiry:"",driverLicenseFile:null,whiteCard:!1,whiteCardNumber:"",whiteCardExpiry:"",whiteCardFile:null,blueCard:!1,blueCardNumber:"",blueCardExpiry:"",blueCardFile:null,bio:"",experience:"",skills:[]});(0,s.useEffect)((()=>{(async()=>{if(e)try{n(!0);const t=await Jb(e.uid);t.success?h((e=>({...e,...t.profile,driverLicenseFile:null,whiteCardFile:null,blueCardFile:null}))):c("Failed to load profile data")}catch(t){c("Error loading profile: "+t.message)}finally{n(!1)}})()}),[e]);const d=e=>{const{name:t,value:n,type:r,checked:s,files:i}=e.target;h("checkbox"===r?{...u,[t]:s}:"file"===r?{...u,[t]:i[0]}:{...u,[t]:n})};return t?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading profile..."})]}):(0,Xb.jsxs)("div",{className:"cleaner-profile-container",children:[(0,Xb.jsxs)("div",{className:"profile-header",children:[(0,Xb.jsx)("h1",{children:"Your Cleaner Profile"}),(0,Xb.jsx)("p",{children:"Complete your profile to apply for cleaning jobs"})]}),a&&(0,Xb.jsx)("div",{className:"success-message",children:a}),l&&(0,Xb.jsx)("div",{className:"error-message",children:l}),(0,Xb.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e)try{i(!0),o(""),c("");const t={...u};if(u.driverLicenseFile){const n=await bw(`users/${e.uid}/documents/driver-license`,u.driverLicenseFile);if(!n.success)throw new Error("Failed to upload driver license file");t.driverLicenseFileURL=n.downloadURL}if(u.whiteCardFile){const n=await bw(`users/${e.uid}/documents/white-card`,u.whiteCardFile);if(!n.success)throw new Error("Failed to upload white card file");t.whiteCardFileURL=n.downloadURL}if(u.blueCardFile){const n=await bw(`users/${e.uid}/documents/blue-card`,u.blueCardFile);if(!n.success)throw new Error("Failed to upload blue card file");t.blueCardFileURL=n.downloadURL}delete t.driverLicenseFile,delete t.whiteCardFile,delete t.blueCardFile;const n=await(async(e,t)=>{try{return await wy(gv($b,"users",e),{...t,updatedAt:(new Date).toISOString(),profileComplete:!0}),{success:!0}}catch(l){return console.error("Error updating user profile:",l),{success:!1,error:l.message}}})(e.uid,t);n.success?(o("Profile updated successfully"),window.scrollTo(0,0)):c(n.error||"Failed to update profile")}catch(n){c("Error updating profile: "+n.message)}finally{i(!1)}},className:"profile-form",children:[(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h2",{children:"Personal Information"}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"displayName",children:"Full Name"}),(0,Xb.jsx)("input",{type:"text",id:"displayName",name:"displayName",value:u.displayName,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Xb.jsx)("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"address",children:"Address"}),(0,Xb.jsx)("input",{type:"text",id:"address",name:"address",value:u.address,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"city",children:"City"}),(0,Xb.jsx)("input",{type:"text",id:"city",name:"city",value:u.city,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"state",children:"State"}),(0,Xb.jsxs)("select",{id:"state",name:"state",value:u.state,onChange:d,required:!0,children:[(0,Xb.jsx)("option",{value:"",children:"Select State"}),(0,Xb.jsx)("option",{value:"ACT",children:"Australian Capital Territory"}),(0,Xb.jsx)("option",{value:"NSW",children:"New South Wales"}),(0,Xb.jsx)("option",{value:"NT",children:"Northern Territory"}),(0,Xb.jsx)("option",{value:"QLD",children:"Queensland"}),(0,Xb.jsx)("option",{value:"SA",children:"South Australia"}),(0,Xb.jsx)("option",{value:"TAS",children:"Tasmania"}),(0,Xb.jsx)("option",{value:"VIC",children:"Victoria"}),(0,Xb.jsx)("option",{value:"WA",children:"Western Australia"})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"postcode",children:"Postcode"}),(0,Xb.jsx)("input",{type:"text",id:"postcode",name:"postcode",value:u.postcode,onChange:d,required:!0})]})]})]}),(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h2",{children:"Business Information"}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"abn",children:"ABN (Australian Business Number)"}),(0,Xb.jsx)("input",{type:"text",id:"abn",name:"abn",value:u.abn,onChange:d,required:!0}),(0,Xb.jsx)("small",{children:"Required for all cleaning contractors"})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"bankName",children:"Bank Name"}),(0,Xb.jsx)("input",{type:"text",id:"bankName",name:"bankName",value:u.bankName,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"bsb",children:"BSB"}),(0,Xb.jsx)("input",{type:"text",id:"bsb",name:"bsb",value:u.bsb,onChange:d,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"accountNumber",children:"Account Number"}),(0,Xb.jsx)("input",{type:"text",id:"accountNumber",name:"accountNumber",value:u.accountNumber,onChange:d,required:!0})]})]})]}),(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h2",{children:"Credentials"}),(0,Xb.jsxs)("div",{className:"credential-section",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsxs)("div",{className:"credential-checkbox",children:[(0,Xb.jsx)("input",{type:"checkbox",id:"driverLicense",name:"driverLicense",checked:u.driverLicense,onChange:d}),(0,Xb.jsx)("label",{htmlFor:"driverLicense",children:"Driver License"})]}),(0,Xb.jsx)("small",{children:"Required for most cleaning positions"})]}),u.driverLicense&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"driverLicenseNumber",children:"License Number"}),(0,Xb.jsx)("input",{type:"text",id:"driverLicenseNumber",name:"driverLicenseNumber",value:u.driverLicenseNumber,onChange:d,required:u.driverLicense})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"driverLicenseExpiry",children:"Expiry Date"}),(0,Xb.jsx)("input",{type:"date",id:"driverLicenseExpiry",name:"driverLicenseExpiry",value:u.driverLicenseExpiry,onChange:d,required:u.driverLicense})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"driverLicenseFile",children:"Upload License (Front and Back)"}),(0,Xb.jsx)("input",{type:"file",id:"driverLicenseFile",name:"driverLicenseFile",onChange:d,accept:"image/*,.pdf"}),(0,Xb.jsx)("small",{children:"PDF or image files only (max 5MB)"})]}),u.driverLicenseFileURL&&(0,Xb.jsxs)("div",{className:"uploaded-file",children:[(0,Xb.jsx)("span",{children:"Current file: "}),(0,Xb.jsx)("a",{href:u.driverLicenseFileURL,target:"_blank",rel:"noopener noreferrer",children:"View uploaded license"})]})]})]}),(0,Xb.jsxs)("div",{className:"credential-section",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsxs)("div",{className:"credential-checkbox",children:[(0,Xb.jsx)("input",{type:"checkbox",id:"whiteCard",name:"whiteCard",checked:u.whiteCard,onChange:d}),(0,Xb.jsx)("label",{htmlFor:"whiteCard",children:"White Card (Construction Induction)"})]}),(0,Xb.jsx)("small",{children:"Required for post-construction cleaning"})]}),u.whiteCard&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"whiteCardNumber",children:"Card Number"}),(0,Xb.jsx)("input",{type:"text",id:"whiteCardNumber",name:"whiteCardNumber",value:u.whiteCardNumber,onChange:d,required:u.whiteCard})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"whiteCardExpiry",children:"Expiry Date"}),(0,Xb.jsx)("input",{type:"date",id:"whiteCardExpiry",name:"whiteCardExpiry",value:u.whiteCardExpiry,onChange:d,required:u.whiteCard})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"whiteCardFile",children:"Upload White Card"}),(0,Xb.jsx)("input",{type:"file",id:"whiteCardFile",name:"whiteCardFile",onChange:d,accept:"image/*,.pdf"}),(0,Xb.jsx)("small",{children:"PDF or image files only (max 5MB)"})]}),u.whiteCardFileURL&&(0,Xb.jsxs)("div",{className:"uploaded-file",children:[(0,Xb.jsx)("span",{children:"Current file: "}),(0,Xb.jsx)("a",{href:u.whiteCardFileURL,target:"_blank",rel:"noopener noreferrer",children:"View uploaded white card"})]})]})]}),(0,Xb.jsxs)("div",{className:"credential-section",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsxs)("div",{className:"credential-checkbox",children:[(0,Xb.jsx)("input",{type:"checkbox",id:"blueCard",name:"blueCard",checked:u.blueCard,onChange:d}),(0,Xb.jsx)("label",{htmlFor:"blueCard",children:"Blue Card (Working with Children)"})]}),(0,Xb.jsx)("small",{children:"Required for childcare and school cleaning"})]}),u.blueCard&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"blueCardNumber",children:"Card Number"}),(0,Xb.jsx)("input",{type:"text",id:"blueCardNumber",name:"blueCardNumber",value:u.blueCardNumber,onChange:d,required:u.blueCard})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"blueCardExpiry",children:"Expiry Date"}),(0,Xb.jsx)("input",{type:"date",id:"blueCardExpiry",name:"blueCardExpiry",value:u.blueCardExpiry,onChange:d,required:u.blueCard})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"blueCardFile",children:"Upload Blue Card"}),(0,Xb.jsx)("input",{type:"file",id:"blueCardFile",name:"blueCardFile",onChange:d,accept:"image/*,.pdf"}),(0,Xb.jsx)("small",{children:"PDF or image files only (max 5MB)"})]}),u.blueCardFileURL&&(0,Xb.jsxs)("div",{className:"uploaded-file",children:[(0,Xb.jsx)("span",{children:"Current file: "}),(0,Xb.jsx)("a",{href:u.blueCardFileURL,target:"_blank",rel:"noopener noreferrer",children:"View uploaded blue card"})]})]})]})]}),(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h2",{children:"Experience & Skills"}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"bio",children:"About You"}),(0,Xb.jsx)("textarea",{id:"bio",name:"bio",value:u.bio,onChange:d,rows:"4",placeholder:"Tell us a bit about yourself..."})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"experience",children:"Cleaning Experience"}),(0,Xb.jsx)("textarea",{id:"experience",name:"experience",value:u.experience,onChange:d,rows:"4",placeholder:"Describe your cleaning experience..."})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{children:"Skills & Specialties"}),(0,Xb.jsx)("div",{className:"skills-grid",children:["Post Construction Cleaning","Office Cleaning","Childcare Cleaning","School Cleaning","Customer Service","Window Cleaning","Carpet Cleaning","Floor Polishing","Pressure Washing","Sanitization"].map((e=>(0,Xb.jsxs)("div",{className:"skill-checkbox",children:[(0,Xb.jsx)("input",{type:"checkbox",id:`skill-${e}`,checked:u.skills.includes(e),onChange:()=>(e=>{const t=[...u.skills];if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}else t.push(e);h({...u,skills:t})})(e)}),(0,Xb.jsx)("label",{htmlFor:`skill-${e}`,children:e})]},e)))})]})]}),(0,Xb.jsx)("div",{className:"form-actions",children:(0,Xb.jsx)("button",{type:"submit",disabled:r,children:r?"Saving...":"Save Profile"})})]})]})},xw=()=>{const{id:e}=se(),{currentUser:t,isAdmin:n}=ew(),[r,i]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)("");(0,s.useEffect)((()=>{(async()=>{if(e)try{o(!0);const t=await(async e=>Jb(e))(e);t.success?i(t.profile):c("Failed to load profile data")}catch(t){c("Error loading profile: "+t.message)}finally{o(!1)}})()}),[e]);const u=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})};if(a)return(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading profile..."})]});if(l||!r)return(0,Xb.jsx)("div",{className:"profile-view-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[l||"Profile not found",(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})});return n||t.uid===e?(0,Xb.jsxs)("div",{className:"profile-view-container",children:[(0,Xb.jsxs)("div",{className:"profile-header",children:[(0,Xb.jsx)("h1",{children:"Cleaner Profile"}),n&&(0,Xb.jsxs)("div",{className:"admin-actions",children:[(0,Xb.jsx)("span",{className:`status-badge ${r.status||"pending"}`,children:r.status?r.status.charAt(0).toUpperCase()+r.status.slice(1):"Pending"}),(0,Xb.jsx)(Pe,{to:`/admin/cleaners/${e}/edit`,className:"edit-button",children:"Edit Profile"})]})]}),(0,Xb.jsxs)("div",{className:"profile-card",children:[(0,Xb.jsxs)("div",{className:"profile-section personal-info",children:[(0,Xb.jsx)("h2",{children:"Personal Information"}),(0,Xb.jsxs)("div",{className:"profile-details",children:[(0,Xb.jsx)("div",{className:"profile-avatar",children:r.displayName?r.displayName.charAt(0).toUpperCase():"U"}),(0,Xb.jsxs)("div",{className:"profile-info-grid",children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Name"}),(0,Xb.jsx)("span",{className:"info-value",children:r.displayName||"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Email"}),(0,Xb.jsx)("span",{className:"info-value",children:r.email||"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Phone"}),(0,Xb.jsx)("span",{className:"info-value",children:r.phone||"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Address"}),(0,Xb.jsx)("span",{className:"info-value",children:r.address?(0,Xb.jsxs)(Xb.Fragment,{children:[r.address,(0,Xb.jsx)("br",{}),r.city,", ",r.state," ",r.postcode]}):"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Member Since"}),(0,Xb.jsx)("span",{className:"info-value",children:u(r.createdAt)})]})]})]})]}),(0,Xb.jsxs)("div",{className:"profile-section business-info",children:[(0,Xb.jsx)("h2",{children:"Business Information"}),(0,Xb.jsxs)("div",{className:"profile-info-grid",children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"ABN"}),(0,Xb.jsx)("span",{className:"info-value",children:r.abn||"Not provided"})]}),n&&(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Bank Name"}),(0,Xb.jsx)("span",{className:"info-value",children:r.bankName||"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"BSB"}),(0,Xb.jsx)("span",{className:"info-value",children:r.bsb||"Not provided"})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Account Number"}),(0,Xb.jsx)("span",{className:"info-value",children:r.accountNumber||"Not provided"})]})]})]})]}),(0,Xb.jsxs)("div",{className:"profile-section credentials",children:[(0,Xb.jsx)("h2",{children:"Credentials"}),(0,Xb.jsxs)("div",{className:"credentials-grid",children:[(0,Xb.jsxs)("div",{className:"credential-card",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsx)("h3",{children:"Driver License"}),(0,Xb.jsx)("span",{className:"credential-status "+(r.driverLicense?"verified":"missing"),children:r.driverLicense?"Verified":"Not Provided"})]}),r.driverLicense&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"License Number"}),(0,Xb.jsx)("span",{className:"info-value",children:r.driverLicenseNumber})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Expiry Date"}),(0,Xb.jsx)("span",{className:"info-value",children:u(r.driverLicenseExpiry)})]}),r.driverLicenseFileURL&&n&&(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Document"}),(0,Xb.jsx)("a",{href:r.driverLicenseFileURL,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"})]})]})]}),(0,Xb.jsxs)("div",{className:"credential-card",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsx)("h3",{children:"White Card"}),(0,Xb.jsx)("span",{className:"credential-status "+(r.whiteCard?"verified":"missing"),children:r.whiteCard?"Verified":"Not Provided"})]}),r.whiteCard&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Card Number"}),(0,Xb.jsx)("span",{className:"info-value",children:r.whiteCardNumber})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Expiry Date"}),(0,Xb.jsx)("span",{className:"info-value",children:u(r.whiteCardExpiry)})]}),r.whiteCardFileURL&&n&&(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Document"}),(0,Xb.jsx)("a",{href:r.whiteCardFileURL,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"})]})]})]}),(0,Xb.jsxs)("div",{className:"credential-card",children:[(0,Xb.jsxs)("div",{className:"credential-header",children:[(0,Xb.jsx)("h3",{children:"Blue Card"}),(0,Xb.jsx)("span",{className:"credential-status "+(r.blueCard?"verified":"missing"),children:r.blueCard?"Verified":"Not Provided"})]}),r.blueCard&&(0,Xb.jsxs)("div",{className:"credential-details",children:[(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Card Number"}),(0,Xb.jsx)("span",{className:"info-value",children:r.blueCardNumber})]}),(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Expiry Date"}),(0,Xb.jsx)("span",{className:"info-value",children:u(r.blueCardExpiry)})]}),r.blueCardFileURL&&n&&(0,Xb.jsxs)("div",{className:"info-item",children:[(0,Xb.jsx)("span",{className:"info-label",children:"Document"}),(0,Xb.jsx)("a",{href:r.blueCardFileURL,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"})]})]})]})]})]}),(0,Xb.jsxs)("div",{className:"profile-section experience",children:[(0,Xb.jsx)("h2",{children:"Experience & Skills"}),(0,Xb.jsxs)("div",{className:"bio-section",children:[(0,Xb.jsx)("h3",{children:"About"}),(0,Xb.jsx)("p",{children:r.bio||"No information provided."})]}),(0,Xb.jsxs)("div",{className:"bio-section",children:[(0,Xb.jsx)("h3",{children:"Cleaning Experience"}),(0,Xb.jsx)("p",{children:r.experience||"No information provided."})]}),(0,Xb.jsxs)("div",{className:"skills-section",children:[(0,Xb.jsx)("h3",{children:"Skills & Specialties"}),r.skills&&r.skills.length>0?(0,Xb.jsx)("div",{className:"skills-list",children:r.skills.map((e=>(0,Xb.jsx)("span",{className:"skill-badge",children:e},e)))}):(0,Xb.jsx)("p",{children:"No skills listed."})]})]})]}),(0,Xb.jsxs)("div",{className:"profile-actions",children:[(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-button",children:"Back to Dashboard"}),t.uid===e&&(0,Xb.jsx)(Pe,{to:"/profile",className:"edit-button",children:"Edit Profile"})]})]}):(0,Xb.jsx)("div",{className:"profile-view-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[(0,Xb.jsx)("h2",{children:"Access Denied"}),(0,Xb.jsx)("p",{children:"You do not have permission to view this profile."}),(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})})},Nw=()=>{const{currentUser:e,isAdmin:t}=ew(),[n,r]=(0,s.useState)({totalCleaners:0,totalJobs:0,openJobs:0,totalCourses:0,recentApplications:0}),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)("");return(0,s.useEffect)((()=>{(async()=>{if(e&&t)try{a(!0);const e=await Yb(),t=await Wb(),n=await Gb();if(e.success&&t.success&&n.success){const s=e.users.filter((e=>"cleaner"===e.role)),i=t.jobs.filter((e=>"open"===e.status));r({totalCleaners:s.length,totalJobs:t.jobs.length,openJobs:i.length,totalCourses:n.courses.length,recentApplications:0})}else l("Failed to fetch admin data")}catch(n){l("Error fetching admin data: "+n.message)}finally{a(!1)}})()}),[e,t]),t?(0,Xb.jsxs)("div",{className:"admin-dashboard-container",children:[(0,Xb.jsx)("h1",{children:"Admin Dashboard"}),i?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading admin dashboard..."})]}):o?(0,Xb.jsx)("div",{className:"error-message",children:o}):(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsxs)("div",{className:"stats-grid",children:[(0,Xb.jsxs)("div",{className:"stat-card",children:[(0,Xb.jsx)("h3",{children:"Total Cleaners"}),(0,Xb.jsx)("div",{className:"stat-value",children:n.totalCleaners}),(0,Xb.jsx)(Pe,{to:"/admin/cleaners",className:"stat-link",children:"View All Cleaners"})]}),(0,Xb.jsxs)("div",{className:"stat-card",children:[(0,Xb.jsx)("h3",{children:"Total Jobs"}),(0,Xb.jsx)("div",{className:"stat-value",children:n.totalJobs}),(0,Xb.jsx)(Pe,{to:"/admin/jobs",className:"stat-link",children:"Manage Jobs"})]}),(0,Xb.jsxs)("div",{className:"stat-card",children:[(0,Xb.jsx)("h3",{children:"Open Jobs"}),(0,Xb.jsx)("div",{className:"stat-value",children:n.openJobs}),(0,Xb.jsx)(Pe,{to:"/admin/jobs",className:"stat-link",children:"View Open Jobs"})]}),(0,Xb.jsxs)("div",{className:"stat-card",children:[(0,Xb.jsx)("h3",{children:"Training Courses"}),(0,Xb.jsx)("div",{className:"stat-value",children:n.totalCourses}),(0,Xb.jsx)(Pe,{to:"/admin/courses",className:"stat-link",children:"Manage Courses"})]})]}),(0,Xb.jsxs)("div",{className:"admin-actions",children:[(0,Xb.jsx)("h2",{children:"Quick Actions"}),(0,Xb.jsxs)("div",{className:"action-buttons",children:[(0,Xb.jsx)(Pe,{to:"/admin/jobs/new",className:"action-button create-job",children:"Create New Job"}),(0,Xb.jsx)(Pe,{to:"/admin/courses/new",className:"action-button create-course",children:"Create New Course"}),(0,Xb.jsx)(Pe,{to:"/admin/applications",className:"action-button view-applications",children:"Review Applications"})]})]})]})]}):(0,Xb.jsx)("div",{className:"admin-dashboard-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[(0,Xb.jsx)("h2",{children:"Access Denied"}),(0,Xb.jsx)("p",{children:"You do not have permission to access the admin dashboard."}),(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})})},Ew=()=>{const{currentUser:e,isAdmin:t}=ew(),n=ne(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(null),[p,m]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[y,b]=(0,s.useState)({title:"",project:"",description:"",location:"",category:"",startDate:"",endDate:"",payRate:"",hoursPerDay:"",cleanersNeeded:"",status:"open"}),w=["open","filled","completed","cancelled"];(0,s.useEffect)((()=>{(async()=>{if(e&&t)try{o(!0);const e=await Wb();e.success?i(e.jobs):c("Failed to fetch jobs")}catch(n){c("Error fetching jobs: "+n.message)}finally{o(!1)}})()}),[e,t]);const x=r.filter((e=>{const t=e.title.toLowerCase().includes(p.toLowerCase())||e.project.toLowerCase().includes(p.toLowerCase())||e.location.toLowerCase().includes(p.toLowerCase()),n=!g||e.status===g;return t&&n})),N=()=>{m(""),v("")},E=e=>{const{name:t,value:n}=e.target;b({...y,[t]:n})},_=()=>{b({title:"",project:"",description:"",location:"",category:"",startDate:"",endDate:"",payRate:"",hoursPerDay:"",cleanersNeeded:"",status:"open"})},C=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});return t?(0,Xb.jsxs)("div",{className:"admin-jobs-container",children:[(0,Xb.jsxs)("div",{className:"admin-header",children:[(0,Xb.jsx)("h1",{children:"Manage Jobs"}),(0,Xb.jsx)("button",{className:"new-job-button",onClick:()=>{_(),h(!0),f(null)},children:"Create New Job"})]}),l&&(0,Xb.jsx)("div",{className:"error-message",children:l}),u?(0,Xb.jsxs)("div",{className:"job-form-container",children:[(0,Xb.jsx)("h2",{children:d?"Edit Job":"Create New Job"}),(0,Xb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.title&&y.project&&y.location&&y.category&&y.startDate&&y.endDate&&y.payRate&&y.hoursPerDay&&y.cleanersNeeded)try{o(!0);const e={...y,payRate:parseFloat(y.payRate),hoursPerDay:parseFloat(y.hoursPerDay),cleanersNeeded:parseInt(y.cleanersNeeded,10)};let t;if(t=d?await(async(e,t)=>{try{return await wy(gv($b,"jobs",e),{...t,updatedAt:(new Date).toISOString()}),{success:!0}}catch(l){return console.error("Error updating job:",l),{success:!1,error:l.message}}})(d,e):await(async e=>{try{return{success:!0,jobId:(await xy(mv($b,"jobs"),{...e,createdAt:(new Date).toISOString(),status:"open"})).id}}catch(l){return console.error("Error creating job:",l),{success:!1,error:l.message}}})(e),t.success){const e=await Wb();e.success&&i(e.jobs),_(),h(!1),f(null)}else c(t.error||"Failed to save job")}catch(t){c("Error saving job: "+t.message)}finally{o(!1)}else c("Please fill in all required fields")},className:"job-form",children:[(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"title",children:"Job Title*"}),(0,Xb.jsx)("input",{type:"text",id:"title",name:"title",value:y.title,onChange:E,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"project",children:"Project Name*"}),(0,Xb.jsx)("input",{type:"text",id:"project",name:"project",value:y.project,onChange:E,required:!0})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"description",children:"Description*"}),(0,Xb.jsx)("textarea",{id:"description",name:"description",value:y.description,onChange:E,rows:4,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"location",children:"Location*"}),(0,Xb.jsxs)("select",{id:"location",name:"location",value:y.location,onChange:E,required:!0,children:[(0,Xb.jsx)("option",{value:"",children:"Select Location"}),["Brisbane","Gold Coast","Sunshine Coast","Sydney","Melbourne","Perth"].map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"category",children:"Category*"}),(0,Xb.jsxs)("select",{id:"category",name:"category",value:y.category,onChange:E,required:!0,children:[(0,Xb.jsx)("option",{value:"",children:"Select Category"}),["Post Construction","Office","Childcare","School","Residential","Commercial"].map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"startDate",children:"Start Date*"}),(0,Xb.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:y.startDate,onChange:E,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"endDate",children:"End Date*"}),(0,Xb.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:y.endDate,onChange:E,required:!0})]})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"payRate",children:"Pay Rate ($ per cleaner)*"}),(0,Xb.jsx)("input",{type:"number",id:"payRate",name:"payRate",value:y.payRate,onChange:E,min:"0",step:"0.01",required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"hoursPerDay",children:"Hours Per Day*"}),(0,Xb.jsx)("input",{type:"number",id:"hoursPerDay",name:"hoursPerDay",value:y.hoursPerDay,onChange:E,min:"0",step:"0.5",required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"cleanersNeeded",children:"Cleaners Needed*"}),(0,Xb.jsx)("input",{type:"number",id:"cleanersNeeded",name:"cleanersNeeded",value:y.cleanersNeeded,onChange:E,min:"1",step:"1",required:!0})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"status",children:"Status*"}),(0,Xb.jsx)("select",{id:"status",name:"status",value:y.status,onChange:E,required:!0,children:w.map((e=>(0,Xb.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),(0,Xb.jsxs)("div",{className:"form-actions",children:[(0,Xb.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>{_(),h(!1),f(null)},children:"Cancel"}),(0,Xb.jsx)("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Saving...":d?"Update Job":"Create Job"})]})]})]}):(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsxs)("div",{className:"jobs-filters",children:[(0,Xb.jsx)("div",{className:"search-bar",children:(0,Xb.jsx)("input",{type:"text",placeholder:"Search jobs...",value:p,onChange:e=>{m(e.target.value)}})}),(0,Xb.jsxs)("div",{className:"filter-options",children:[(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"status-filter",children:"Status:"}),(0,Xb.jsxs)("select",{id:"status-filter",value:g,onChange:e=>{v(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Statuses"}),w.map((e=>(0,Xb.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))]})]}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:N,children:"Clear Filters"})]})]}),a?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading jobs..."})]}):0===x.length?(0,Xb.jsxs)("div",{className:"no-jobs-message",children:[(0,Xb.jsx)("p",{children:"No jobs found matching your criteria."}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:N,children:"Clear Filters"})]}):(0,Xb.jsx)("div",{className:"jobs-table-container",children:(0,Xb.jsxs)("table",{className:"jobs-table",children:[(0,Xb.jsx)("thead",{children:(0,Xb.jsxs)("tr",{children:[(0,Xb.jsx)("th",{children:"Title"}),(0,Xb.jsx)("th",{children:"Project"}),(0,Xb.jsx)("th",{children:"Location"}),(0,Xb.jsx)("th",{children:"Dates"}),(0,Xb.jsx)("th",{children:"Cleaners"}),(0,Xb.jsx)("th",{children:"Pay Rate"}),(0,Xb.jsx)("th",{children:"Status"}),(0,Xb.jsx)("th",{children:"Actions"})]})}),(0,Xb.jsx)("tbody",{children:x.map((e=>(0,Xb.jsxs)("tr",{children:[(0,Xb.jsx)("td",{children:e.title}),(0,Xb.jsx)("td",{children:e.project}),(0,Xb.jsx)("td",{children:e.location}),(0,Xb.jsxs)("td",{children:[C(e.startDate)," - ",C(e.endDate)]}),(0,Xb.jsx)("td",{children:e.cleanersNeeded}),(0,Xb.jsxs)("td",{children:["$",e.payRate]}),(0,Xb.jsx)("td",{children:(0,Xb.jsx)("span",{className:`status-badge ${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,Xb.jsx)("td",{children:(0,Xb.jsxs)("div",{className:"action-buttons",children:[(0,Xb.jsx)("button",{className:"edit-button",onClick:()=>(e=>{const t=e=>new Date(e).toISOString().split("T")[0];b({title:e.title,project:e.project,description:e.description,location:e.location,category:e.category,startDate:t(e.startDate),endDate:t(e.endDate),payRate:e.payRate,hoursPerDay:e.hoursPerDay,cleanersNeeded:e.cleanersNeeded,status:e.status}),f(e.id),h(!0)})(e),children:"Edit"}),(0,Xb.jsx)("button",{className:"view-button",onClick:()=>n(`/admin/jobs/${e.id}/applications`),children:"Applications"})]})})]},e.id)))})]})})]})]}):(0,Xb.jsx)("div",{className:"admin-jobs-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[(0,Xb.jsx)("h2",{children:"Access Denied"}),(0,Xb.jsx)("p",{children:"You do not have permission to access the admin jobs page."}),(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})})},_w=()=>{const{currentUser:e,isAdmin:t}=ew(),[n,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),[o,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,d]=(0,s.useState)(""),[f,p]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{if(e&&t)try{a(!0);const e=await Yb();if(e.success){const t=e.users.filter((e=>"cleaner"===e.role||!e.role));r(t)}else l("Failed to fetch cleaners")}catch(n){l("Error fetching cleaners: "+n.message)}finally{a(!1)}})()}),[e,t]);const m=n.filter((e=>{const t=e.displayName&&e.displayName.toLowerCase().includes(c.toLowerCase())||e.email&&e.email.toLowerCase().includes(c.toLowerCase()),n=!h||e.status===h;return t&&n})),g=()=>{u(""),d("")},v=async(n,s)=>{if(e&&t)try{p(n);const e=await(async(e,t)=>{try{return await wy(gv($b,"users",e),{role:t,updatedAt:(new Date).toISOString()}),{success:!0}}catch(o){return console.error("Error updating user role:",o),{success:!1,error:o.message}}})(n,s);e.success?r((e=>e.map((e=>e.id===n?{...e,role:s}:e)))):l(`Failed to update user role: ${e.error}`)}catch(i){l(`Error updating user role: ${i.message}`)}finally{p(null)}},y=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})};return t?(0,Xb.jsxs)("div",{className:"admin-cleaners-container",children:[(0,Xb.jsx)("div",{className:"admin-header",children:(0,Xb.jsx)("h1",{children:"Manage Cleaners"})}),o&&(0,Xb.jsx)("div",{className:"error-message",children:o}),(0,Xb.jsxs)("div",{className:"cleaners-filters",children:[(0,Xb.jsx)("div",{className:"search-bar",children:(0,Xb.jsx)("input",{type:"text",placeholder:"Search cleaners...",value:c,onChange:e=>{u(e.target.value)}})}),(0,Xb.jsxs)("div",{className:"filter-options",children:[(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"status-filter",children:"Status:"}),(0,Xb.jsxs)("select",{id:"status-filter",value:h,onChange:e=>{d(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Statuses"}),(0,Xb.jsx)("option",{value:"active",children:"Active"}),(0,Xb.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Xb.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:g,children:"Clear Filters"})]})]}),i?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading cleaners..."})]}):0===m.length?(0,Xb.jsxs)("div",{className:"no-cleaners-message",children:[(0,Xb.jsx)("p",{children:"No cleaners found matching your criteria."}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:g,children:"Clear Filters"})]}):(0,Xb.jsx)("div",{className:"cleaners-table-container",children:(0,Xb.jsxs)("table",{className:"cleaners-table",children:[(0,Xb.jsx)("thead",{children:(0,Xb.jsxs)("tr",{children:[(0,Xb.jsx)("th",{children:"Name"}),(0,Xb.jsx)("th",{children:"Email"}),(0,Xb.jsx)("th",{children:"Joined"}),(0,Xb.jsx)("th",{children:"Status"}),(0,Xb.jsx)("th",{children:"Credentials"}),(0,Xb.jsx)("th",{children:"Actions"})]})}),(0,Xb.jsx)("tbody",{children:m.map((e=>(0,Xb.jsxs)("tr",{children:[(0,Xb.jsx)("td",{children:e.displayName||"No Name"}),(0,Xb.jsx)("td",{children:e.email}),(0,Xb.jsx)("td",{children:y(e.createdAt)}),(0,Xb.jsx)("td",{children:(0,Xb.jsx)("span",{className:`status-badge ${e.status||"pending"}`,children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Pending"})}),(0,Xb.jsx)("td",{children:(0,Xb.jsxs)("div",{className:"credentials-icons",children:[e.abn&&(0,Xb.jsx)("span",{className:"credential-icon abn",title:"ABN Verified",children:"ABN"}),e.driverLicense&&(0,Xb.jsx)("span",{className:"credential-icon license",title:"Driver License Verified",children:"DL"}),e.whiteCard&&(0,Xb.jsx)("span",{className:"credential-icon white-card",title:"White Card Verified",children:"WC"}),e.blueCard&&(0,Xb.jsx)("span",{className:"credential-icon blue-card",title:"Blue Card Verified",children:"BC"})]})}),(0,Xb.jsx)("td",{children:(0,Xb.jsxs)("div",{className:"action-buttons",children:[(0,Xb.jsx)(Pe,{to:`/admin/cleaners/${e.id}`,className:"view-button",children:"View Profile"}),(0,Xb.jsx)("div",{className:"role-dropdown",children:(0,Xb.jsxs)("select",{value:e.role||"cleaner",onChange:t=>v(e.id,t.target.value),disabled:f===e.id,children:[(0,Xb.jsx)("option",{value:"cleaner",children:"Cleaner"}),(0,Xb.jsx)("option",{value:"admin",children:"Admin"})]})})]})})]},e.id)))})]})})]}):(0,Xb.jsx)("div",{className:"admin-cleaners-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[(0,Xb.jsx)("h2",{children:"Access Denied"}),(0,Xb.jsx)("p",{children:"You do not have permission to access the admin cleaners page."}),(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})})},Cw=()=>{const{currentUser:e,isAdmin:t}=ew(),n=ne(),[r,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(!1),[d,f]=(0,s.useState)(null),[p,m]=(0,s.useState)(""),[g,v]=(0,s.useState)(""),[y,b]=(0,s.useState)({title:"",description:"",category:"",imageUrl:"",status:"active",sections:[{title:"Introduction",description:"Welcome to the course",order:0,questions:[{text:"Are you ready to begin?",type:"boolean",options:[],required:!0}]}]}),w=["Post Construction Cleaning","Office Cleaning","Childcare Cleaning","School Cleaning","Customer Service Cleaning"];(0,s.useEffect)((()=>{(async()=>{if(e&&t)try{o(!0);const e=await Gb();e.success?i(e.courses):c("Failed to fetch courses")}catch(n){c("Error fetching courses: "+n.message)}finally{o(!1)}})()}),[e,t]);const x=r.filter((e=>{const t=e.title.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase()),n=!g||e.category===g;return t&&n})),N=()=>{m(""),v("")},E=e=>{const{name:t,value:n}=e.target;b({...y,[t]:n})},_=(e,t,n)=>{const r=[...y.sections];r[e]={...r[e],[t]:n},b({...y,sections:r})},C=(e,t,n,r)=>{const s=[...y.sections],i=[...s[e].questions];i[t]={...i[t],[n]:r},s[e]={...s[e],questions:i},b({...y,sections:s})},S=()=>{b({title:"",description:"",category:"",imageUrl:"",status:"active",sections:[{title:"Introduction",description:"Welcome to the course",order:0,questions:[{text:"Are you ready to begin?",type:"boolean",options:[],required:!0}]}]})};return t?(0,Xb.jsxs)("div",{className:"admin-courses-container",children:[(0,Xb.jsxs)("div",{className:"admin-header",children:[(0,Xb.jsx)("h1",{children:"Manage Training Courses"}),(0,Xb.jsx)("button",{className:"new-course-button",onClick:()=>{S(),h(!0),f(null)},children:"Create New Course"})]}),l&&(0,Xb.jsx)("div",{className:"error-message",children:l}),u?(0,Xb.jsxs)("div",{className:"course-form-container",children:[(0,Xb.jsx)("h2",{children:d?"Edit Course":"Create New Course"}),(0,Xb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y.title&&y.description&&y.category){for(const e of y.sections){if(!e.title)return void c("All sections must have a title");for(const t of e.questions){if(!t.text)return void c("All questions must have text");if("multiple-choice"===t.type&&(!t.options||t.options.length<2))return void c("Multiple choice questions must have at least two options")}}try{let e;if(o(!0),e=d?await(async(e,t)=>{try{return await wy(gv($b,"courses",e),{...t,updatedAt:(new Date).toISOString()}),{success:!0}}catch(l){return console.error("Error updating course:",l),{success:!1,error:l.message}}})(d,y):await(async e=>{try{return{success:!0,courseId:(await xy(mv($b,"courses"),{...e,createdAt:(new Date).toISOString(),status:"active"})).id}}catch(l){return console.error("Error creating course:",l),{success:!1,error:l.message}}})(y),e.success){const e=await Gb();e.success&&i(e.courses),S(),h(!1),f(null)}else c(e.error||"Failed to save course")}catch(t){c("Error saving course: "+t.message)}finally{o(!1)}}else c("Please fill in all required fields")},className:"course-form",children:[(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h3",{children:"Course Details"}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"title",children:"Course Title*"}),(0,Xb.jsx)("input",{type:"text",id:"title",name:"title",value:y.title,onChange:E,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"description",children:"Description*"}),(0,Xb.jsx)("textarea",{id:"description",name:"description",value:y.description,onChange:E,rows:4,required:!0})]}),(0,Xb.jsxs)("div",{className:"form-row",children:[(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"category",children:"Category*"}),(0,Xb.jsxs)("select",{id:"category",name:"category",value:y.category,onChange:E,required:!0,children:[(0,Xb.jsx)("option",{value:"",children:"Select Category"}),w.map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"status",children:"Status*"}),(0,Xb.jsxs)("select",{id:"status",name:"status",value:y.status,onChange:E,required:!0,children:[(0,Xb.jsx)("option",{value:"active",children:"Active"}),(0,Xb.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:"imageUrl",children:"Image URL (Optional)"}),(0,Xb.jsx)("input",{type:"text",id:"imageUrl",name:"imageUrl",value:y.imageUrl,onChange:E,placeholder:"https://example.com/image.jpg"})]})]}),(0,Xb.jsxs)("div",{className:"form-section",children:[(0,Xb.jsx)("h3",{children:"Course Content"}),(0,Xb.jsx)("p",{className:"help-text",children:"Create sections with up to 3 questions each in a Typeform-like format."}),y.sections.map(((e,t)=>(0,Xb.jsxs)("div",{className:"section-container",children:[(0,Xb.jsxs)("div",{className:"section-header",children:[(0,Xb.jsxs)("h4",{children:["Section ",t+1]}),(0,Xb.jsx)("button",{type:"button",className:"remove-button",onClick:()=>(e=>{if(y.sections.length<=1)return void c("Course must have at least one section");const t=y.sections.filter(((t,n)=>n!==e));t.forEach(((e,t)=>{e.order=t})),b({...y,sections:t})})(t),children:"Remove Section"})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:`section-${t}-title`,children:"Section Title*"}),(0,Xb.jsx)("input",{type:"text",id:`section-${t}-title`,value:e.title,onChange:e=>_(t,"title",e.target.value),required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:`section-${t}-description`,children:"Section Description*"}),(0,Xb.jsx)("textarea",{id:`section-${t}-description`,value:e.description,onChange:e=>_(t,"description",e.target.value),rows:2,required:!0})]}),(0,Xb.jsxs)("div",{className:"questions-container",children:[(0,Xb.jsx)("h5",{children:"Questions"}),e.questions.map(((e,n)=>(0,Xb.jsxs)("div",{className:"question-container",children:[(0,Xb.jsxs)("div",{className:"question-header",children:[(0,Xb.jsxs)("h6",{children:["Question ",n+1]}),(0,Xb.jsx)("button",{type:"button",className:"remove-button",onClick:()=>((e,t)=>{if(y.sections[e].questions.length<=1)return void c("Section must have at least one question");const n=[...y.sections],r=n[e].questions.filter(((e,n)=>n!==t));n[e]={...n[e],questions:r},b({...y,sections:n})})(t,n),children:"Remove"})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:`question-${t}-${n}-text`,children:"Question Text*"}),(0,Xb.jsx)("input",{type:"text",id:`question-${t}-${n}-text`,value:e.text,onChange:e=>C(t,n,"text",e.target.value),required:!0})]}),(0,Xb.jsxs)("div",{className:"form-group",children:[(0,Xb.jsx)("label",{htmlFor:`question-${t}-${n}-type`,children:"Question Type*"}),(0,Xb.jsxs)("select",{id:`question-${t}-${n}-type`,value:e.type,onChange:e=>C(t,n,"type",e.target.value),required:!0,children:[(0,Xb.jsx)("option",{value:"text",children:"Text Answer"}),(0,Xb.jsx)("option",{value:"multiple-choice",children:"Multiple Choice"}),(0,Xb.jsx)("option",{value:"boolean",children:"True/False"})]})]}),"multiple-choice"===e.type&&(0,Xb.jsxs)("div",{className:"options-container",children:[(0,Xb.jsx)("label",{children:"Options*"}),(e.options||[]).map(((e,r)=>(0,Xb.jsxs)("div",{className:"option-row",children:[(0,Xb.jsx)("input",{type:"text",value:e,onChange:e=>((e,t,n,r)=>{const s=[...y.sections],i=s[e].questions[t],a=[...i.options];a[n]=r,s[e].questions[t]={...i,options:a},b({...y,sections:s})})(t,n,r,e.target.value),placeholder:`Option ${r+1}`,required:!0}),(0,Xb.jsx)("button",{type:"button",className:"remove-option-button",onClick:()=>((e,t,n)=>{const r=[...y.sections],s=r[e].questions[t];if(s.options.length<=2)return void c("Multiple choice questions must have at least two options");const i=s.options.filter(((e,t)=>t!==n));r[e].questions[t]={...s,options:i},b({...y,sections:r})})(t,n,r),children:"\u2715"})]},r))),(0,Xb.jsx)("button",{type:"button",className:"add-option-button",onClick:()=>((e,t)=>{const n=[...y.sections],r=n[e].questions[t],s=r.options||[],i=`Option ${s.length+1}`;n[e].questions[t]={...r,options:[...s,i]},b({...y,sections:n})})(t,n),children:"Add Option"})]}),(0,Xb.jsxs)("div",{className:"form-group checkbox-group",children:[(0,Xb.jsx)("input",{type:"checkbox",id:`question-${t}-${n}-required`,checked:e.required,onChange:e=>C(t,n,"required",e.target.checked)}),(0,Xb.jsx)("label",{htmlFor:`question-${t}-${n}-required`,children:"Required"})]})]},n))),(0,Xb.jsx)("button",{type:"button",className:"add-question-button",onClick:()=>(e=>{const t=[...y.sections],n=t[e].questions,r={text:`Question ${n.length+1}`,type:"text",options:[],required:!0};t[e]={...t[e],questions:[...n,r]},b({...y,sections:t})})(t),children:"Add Question"})]})]},t))),(0,Xb.jsx)("button",{type:"button",className:"add-section-button",onClick:()=>{const e={title:`Section ${y.sections.length+1}`,description:"",order:y.sections.length,questions:[{text:"Question 1",type:"text",options:[],required:!0}]};b({...y,sections:[...y.sections,e]})},children:"Add Section"})]}),(0,Xb.jsxs)("div",{className:"form-actions",children:[(0,Xb.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>{S(),h(!1),f(null)},children:"Cancel"}),(0,Xb.jsx)("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Saving...":d?"Update Course":"Create Course"})]})]})]}):(0,Xb.jsxs)(Xb.Fragment,{children:[(0,Xb.jsxs)("div",{className:"courses-filters",children:[(0,Xb.jsx)("div",{className:"search-bar",children:(0,Xb.jsx)("input",{type:"text",placeholder:"Search courses...",value:p,onChange:e=>{m(e.target.value)}})}),(0,Xb.jsxs)("div",{className:"filter-options",children:[(0,Xb.jsxs)("div",{className:"filter-group",children:[(0,Xb.jsx)("label",{htmlFor:"category-filter",children:"Category:"}),(0,Xb.jsxs)("select",{id:"category-filter",value:g,onChange:e=>{v(e.target.value)},children:[(0,Xb.jsx)("option",{value:"",children:"All Categories"}),w.map((e=>(0,Xb.jsx)("option",{value:e,children:e},e)))]})]}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:N,children:"Clear Filters"})]})]}),a?(0,Xb.jsxs)("div",{className:"loading-container",children:[(0,Xb.jsx)("div",{className:"loading-spinner"}),(0,Xb.jsx)("p",{children:"Loading courses..."})]}):0===x.length?(0,Xb.jsxs)("div",{className:"no-courses-message",children:[(0,Xb.jsx)("p",{children:"No courses found matching your criteria."}),(0,Xb.jsx)("button",{className:"clear-filters-button",onClick:N,children:"Clear Filters"})]}):(0,Xb.jsx)("div",{className:"courses-grid",children:x.map((e=>(0,Xb.jsxs)("div",{className:"admin-course-card",children:[(0,Xb.jsxs)("div",{className:"course-image",children:[e.imageUrl?(0,Xb.jsx)("img",{src:e.imageUrl,alt:e.title}):(0,Xb.jsx)("div",{className:"placeholder-image",children:(0,Xb.jsx)("span",{children:e.title.charAt(0)})}),(0,Xb.jsx)("div",{className:"course-category",children:e.category}),(0,Xb.jsx)("div",{className:`course-status ${e.status}`,children:"active"===e.status?"Active":"Inactive"})]}),(0,Xb.jsxs)("div",{className:"course-content",children:[(0,Xb.jsx)("h3",{children:e.title}),(0,Xb.jsx)("p",{className:"course-description",children:e.description}),(0,Xb.jsxs)("div",{className:"course-meta",children:[(0,Xb.jsxs)("span",{children:[e.sections?e.sections.length:0," Sections"]}),(0,Xb.jsxs)("span",{children:[e.enrollments||0," Enrollments"]})]}),(0,Xb.jsxs)("div",{className:"course-actions",children:[(0,Xb.jsx)("button",{className:"edit-button",onClick:()=>(e=>{b({title:e.title,description:e.description,category:e.category,imageUrl:e.imageUrl||"",status:e.status||"active",sections:e.sections||[{title:"Introduction",description:"Welcome to the course",order:0,questions:[{text:"Are you ready to begin?",type:"boolean",options:[],required:!0}]}]}),f(e.id),h(!0)})(e),children:"Edit Course"}),(0,Xb.jsx)("button",{className:"view-button",onClick:()=>n(`/admin/courses/${e.id}/progress`),children:"View Progress"})]})]})]},e.id)))})]})]}):(0,Xb.jsx)("div",{className:"admin-courses-container",children:(0,Xb.jsxs)("div",{className:"error-message",children:[(0,Xb.jsx)("h2",{children:"Access Denied"}),(0,Xb.jsx)("p",{children:"You do not have permission to access the admin courses page."}),(0,Xb.jsx)(Pe,{to:"/dashboard",className:"back-link",children:"Return to Dashboard"})]})})};const Sw=function(){return(0,Xb.jsx)(Ae,{children:(0,Xb.jsx)(tw,{children:(0,Xb.jsxs)(Ee,{children:[(0,Xb.jsx)(xe,{path:"/login",element:(0,Xb.jsx)(aw,{})}),(0,Xb.jsx)(xe,{path:"/register",element:(0,Xb.jsx)(ow,{})}),(0,Xb.jsx)(xe,{path:"/forgot-password",element:(0,Xb.jsx)(lw,{})}),(0,Xb.jsx)(xe,{element:(0,Xb.jsx)(nw,{}),children:(0,Xb.jsxs)(xe,{element:(0,Xb.jsx)(iw,{}),children:[(0,Xb.jsx)(xe,{path:"/",element:(0,Xb.jsx)(be,{to:"/dashboard",replace:!0})}),(0,Xb.jsx)(xe,{path:"/dashboard",element:(0,Xb.jsx)(cw,{})}),(0,Xb.jsx)(xe,{path:"/jobs",element:(0,Xb.jsx)(hw,{})}),(0,Xb.jsx)(xe,{path:"/jobs/:id",element:(0,Xb.jsx)(dw,{})}),(0,Xb.jsx)(xe,{path:"/applications",element:(0,Xb.jsx)(fw,{})}),(0,Xb.jsx)(xe,{path:"/training",element:(0,Xb.jsx)(mw,{})}),(0,Xb.jsx)(xe,{path:"/training/:id",element:(0,Xb.jsx)(gw,{})}),(0,Xb.jsx)(xe,{path:"/progress",element:(0,Xb.jsx)(vw,{})}),(0,Xb.jsx)(xe,{path:"/completed-courses",element:(0,Xb.jsx)(yw,{})}),(0,Xb.jsx)(xe,{path:"/profile",element:(0,Xb.jsx)(ww,{})}),(0,Xb.jsx)(xe,{path:"/profile/:id",element:(0,Xb.jsx)(xw,{})}),(0,Xb.jsx)(xe,{path:"/admin",element:(0,Xb.jsx)(Nw,{})}),(0,Xb.jsx)(xe,{path:"/admin/jobs",element:(0,Xb.jsx)(Ew,{})}),(0,Xb.jsx)(xe,{path:"/admin/cleaners",element:(0,Xb.jsx)(_w,{})}),(0,Xb.jsx)(xe,{path:"/admin/courses",element:(0,Xb.jsx)(Cw,{})})]})}),(0,Xb.jsx)(xe,{path:"*",element:(0,Xb.jsx)(be,{to:"/login",replace:!0})})]})})})};_n(Vb);a.createRoot(document.getElementById("root")).render((0,Xb.jsx)(s.StrictMode,{children:(0,Xb.jsx)(Sw,{})}))})();
//# sourceMappingURL=main.6150cce8.js.map