{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getCourses}from'../firebase/firestore';import CourseCard from'../components/CourseCard';import'../styles/TrainingCourses.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrainingCourses=()=>{const[courses,setCourses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[searchTerm,setSearchTerm]=useState('');const[categoryFilter,setCategoryFilter]=useState('');// Categories for filtering\nconst categories=['Post Construction Cleaning','Office Cleaning','Childcare Cleaning','School Cleaning','Customer Service Cleaning'];useEffect(()=>{const fetchCourses=async()=>{try{setLoading(true);const filters={};if(categoryFilter){filters.category=categoryFilter;}const result=await getCourses(filters);if(result.success){setCourses(result.courses);}else{setError('Failed to fetch training courses');}}catch(err){setError('Error fetching training courses: '+err.message);}finally{setLoading(false);}};fetchCourses();},[categoryFilter]);// Filter courses based on search term\nconst filteredCourses=courses.filter(course=>{const searchTermLower=searchTerm.toLowerCase();return course.title.toLowerCase().includes(searchTermLower)||course.description.toLowerCase().includes(searchTermLower)||course.category.toLowerCase().includes(searchTermLower);});const handleSearchChange=e=>{setSearchTerm(e.target.value);};const handleCategoryChange=e=>{setCategoryFilter(e.target.value);};const clearFilters=()=>{setSearchTerm('');setCategoryFilter('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"training-courses-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Training Courses\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-filters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-bar\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search courses...\",value:searchTerm,onChange:handleSearchChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category-filter\",children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category-filter\",value:categoryFilter,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters-button\",onClick:clearFilters,children:\"Clear Filters\"})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading training courses...\"})]}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}):filteredCourses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-courses-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No courses found matching your criteria.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters-button\",onClick:clearFilters,children:\"Clear Filters\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"courses-grid\",children:filteredCourses.map(course=>/*#__PURE__*/_jsx(Link,{to:`/training/${course.id}`,className:\"course-card-link\",children:/*#__PURE__*/_jsx(CourseCard,{course:course})},course.id))})]});};export default TrainingCourses;","map":{"version":3,"names":["React","useState","useEffect","Link","getCourses","CourseCard","jsx","_jsx","jsxs","_jsxs","TrainingCourses","courses","setCourses","loading","setLoading","error","setError","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","categories","fetchCourses","filters","category","result","success","err","message","filteredCourses","filter","course","searchTermLower","toLowerCase","title","includes","description","handleSearchChange","e","target","value","handleCategoryChange","clearFilters","className","children","type","placeholder","onChange","htmlFor","id","map","onClick","length","to"],"sources":["/Users/kosiuko/Documents/mnv2spruces/src/pages/TrainingCourses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getCourses } from '../firebase/firestore';\nimport CourseCard from '../components/CourseCard';\nimport '../styles/TrainingCourses.css';\n\nconst TrainingCourses = () => {\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('');\n\n  // Categories for filtering\n  const categories = [\n    'Post Construction Cleaning',\n    'Office Cleaning',\n    'Childcare Cleaning',\n    'School Cleaning',\n    'Customer Service Cleaning'\n  ];\n\n  useEffect(() => {\n    const fetchCourses = async () => {\n      try {\n        setLoading(true);\n        const filters = {};\n        \n        if (categoryFilter) {\n          filters.category = categoryFilter;\n        }\n        \n        const result = await getCourses(filters);\n        \n        if (result.success) {\n          setCourses(result.courses);\n        } else {\n          setError('Failed to fetch training courses');\n        }\n      } catch (err) {\n        setError('Error fetching training courses: ' + err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCourses();\n  }, [categoryFilter]);\n\n  // Filter courses based on search term\n  const filteredCourses = courses.filter(course => {\n    const searchTermLower = searchTerm.toLowerCase();\n    return (\n      course.title.toLowerCase().includes(searchTermLower) ||\n      course.description.toLowerCase().includes(searchTermLower) ||\n      course.category.toLowerCase().includes(searchTermLower)\n    );\n  });\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleCategoryChange = (e) => {\n    setCategoryFilter(e.target.value);\n  };\n\n  const clearFilters = () => {\n    setSearchTerm('');\n    setCategoryFilter('');\n  };\n\n  return (\n    <div className=\"training-courses-container\">\n      <h1>Training Courses</h1>\n      \n      <div className=\"course-filters\">\n        <div className=\"search-bar\">\n          <input\n            type=\"text\"\n            placeholder=\"Search courses...\"\n            value={searchTerm}\n            onChange={handleSearchChange}\n          />\n        </div>\n        \n        <div className=\"filter-options\">\n          <div className=\"filter-group\">\n            <label htmlFor=\"category-filter\">Category:</label>\n            <select\n              id=\"category-filter\"\n              value={categoryFilter}\n              onChange={handleCategoryChange}\n            >\n              <option value=\"\">All Categories</option>\n              {categories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n          \n          <button className=\"clear-filters-button\" onClick={clearFilters}>\n            Clear Filters\n          </button>\n        </div>\n      </div>\n      \n      {loading ? (\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Loading training courses...</p>\n        </div>\n      ) : error ? (\n        <div className=\"error-message\">{error}</div>\n      ) : filteredCourses.length === 0 ? (\n        <div className=\"no-courses-message\">\n          <p>No courses found matching your criteria.</p>\n          <button className=\"clear-filters-button\" onClick={clearFilters}>\n            Clear Filters\n          </button>\n        </div>\n      ) : (\n        <div className=\"courses-grid\">\n          {filteredCourses.map(course => (\n            <Link to={`/training/${course.id}`} key={course.id} className=\"course-card-link\">\n              <CourseCard course={course} />\n            </Link>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TrainingCourses;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}