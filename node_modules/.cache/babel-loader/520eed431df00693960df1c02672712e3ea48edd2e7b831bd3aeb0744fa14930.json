{"ast":null,"code":"// Storage functions\nimport{ref,uploadBytes,getDownloadURL,deleteObject}from'firebase/storage';import{storage}from'./config';// Upload a file to Firebase Storage\nexport const uploadFile=async function(userId,file){let folder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'documents';try{// Create a reference to the file location\nconst fileRef=ref(storage,`${folder}/${userId}/${file.name}`);// Upload the file\nconst snapshot=await uploadBytes(fileRef,file);// Get the download URL\nconst downloadURL=await getDownloadURL(snapshot.ref);return{success:true,downloadURL,path:snapshot.ref.fullPath};}catch(error){console.error('Error uploading file:',error);return{success:false,error:error.message};}};// Get download URL for a file\nexport const getFileURL=async filePath=>{try{const fileRef=ref(storage,filePath);const downloadURL=await getDownloadURL(fileRef);return{success:true,downloadURL};}catch(error){console.error('Error getting file URL:',error);return{success:false,error:error.message};}};// Delete a file from Firebase Storage\nexport const deleteFile=async filePath=>{try{const fileRef=ref(storage,filePath);await deleteObject(fileRef);return{success:true};}catch(error){console.error('Error deleting file:',error);return{success:false,error:error.message};}};// Upload a profile image\nexport const uploadProfileImage=async(userId,file)=>{return uploadFile(userId,file,'profile-images');};// Upload a document (license, card, etc.)\nexport const uploadDocument=async(userId,file,documentType)=>{return uploadFile(userId,file,`documents/${documentType}`);};// Upload a course image\nexport const uploadCourseImage=async(courseId,file)=>{try{// Create a reference to the file location\nconst fileRef=ref(storage,`courses/${courseId}/image`);// Upload the file\nconst snapshot=await uploadBytes(fileRef,file);// Get the download URL\nconst downloadURL=await getDownloadURL(snapshot.ref);return{success:true,downloadURL,path:snapshot.ref.fullPath};}catch(error){console.error('Error uploading course image:',error);return{success:false,error:error.message};}};","map":{"version":3,"names":["ref","uploadBytes","getDownloadURL","deleteObject","storage","uploadFile","userId","file","folder","arguments","length","undefined","fileRef","name","snapshot","downloadURL","success","path","fullPath","error","console","message","getFileURL","filePath","deleteFile","uploadProfileImage","uploadDocument","documentType","uploadCourseImage","courseId"],"sources":["/Users/kosiuko/Documents/mnv2spruces/src/firebase/storage.js"],"sourcesContent":["// Storage functions\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { storage } from './config';\n\n// Upload a file to Firebase Storage\nexport const uploadFile = async (userId, file, folder = 'documents') => {\n  try {\n    // Create a reference to the file location\n    const fileRef = ref(storage, `${folder}/${userId}/${file.name}`);\n    \n    // Upload the file\n    const snapshot = await uploadBytes(fileRef, file);\n    \n    // Get the download URL\n    const downloadURL = await getDownloadURL(snapshot.ref);\n    \n    return {\n      success: true,\n      downloadURL,\n      path: snapshot.ref.fullPath\n    };\n  } catch (error) {\n    console.error('Error uploading file:', error);\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n// Get download URL for a file\nexport const getFileURL = async (filePath) => {\n  try {\n    const fileRef = ref(storage, filePath);\n    const downloadURL = await getDownloadURL(fileRef);\n    \n    return {\n      success: true,\n      downloadURL\n    };\n  } catch (error) {\n    console.error('Error getting file URL:', error);\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n// Delete a file from Firebase Storage\nexport const deleteFile = async (filePath) => {\n  try {\n    const fileRef = ref(storage, filePath);\n    await deleteObject(fileRef);\n    \n    return {\n      success: true\n    };\n  } catch (error) {\n    console.error('Error deleting file:', error);\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n// Upload a profile image\nexport const uploadProfileImage = async (userId, file) => {\n  return uploadFile(userId, file, 'profile-images');\n};\n\n// Upload a document (license, card, etc.)\nexport const uploadDocument = async (userId, file, documentType) => {\n  return uploadFile(userId, file, `documents/${documentType}`);\n};\n\n// Upload a course image\nexport const uploadCourseImage = async (courseId, file) => {\n  try {\n    // Create a reference to the file location\n    const fileRef = ref(storage, `courses/${courseId}/image`);\n    \n    // Upload the file\n    const snapshot = await uploadBytes(fileRef, file);\n    \n    // Get the download URL\n    const downloadURL = await getDownloadURL(snapshot.ref);\n    \n    return {\n      success: true,\n      downloadURL,\n      path: snapshot.ref.fullPath\n    };\n  } catch (error) {\n    console.error('Error uploading course image:', error);\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}